(function(){function C(a){console.log("$f.fireEvent",[].slice.call(a))}function y(a){if(!a||typeof a!="object"){return a}var e=new a.constructor();for(var b in a){if(a.hasOwnProperty(b)){e[b]=y(a[b])}}return e}function q(a,g){if(!a){return}var k,j=0,e=a.length;if(e===undefined){for(k in a){if(g.call(a[k],k,a[k])===false){break}}}else{for(var b=a[0];j<e&&g.call(b,j,b)!==false;b=a[++j]){}}return a}function G(a){return document.getElementById(a)}function A(a,b,e){if(typeof b!="object"){return a}if(a&&b){q(b,function(j,g){if(!e||typeof g!="function"){a[j]=g}})}return a}function o(a){var e=a.indexOf(".");if(e!=-1){var g=a.slice(0,e)||"*";var j=a.slice(e+1,a.length);var b=[];q(document.getElementsByTagName(g),function(){if(this.className&&this.className.indexOf(j)!=-1){b.push(this)}});return b}}function D(a){a=a||window.event;if(a.preventDefault){a.stopPropagation();a.preventDefault()}else{a.returnValue=false;a.cancelBubble=true}return false}function z(a,e,b){a[e]=a[e]||[];a[e].push(b)}function E(){return"_"+(""+Math.random()).slice(2,10)}var B=function(b,g,e){var j=this,k={},a={};j.index=g;if(typeof b=="string"){b={url:b}}A(this,b,true);q(("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop").split(","),function(){var J="on"+this;if(J.indexOf("*")!=-1){J=J.slice(0,J.length-1);var n="onBefore"+J.slice(2);j[n]=function(K){z(a,n,K);return j}}j[J]=function(K){z(a,J,K);return j};if(g==-1){if(j[n]){e[n]=j[n]}if(j[J]){e[J]=j[J]}}});A(this,{onCuepoint:function(n,J){if(arguments.length==1){k.embedded=[null,n];return j}if(typeof n=="number"){n=[n]}var K=E();k[K]=[n,J];if(e.isLoaded()){e._api().fp_addCuepoints(n,g,K)}return j},update:function(J){A(j,J);if(e.isLoaded()){e._api().fp_updateClip(J,g)}var K=e.getConfig();var n=(g==-1)?K.clip:K.playlist[g];A(n,J,true)},_fireEvent:function(L,N,K,J){if(L=="onLoad"){q(k,function(P,O){if(O[0]){e._api().fp_addCuepoints(O[0],g,P)}});return false}J=J||j;if(L=="onCuepoint"){var M=k[N];if(M){return M[1].call(e,J,K)}}if(N&&"onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(L)!=-1){A(J,N);if(N.metaData){if(!J.duration){J.duration=N.metaData.duration}else{J.fullDuration=N.metaData.duration}}}var n=true;q(a[L],function(){n=this.call(e,J,N,K)});return n}});if(b.onCuepoint){var l=b.onCuepoint;j.onCuepoint.apply(j,typeof l=="function"?[l]:l);delete b.onCuepoint}q(b,function(J,n){if(typeof n=="function"){z(a,J,n);delete b[J]}});if(g==-1){e.onCuepoint=this.onCuepoint}};var u=function(k,g,j,b){var l=this,e={},a=false;if(b){A(e,b)}q(g,function(J,n){if(typeof n=="function"){e[J]=n;delete g[J]}});A(this,{animate:function(M,L,n){if(!M){return l}if(typeof L=="function"){n=L;L=500}if(typeof M=="string"){var J=M;M={};M[J]=L;L=500}if(n){var K=E();e[K]=n}if(L===undefined){L=500}g=j._api().fp_animate(k,M,L,K);return l},css:function(J,n){if(n!==undefined){var K={};K[J]=n;J=K}g=j._api().fp_css(k,J);A(l,g);return l},show:function(){this.display="block";j._api().fp_showPlugin(k);return l},hide:function(){this.display="none";j._api().fp_hidePlugin(k);return l},toggle:function(){this.display=j._api().fp_togglePlugin(k);return l},fadeTo:function(L,n,J){if(typeof n=="function"){J=n;n=500}if(J){var K=E();e[K]=J}this.display=j._api().fp_fadeTo(k,L,n,K);this.opacity=L;return l},fadeIn:function(n,J){return l.fadeTo(1,n,J)},fadeOut:function(n,J){return l.fadeTo(0,n,J)},getName:function(){return k},getPlayer:function(){return j},_fireEvent:function(K,L,J){if(K=="onUpdate"){var M=j._api().fp_getPlugin(k);if(!M){return}A(l,M);delete l.methods;if(!a){q(M.methods,function(){var O=""+this;l[O]=function(){var Q=[].slice.call(arguments);var P=j._api().fp_invoke(k,O,Q);return P==="undefined"||P===undefined?l:P}});a=true}}var n=e[K];if(n){var N=n.apply(l,L);if(K.slice(0,1)=="_"){delete e[K]}return N}return l}})};function H(Q,j,K){var g=this,k=null,M=false,n,L,l=[],b={},e={},J,O,S,N,T,R;A(g,{id:function(){return J},isLoaded:function(){return(k!==null&&k.fp_play!==undefined&&!M)},getParent:function(){return Q},hide:function(U){if(U){Q.style.height="0px"}if(g.isLoaded()){k.style.height="0px"}return g},show:function(){Q.style.height=R+"px";if(g.isLoaded()){k.style.height=T+"px"}return g},isHidden:function(){return g.isLoaded()&&parseInt(k.style.height,10)===0},load:function(U){if(!g.isLoaded()&&g._fireEvent("onBeforeLoad")!==false){var W=function(){if(n&&!flashembed.isSupported(j.version)){Q.innerHTML=""}if(U){U.cached=true;z(e,"onLoad",U)}flashembed(Q,j,{config:K})};var V=0;q(I,function(){this.unload(function(X){if(++V==I.length){W()}})})}return g},unload:function(U){if(n.replace(/\s/g,"")!==""){if(g._fireEvent("onBeforeUnload")===false){if(U){U(false)}return g}M=true;try{if(k){k.fp_close();g._fireEvent("onUnload")}}catch(W){}var V=function(){k=null;Q.innerHTML=n;M=false;if(U){U(true)}};if(/WebKit/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent)){setTimeout(V,0)}else{V()}}else{if(U){U(false)}}return g},getClip:function(U){if(U===undefined){U=N}return l[U]},getCommonClip:function(){return L},getPlaylist:function(){return l},getPlugin:function(W){var U=b[W];if(!U&&g.isLoaded()){var V=g._api().fp_getPlugin(W);if(V){U=new u(W,V,g);b[W]=U}}return U},getScreen:function(){return g.getPlugin("screen")},getControls:function(){return g.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return g.getPlugin("logo")._fireEvent("onUpdate")}catch(U){}},getPlay:function(){return g.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(U){return U?y(K):K},getFlashParams:function(){return j},loadPlugin:function(V,W,aa,U){if(typeof aa=="function"){U=aa;aa={}}var X=U?E():"_";g._api().fp_loadPlugin(V,W,aa,X);var Y={};Y[X]=U;var Z=new u(V,null,g,Y);b[V]=Z;return Z},getState:function(){return g.isLoaded()?k.fp_getState():-1},play:function(V,W){var U=function(){if(V!==undefined){g._api().fp_play(V,W)}else{g._api().fp_play()}};if(g.isLoaded()){U()}else{if(M){setTimeout(function(){g.play(V,W)},50)}else{g.load(function(){U()})}}return g},getVersion:function(){var U="flowplayer.js 3.2.10";if(g.isLoaded()){var V=k.fp_getVersion();V.push(U);return V}return U},_api:function(){if(!g.isLoaded()){throw"Flowplayer "+g.id()+" not loaded when calling an API method"}return k},setClip:function(U){q(U,function(W,V){if(typeof V=="function"){z(e,W,V);delete U[W]}else{if(W=="onCuepoint"){$f(Q).getCommonClip().onCuepoint(U[W][0],U[W][1])}}});g.setPlaylist([U]);return g},getIndex:function(){return S},bufferAnimate:function(U){k.fp_bufferAnimate(U===undefined||U);return g},_swfHeight:function(){return k.clientHeight}});q(("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut").split(","),function(){var V="on"+this;if(V.indexOf("*")!=-1){V=V.slice(0,V.length-1);var U="onBefore"+V.slice(2);g[U]=function(W){z(e,U,W);return g}}g[V]=function(W){z(e,V,W);return g}});q(("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled").split(","),function(){var U=this;g[U]=function(W,X){if(!g.isLoaded()){return g}var V=null;if(W!==undefined&&X!==undefined){V=k["fp_"+U](W,X)}else{V=(W===undefined)?k["fp_"+U]():k["fp_"+U](W)}return V==="undefined"||V===undefined?g:V}});g._fireEvent=function(V){if(typeof V=="string"){V=[V]}var U=V[0],X=V[1],Z=V[2],aa=V[3],ab=0;if(K.debug){C(V)}if(!g.isLoaded()&&U=="onLoad"&&X=="player"){k=k||G(O);T=g._swfHeight();q(l,function(){this._fireEvent("onLoad")});q(b,function(ag,af){af._fireEvent("onUpdate")});L._fireEvent("onLoad")}if(U=="onLoad"&&X!="player"){return}if(U=="onError"){if(typeof X=="string"||(typeof X=="number"&&typeof Z=="number")){X=Z;Z=aa}}if(U=="onContextMenu"){q(K.contextMenu[X],function(ag,af){af.call(g)});return}if(U=="onPluginEvent"||U=="onBeforePluginEvent"){var ae=X.name||X;var ad=b[ae];if(ad){ad._fireEvent("onUpdate",X);return ad._fireEvent(Z,V.slice(3))}return}if(U=="onPlaylistReplace"){l=[];var Y=0;q(X,function(){l.push(new B(this,Y++,g))})}if(U=="onClipAdd"){if(X.isInStream){return}X=new B(X,Z,g);l.splice(Z,0,X);for(ab=Z+1;ab<l.length;ab++){l[ab].index++}}var W=true;if(typeof X=="number"&&X<l.length){N=X;var ac=l[X];if(ac){W=ac._fireEvent(U,Z,aa)}if(!ac||W!==false){W=L._fireEvent(U,Z,aa,ac)}}q(e[U],function(){W=this.call(g,X,Z);if(this.cached){e[U].splice(ab,1)}if(W===false){return false}ab++});return W};function P(){if($f(Q)){$f(Q).getParent().innerHTML="";S=$f(Q).getIndex();I[S]=g}else{I.push(g);S=I.length-1}R=parseInt(Q.style.height,10)||Q.clientHeight;J=Q.id||"fp"+E();O=j.id||J+"_api";j.id=O;n=Q.innerHTML;if(typeof K=="string"){K={clip:{url:K}}}K.playerId=J;K.clip=K.clip||{};if(Q.getAttribute("href",2)&&!K.clip.url){K.clip.url=Q.getAttribute("href",2)}L=new B(K.clip,-1,g);K.playlist=K.playlist||[K.clip];var W=0;q(K.playlist,function(){var Y=this;if(typeof Y=="object"&&Y.length){Y={url:""+Y}}q(K.clip,function(aa,Z){if(Z!==undefined&&Y[aa]===undefined&&typeof Z!="function"){Y[aa]=Z}});K.playlist[W]=Y;Y=new B(Y,W,g);l.push(Y);W++});q(K,function(Y,Z){if(typeof Z=="function"){if(L[Y]){L[Y](Z)}else{z(e,Y,Z)}delete K[Y]}});q(K.plugins,function(Y,Z){if(Z){b[Y]=new u(Y,Z,g)}});if(!K.plugins||K.plugins.controls===undefined){b.controls=new u("controls",null,g)}b.canvas=new u("canvas",null,g);n=Q.innerHTML;function U(Y){if(/iPad|iPhone|iPod/i.test(navigator.userAgent)&&!/.flv$/i.test(l[0].url)&&!V()){return true}if(!g.isLoaded()&&g._fireEvent("onBeforeClick")!==false){g.load()}return D(Y)}function V(){return g.hasiPadSupport&&g.hasiPadSupport()}function X(){if(n.replace(/\s/g,"")!==""){if(Q.addEventListener){Q.addEventListener("click",U,false)}else{if(Q.attachEvent){Q.attachEvent("onclick",U)}}}else{if(Q.addEventListener&&!V()){Q.addEventListener("click",D,false)}g.load()}}setTimeout(X,0)}if(typeof Q=="string"){var a=G(Q);if(!a){throw"Flowplayer cannot access element: "+Q}Q=a;P()}else{P()}}var I=[];function F(b){this.length=b.length;this.each=function(e){q(b,e)};this.size=function(){return b.length};var a=this;for(name in H.prototype){a[name]=function(){var e=arguments;a.each(function(){this[name].apply(this,e)})}}}window.flowplayer=window.$f=function(){var j=null;var k=arguments[0];if(!arguments.length){q(I,function(){if(this.isLoaded()){j=this;return false}});return j||I[0]}if(arguments.length==1){if(typeof k=="number"){return I[k]}else{if(k=="*"){return new F(I)}q(I,function(){if(this.id()==k.id||this.id()==k||this.getParent()==k){j=this;return false}});return j}}if(arguments.length>1){var a=arguments[1],g=(arguments.length==3)?arguments[2]:{};if(typeof a=="string"){a={src:a}}a=A({bgcolor:"#000000",version:[10,1],expressInstall:"http://releases.flowplayer.org/swf/expressinstall.swf",cachebusting:false},a);if(typeof k=="string"){if(k.indexOf(".")!=-1){var b=[];q(o(k),function(){b.push(new H(this,y(a),y(g)))});return new F(b)}else{var e=G(k);return new H(e!==null?e:y(k),y(a),y(g))}}else{if(k){return new H(k,y(a),y(g))}}}return null};A(window.$f,{fireEvent:function(){var b=[].slice.call(arguments);var a=$f(b[0]);return a?a._fireEvent(b.slice(1)):null},addPlugin:function(b,a){H.prototype[b]=a;return $f},each:q,extend:A});if(typeof jQuery=="function"){jQuery.fn.flowplayer=function(a,b){if(!arguments.length||typeof arguments[0]=="number"){var e=[];this.each(function(){var g=$f(this);if(g){e.push(g)}});return arguments.length?e[arguments[0]]:new F(e)}return this.each(function(){$f(this,y(a),b?y(b):{})})}}})();(function(){var q=document.all,n="http://www.adobe.com/go/getflashplayer",A=typeof jQuery=="function",y=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,B={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:false,cachebusting:false};if(window.attachEvent){window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}})}function o(a,b){if(b){for(var e in b){if(b.hasOwnProperty(e)){a[e]=b[e]}}}return a}function C(e,g){var a=[];for(var b in e){if(e.hasOwnProperty(b)){a[b]=g(e[b])}}return a}window.flashembed=function(e,a,b){if(typeof e=="string"){e=document.getElementById(e.replace("#",""))}if(!e){return}if(typeof a=="string"){a={src:a}}return new z(e,o(o({},B),a),b)};var u=o(window.flashembed,{conf:B,getVersion:function(){var a,e;try{e=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(g){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");e=a&&a.GetVariable("$version")}catch(j){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");e=a&&a.GetVariable("$version")}catch(b){}}}e=y.exec(e);return e?[1*e[1],1*e[(e[1]*1>9?2:3)]*1]:[0,0]},asString:function(b){if(b===null||b===undefined){return null}var e=typeof b;if(e=="object"&&b.push){e="array"}switch(e){case"string":b=b.replace(new RegExp('(["\\\\])',"g"),"\\$1");b=b.replace(/^\s?(\d+\.?\d*)%/,"$1pct");return'"'+b+'"';case"array":return"["+C(b,function(j){return u.asString(j)}).join(",")+"]";case"function":return'"function()"';case"object":var a=[];for(var g in b){if(b.hasOwnProperty(g)){a.push('"'+g+'":'+u.asString(b[g]))}}return"{"+a.join(",")+"}"}return String(b).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(k,b){k=o({},k);var D='<object width="'+k.width+'" height="'+k.height+'" id="'+k.id+'" name="'+k.id+'"';if(k.cachebusting){k.src+=((k.src.indexOf("?")!=-1?"&":"?")+Math.random())}if(k.w3c||!q){D+=' data="'+k.src+'" type="application/x-shockwave-flash"'}else{D+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'}D+=">";if(k.w3c||q){D+='<param name="movie" value="'+k.src+'" />'}k.width=k.height=k.id=k.w3c=k.src=null;k.onFail=k.version=k.expressInstall=null;for(var a in k){if(k[a]){D+='<param name="'+a+'" value="'+k[a]+'" />'}}var j="";if(b){for(var g in b){if(b[g]){var e=b[g];j+=g+"="+(/function|object/.test(typeof e)?u.asString(e):e)+"&"}}j=j.slice(0,-1);D+='<param name="flashvars" value=\''+j+"' />"}D+="</object>";return D},isSupported:function(a){return l[0]>a[0]||l[0]==a[0]&&l[1]>=a[1]}});var l=u.getVersion();function z(e,g,a){if(u.isSupported(g.version)){e.innerHTML=u.getHTML(g,a)}else{if(g.expressInstall&&u.isSupported([6,65])){e.innerHTML=u.getHTML(o(g,{src:g.expressInstall}),{MMredirectURL:encodeURIComponent(location.href),MMplayerType:"PlugIn",MMdoctitle:document.title})}else{if(!e.innerHTML.replace(/\s/g,"")){e.innerHTML="<h2>Flash version "+g.version+" or greater is required</h2><h3>"+(l[0]>0?"Your version is "+l:"You have no flash plugin installed")+"</h3>"+(e.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+n+"'>here</a></p>");if(e.tagName=="A"||e.tagName=="DIV"){e.onclick=function(){location.href=n}}}if(g.onFail){var b=g.onFail.call(this);if(typeof b=="string"){e.innerHTML=b}}}}if(q){window[g.id]=document.getElementById(g.id)}o(this,{getRoot:function(){return e},getOptions:function(){return g},getConf:function(){return a},getApi:function(){return e.firstChild}})}if(A){jQuery.tools=jQuery.tools||{version:"3.2.10"};jQuery.tools.flashembed={conf:B};jQuery.fn.flashembed=function(a,b){return this.each(function(){$(this).data("flashembed",flashembed(this,a,b))})}}})();
/*!
 * jQuery JavaScript Library v1.8.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Thu Sep 20 2012 21:13:05 GMT-0400 (Eastern Daylight Time)
 */
(function(bf,aO){var J,at,B=bf.document,aV=bf.location,j=bf.navigator,bt=bf.jQuery,V=bf.$,aA=Array.prototype.push,bh=Array.prototype.slice,aX=Array.prototype.indexOf,M=Object.prototype.toString,ai=Object.prototype.hasOwnProperty,a1=String.prototype.trim,bT=function(e,cc){return new bT.fn.init(e,cc,J)},bK=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,an=/\S/,a8=/\s+/,P=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bB=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bs=/^[\],:{}\s]*$/,bv=/(?:^|:|,)(?:\s*\[)+/g,bQ=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bd=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,b2=/^-ms-/,a7=/-([\da-z])/gi,aa=function(e,cc){return(cc+"").toUpperCase()},aS=function(){if(B.addEventListener){B.removeEventListener("DOMContentLoaded",aS,false);bT.ready()}else{if(B.readyState==="complete"){B.detachEvent("onreadystatechange",aS);bT.ready()}}},am={};bT.fn=bT.prototype={constructor:bT,init:function(e,cf,ce){var cd,cg,cc,ch;if(!e){return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){cd=[null,e,null]}else{cd=bB.exec(e)}if(cd&&(cd[1]||!cf)){if(cd[1]){cf=cf instanceof bT?cf[0]:cf;ch=(cf&&cf.nodeType?cf.ownerDocument||cf:B);e=bT.parseHTML(cd[1],ch,true);if(a.test(cd[1])&&bT.isPlainObject(cf)){this.attr.call(e,cf,true)}return bT.merge(this,e)}else{cg=B.getElementById(cd[2]);if(cg&&cg.parentNode){if(cg.id!==cd[2]){return ce.find(e)}this.length=1;this[0]=cg}this.context=B;this.selector=e;return this}}else{if(!cf||cf.jquery){return(cf||ce).find(e)}else{return this.constructor(cf).find(e)}}}else{if(bT.isFunction(e)){return ce.ready(e)}}if(e.selector!==aO){this.selector=e.selector;this.context=e.context}return bT.makeArray(e,this)},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return bh.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(cc,ce,e){var cd=bT.merge(this.constructor(),cc);cd.prevObject=this;cd.context=this.context;if(ce==="find"){cd.selector=this.selector+(this.selector?" ":"")+e}else{if(ce){cd.selector=this.selector+"."+ce+"("+e+")"}}return cd},each:function(cc,e){return bT.each(this,cc,e)},ready:function(e){bT.ready.promise().done(e);return this},eq:function(e){e=+e;return e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bh.apply(this,arguments),"slice",bh.call(arguments).join(","))},map:function(e){return this.pushStack(bT.map(this,function(cd,cc){return e.call(cd,cc,cd)}))},end:function(){return this.prevObject||this.constructor(null)},push:aA,sort:[].sort,splice:[].splice};bT.fn.init.prototype=bT.fn;bT.extend=bT.fn.extend=function(){var ck,cd,e,cc,ch,ci,cg=arguments[0]||{},cf=1,ce=arguments.length,cj=false;if(typeof cg==="boolean"){cj=cg;cg=arguments[1]||{};cf=2}if(typeof cg!=="object"&&!bT.isFunction(cg)){cg={}}if(ce===cf){cg=this;--cf}for(;cf<ce;cf++){if((ck=arguments[cf])!=null){for(cd in ck){e=cg[cd];cc=ck[cd];if(cg===cc){continue}if(cj&&cc&&(bT.isPlainObject(cc)||(ch=bT.isArray(cc)))){if(ch){ch=false;ci=e&&bT.isArray(e)?e:[]}else{ci=e&&bT.isPlainObject(e)?e:{}}cg[cd]=bT.extend(cj,ci,cc)}else{if(cc!==aO){cg[cd]=cc}}}}}return cg};bT.extend({noConflict:function(e){if(bf.$===bT){bf.$=V}if(e&&bf.jQuery===bT){bf.jQuery=bt}return bT},isReady:false,readyWait:1,holdReady:function(e){if(e){bT.readyWait++}else{bT.ready(true)}},ready:function(e){if(e===true?--bT.readyWait:bT.isReady){return}if(!B.body){return setTimeout(bT.ready,1)}bT.isReady=true;if(e!==true&&--bT.readyWait>0){return}at.resolveWith(B,[bT]);if(bT.fn.trigger){bT(B).trigger("ready").off("ready")}},isFunction:function(e){return bT.type(e)==="function"},isArray:Array.isArray||function(e){return bT.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):am[M.call(e)]||"object"},isPlainObject:function(ce){if(!ce||bT.type(ce)!=="object"||ce.nodeType||bT.isWindow(ce)){return false}try{if(ce.constructor&&!ai.call(ce,"constructor")&&!ai.call(ce.constructor.prototype,"isPrototypeOf")){return false}}catch(cd){return false}var cc;for(cc in ce){}return cc===aO||ai.call(ce,cc)},isEmptyObject:function(cc){var e;for(e in cc){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(ce,cd,e){var cc;if(!ce||typeof ce!=="string"){return null}if(typeof cd==="boolean"){e=cd;cd=0}cd=cd||B;if((cc=a.exec(ce))){return[cd.createElement(cc[1])]}cc=bT.buildFragment([ce],cd,e?null:[]);return bT.merge([],(cc.cacheable?bT.clone(cc.fragment):cc.fragment).childNodes)},parseJSON:function(e){if(!e||typeof e!=="string"){return null}e=bT.trim(e);if(bf.JSON&&bf.JSON.parse){return bf.JSON.parse(e)}if(bs.test(e.replace(bQ,"@").replace(bd,"]").replace(bv,""))){return(new Function("return "+e))()}bT.error("Invalid JSON: "+e)},parseXML:function(ce){var cc,cd;if(!ce||typeof ce!=="string"){return null}try{if(bf.DOMParser){cd=new DOMParser();cc=cd.parseFromString(ce,"text/xml")}else{cc=new ActiveXObject("Microsoft.XMLDOM");cc.async="false";cc.loadXML(ce)}}catch(cf){cc=aO}if(!cc||!cc.documentElement||cc.getElementsByTagName("parsererror").length){bT.error("Invalid XML: "+ce)}return cc},noop:function(){},globalEval:function(e){if(e&&an.test(e)){(bf.execScript||function(cc){bf["eval"].call(bf,cc)})(e)}},camelCase:function(e){return e.replace(b2,"ms-").replace(a7,aa)},nodeName:function(cc,e){return cc.nodeName&&cc.nodeName.toLowerCase()===e.toLowerCase()},each:function(cg,ch,cd){var cc,ce=0,cf=cg.length,e=cf===aO||bT.isFunction(cg);if(cd){if(e){for(cc in cg){if(ch.apply(cg[cc],cd)===false){break}}}else{for(;ce<cf;){if(ch.apply(cg[ce++],cd)===false){break}}}}else{if(e){for(cc in cg){if(ch.call(cg[cc],cc,cg[cc])===false){break}}}else{for(;ce<cf;){if(ch.call(cg[ce],ce,cg[ce++])===false){break}}}}return cg},trim:a1&&!a1.call("\uFEFF\xA0")?function(e){return e==null?"":a1.call(e)}:function(e){return e==null?"":(e+"").replace(P,"")},makeArray:function(e,cd){var ce,cc=cd||[];if(e!=null){ce=bT.type(e);if(e.length==null||ce==="string"||ce==="function"||ce==="regexp"||bT.isWindow(e)){aA.call(cc,e)}else{bT.merge(cc,e)}}return cc},inArray:function(ce,cc,cd){var e;if(cc){if(aX){return aX.call(cc,ce,cd)}e=cc.length;cd=cd?cd<0?Math.max(0,e+cd):cd:0;for(;cd<e;cd++){if(cd in cc&&cc[cd]===ce){return cd}}}return -1},merge:function(cf,cd){var e=cd.length,ce=cf.length,cc=0;if(typeof e==="number"){for(;cc<e;cc++){cf[ce++]=cd[cc]}}else{while(cd[cc]!==aO){cf[ce++]=cd[cc++]}}cf.length=ce;return cf},grep:function(cc,ch,e){var cg,cd=[],ce=0,cf=cc.length;e=!!e;for(;ce<cf;ce++){cg=!!ch(cc[ce],ce);if(e!==cg){cd.push(cc[ce])}}return cd},map:function(e,ci,cj){var cg,ch,cf=[],cd=0,cc=e.length,ce=e instanceof bT||cc!==aO&&typeof cc==="number"&&((cc>0&&e[0]&&e[cc-1])||cc===0||bT.isArray(e));if(ce){for(;cd<cc;cd++){cg=ci(e[cd],cd,cj);if(cg!=null){cf[cf.length]=cg}}}else{for(ch in e){cg=ci(e[ch],ch,cj);if(cg!=null){cf[cf.length]=cg}}}return cf.concat.apply([],cf)},guid:1,proxy:function(cf,ce){var cd,e,cc;if(typeof ce==="string"){cd=cf[ce];ce=cf;cf=cd}if(!bT.isFunction(cf)){return aO}e=bh.call(arguments,2);cc=function(){return cf.apply(ce,e.concat(bh.call(arguments)))};cc.guid=cf.guid=cf.guid||bT.guid++;return cc},access:function(e,ch,ck,ci,cf,cl,cj){var cd,cg=ck==null,ce=0,cc=e.length;if(ck&&typeof ck==="object"){for(ce in ck){bT.access(e,ch,ce,ck[ce],1,cl,ci)}cf=1}else{if(ci!==aO){cd=cj===aO&&bT.isFunction(ci);if(cg){if(cd){cd=ch;ch=function(co,cn,cp){return cd.call(bT(co),cp)}}else{ch.call(e,ci);ch=null}}if(ch){for(;ce<cc;ce++){ch(e[ce],ck,cd?ci.call(e[ce],ce,ch(e[ce],ck)):ci,cj)}}cf=1}}return cf?e:cg?ch.call(e):cc?ch(e[0],ck):cl},now:function(){return(new Date()).getTime()}});bT.ready.promise=function(cf){if(!at){at=bT.Deferred();if(B.readyState==="complete"){setTimeout(bT.ready,1)}else{if(B.addEventListener){B.addEventListener("DOMContentLoaded",aS,false);bf.addEventListener("load",bT.ready,false)}else{B.attachEvent("onreadystatechange",aS);bf.attachEvent("onload",bT.ready);var ce=false;try{ce=bf.frameElement==null&&B.documentElement}catch(cd){}if(ce&&ce.doScroll){(function cc(){if(!bT.isReady){try{ce.doScroll("left")}catch(cg){return setTimeout(cc,50)}bT.ready()}})()}}}}return at.promise(cf)};bT.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(cc,e){am["[object "+e+"]"]=e.toLowerCase()});J=bT(B);var b7={};function ap(cc){var e=b7[cc]={};bT.each(cc.split(a8),function(ce,cd){e[cd]=true});return e}bT.Callbacks=function(cl){cl=typeof cl==="string"?(b7[cl]||ap(cl)):bT.extend({},cl);var ce,e,cf,cd,cg,ch,ci=[],cj=!cl.once&&[],cc=function(cn){ce=cl.memory&&cn;e=true;ch=cd||0;cd=0;cg=ci.length;cf=true;for(;ci&&ch<cg;ch++){if(ci[ch].apply(cn[0],cn[1])===false&&cl.stopOnFalse){ce=false;break}}cf=false;if(ci){if(cj){if(cj.length){cc(cj.shift())}}else{if(ce){ci=[]}else{ck.disable()}}}},ck={add:function(){if(ci){var co=ci.length;(function cn(cp){bT.each(cp,function(cr,cq){var cs=bT.type(cq);if(cs==="function"&&(!cl.unique||!ck.has(cq))){ci.push(cq)}else{if(cq&&cq.length&&cs!=="string"){cn(cq)}}})})(arguments);if(cf){cg=ci.length}else{if(ce){cd=co;cc(ce)}}}return this},remove:function(){if(ci){bT.each(arguments,function(cp,cn){var co;while((co=bT.inArray(cn,ci,co))>-1){ci.splice(co,1);if(cf){if(co<=cg){cg--}if(co<=ch){ch--}}}})}return this},has:function(cn){return bT.inArray(cn,ci)>-1},empty:function(){ci=[];return this},disable:function(){ci=cj=ce=aO;return this},disabled:function(){return !ci},lock:function(){cj=aO;if(!ce){ck.disable()}return this},locked:function(){return !cj},fireWith:function(co,cn){cn=cn||[];cn=[co,cn.slice?cn.slice():cn];if(ci&&(!e||cj)){if(cf){cj.push(cn)}else{cc(cn)}}return this},fire:function(){ck.fireWith(this,arguments);return this},fired:function(){return !!e}};return ck};bT.extend({Deferred:function(cd){var cc=[["resolve","done",bT.Callbacks("once memory"),"resolved"],["reject","fail",bT.Callbacks("once memory"),"rejected"],["notify","progress",bT.Callbacks("memory")]],ce="pending",cf={state:function(){return ce},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var cg=arguments;return bT.Deferred(function(ch){bT.each(cc,function(cj,ci){var cl=ci[0],ck=cg[cj];e[ci[1]](bT.isFunction(ck)?function(){var cn=ck.apply(this,arguments);if(cn&&bT.isFunction(cn.promise)){cn.promise().done(ch.resolve).fail(ch.reject).progress(ch.notify)}else{ch[cl+"With"](this===e?ch:this,[cn])}}:ch[cl])});cg=null}).promise()},promise:function(cg){return cg!=null?bT.extend(cg,cf):cf}},e={};cf.pipe=cf.then;bT.each(cc,function(ch,cg){var cj=cg[2],ci=cg[3];cf[cg[1]]=cj.add;if(ci){cj.add(function(){ce=ci},cc[ch^1][2].disable,cc[2][2].lock)}e[cg[0]]=cj.fire;e[cg[0]+"With"]=cj.fireWith});cf.promise(e);if(cd){cd.call(e,e)}return e},when:function(cf){var cd=0,ch=bh.call(arguments),e=ch.length,cc=e!==1||(cf&&bT.isFunction(cf.promise))?e:0,ck=cc===1?cf:bT.Deferred(),ce=function(cn,co,cl){return function(cp){co[cn]=this;cl[cn]=arguments.length>1?bh.call(arguments):cp;if(cl===cj){ck.notifyWith(co,cl)}else{if(!(--cc)){ck.resolveWith(co,cl)}}}},cj,cg,ci;if(e>1){cj=new Array(e);cg=new Array(e);ci=new Array(e);for(;cd<e;cd++){if(ch[cd]&&bT.isFunction(ch[cd].promise)){ch[cd].promise().done(ce(cd,ci,ch)).fail(ck.reject).progress(ce(cd,cg,cj))}else{--cc}}}if(!cc){ck.resolveWith(ci,ch)}return ck.promise()}});bT.support=(function(){var cp,co,cl,cn,cf,ck,cj,ch,cg,ce,cc,cd=B.createElement("div");cd.setAttribute("className","t");cd.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";co=cd.getElementsByTagName("*");cl=cd.getElementsByTagName("a")[0];cl.style.cssText="top:1px;float:left;opacity:.5";if(!co||!co.length){return{}}cn=B.createElement("select");cf=cn.appendChild(B.createElement("option"));ck=cd.getElementsByTagName("input")[0];cp={leadingWhitespace:(cd.firstChild.nodeType===3),tbody:!cd.getElementsByTagName("tbody").length,htmlSerialize:!!cd.getElementsByTagName("link").length,style:/top/.test(cl.getAttribute("style")),hrefNormalized:(cl.getAttribute("href")==="/a"),opacity:/^0.5/.test(cl.style.opacity),cssFloat:!!cl.style.cssFloat,checkOn:(ck.value==="on"),optSelected:cf.selected,getSetAttribute:cd.className!=="t",enctype:!!B.createElement("form").enctype,html5Clone:B.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(B.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};ck.checked=true;cp.noCloneChecked=ck.cloneNode(true).checked;cn.disabled=true;cp.optDisabled=!cf.disabled;try{delete cd.test}catch(ci){cp.deleteExpando=false}if(!cd.addEventListener&&cd.attachEvent&&cd.fireEvent){cd.attachEvent("onclick",cc=function(){cp.noCloneEvent=false});cd.cloneNode(true).fireEvent("onclick");cd.detachEvent("onclick",cc)}ck=B.createElement("input");ck.value="t";ck.setAttribute("type","radio");cp.radioValue=ck.value==="t";ck.setAttribute("checked","checked");ck.setAttribute("name","t");cd.appendChild(ck);cj=B.createDocumentFragment();cj.appendChild(cd.lastChild);cp.checkClone=cj.cloneNode(true).cloneNode(true).lastChild.checked;cp.appendChecked=ck.checked;cj.removeChild(ck);cj.appendChild(cd);if(cd.attachEvent){for(cg in {submit:true,change:true,focusin:true}){ch="on"+cg;ce=(ch in cd);if(!ce){cd.setAttribute(ch,"return;");ce=(typeof cd[ch]==="function")}cp[cg+"Bubbles"]=ce}}bT(function(){var cq,cu,cs,ct,cr="padding:0;margin:0;border:0;display:block;overflow:hidden;",e=B.getElementsByTagName("body")[0];if(!e){return}cq=B.createElement("div");cq.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";e.insertBefore(cq,e.firstChild);cu=B.createElement("div");cq.appendChild(cu);cu.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cs=cu.getElementsByTagName("td");cs[0].style.cssText="padding:0;margin:0;border:0;display:none";ce=(cs[0].offsetHeight===0);cs[0].style.display="";cs[1].style.display="none";cp.reliableHiddenOffsets=ce&&(cs[0].offsetHeight===0);cu.innerHTML="";cu.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";cp.boxSizing=(cu.offsetWidth===4);cp.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(bf.getComputedStyle){cp.pixelPosition=(bf.getComputedStyle(cu,null)||{}).top!=="1%";cp.boxSizingReliable=(bf.getComputedStyle(cu,null)||{width:"4px"}).width==="4px";ct=B.createElement("div");ct.style.cssText=cu.style.cssText=cr;ct.style.marginRight=ct.style.width="0";cu.style.width="1px";cu.appendChild(ct);cp.reliableMarginRight=!parseFloat((bf.getComputedStyle(ct,null)||{}).marginRight)}if(typeof cu.style.zoom!=="undefined"){cu.innerHTML="";cu.style.cssText=cr+"width:1px;padding:1px;display:inline;zoom:1";cp.inlineBlockNeedsLayout=(cu.offsetWidth===3);cu.style.display="block";cu.style.overflow="visible";cu.innerHTML="<div></div>";cu.firstChild.style.width="5px";cp.shrinkWrapBlocks=(cu.offsetWidth!==3);cq.style.zoom=1}e.removeChild(cq);cq=cu=cs=ct=null});cj.removeChild(cd);co=cl=cn=cf=ck=cj=cd=null;return cp})();var bG=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aY=/([A-Z])/g;bT.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(bT.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bT.cache[e[bT.expando]]:e[bT.expando];return !!e&&!ab(e)},data:function(ce,cc,cg,cf){if(!bT.acceptData(ce)){return}var ch,cj,ck=bT.expando,ci=typeof cc==="string",cl=ce.nodeType,e=cl?bT.cache:ce,cd=cl?ce[ck]:ce[ck]&&ck;if((!cd||!e[cd]||(!cf&&!e[cd].data))&&ci&&cg===aO){return}if(!cd){if(cl){ce[ck]=cd=bT.deletedIds.pop()||bT.guid++}else{cd=ck}}if(!e[cd]){e[cd]={};if(!cl){e[cd].toJSON=bT.noop}}if(typeof cc==="object"||typeof cc==="function"){if(cf){e[cd]=bT.extend(e[cd],cc)}else{e[cd].data=bT.extend(e[cd].data,cc)}}ch=e[cd];if(!cf){if(!ch.data){ch.data={}}ch=ch.data}if(cg!==aO){ch[bT.camelCase(cc)]=cg}if(ci){cj=ch[cc];if(cj==null){cj=ch[bT.camelCase(cc)]}}else{cj=ch}return cj},removeData:function(ce,cc,cf){if(!bT.acceptData(ce)){return}var ci,ch,cg,cj=ce.nodeType,e=cj?bT.cache:ce,cd=cj?ce[bT.expando]:bT.expando;if(!e[cd]){return}if(cc){ci=cf?e[cd]:e[cd].data;if(ci){if(!bT.isArray(cc)){if(cc in ci){cc=[cc]}else{cc=bT.camelCase(cc);if(cc in ci){cc=[cc]}else{cc=cc.split(" ")}}}for(ch=0,cg=cc.length;ch<cg;ch++){delete ci[cc[ch]]}if(!(cf?ab:bT.isEmptyObject)(ci)){return}}}if(!cf){delete e[cd].data;if(!ab(e[cd])){return}}if(cj){bT.cleanData([ce],true)}else{if(bT.support.deleteExpando||e!=e.window){delete e[cd]}else{e[cd]=null}}},_data:function(cc,e,cd){return bT.data(cc,e,cd,true)},acceptData:function(cc){var e=cc.nodeName&&bT.noData[cc.nodeName.toLowerCase()];return !e||e!==true&&cc.getAttribute("classid")===e}});bT.fn.extend({data:function(ck,cj){var cf,cc,ci,e,ce,cd=this[0],ch=0,cg=null;if(ck===aO){if(this.length){cg=bT.data(cd);if(cd.nodeType===1&&!bT._data(cd,"parsedAttrs")){ci=cd.attributes;for(ce=ci.length;ch<ce;ch++){e=ci[ch].name;if(!e.indexOf("data-")){e=bT.camelCase(e.substring(5));bI(cd,e,cg[e])}}bT._data(cd,"parsedAttrs",true)}}return cg}if(typeof ck==="object"){return this.each(function(){bT.data(this,ck)})}cf=ck.split(".",2);cf[1]=cf[1]?"."+cf[1]:"";cc=cf[1]+"!";return bT.access(this,function(cl){if(cl===aO){cg=this.triggerHandler("getData"+cc,[cf[0]]);if(cg===aO&&cd){cg=bT.data(cd,ck);cg=bI(cd,ck,cg)}return cg===aO&&cf[1]?this.data(cf[0]):cg}cf[1]=cl;this.each(function(){var cn=bT(this);cn.triggerHandler("setData"+cc,cf);bT.data(this,ck,cl);cn.triggerHandler("changeData"+cc,cf)})},null,cj,arguments.length>1,null,false)},removeData:function(e){return this.each(function(){bT.removeData(this,e)})}});function bI(ce,cd,cf){if(cf===aO&&ce.nodeType===1){var cc="data-"+cd.replace(aY,"-$1").toLowerCase();cf=ce.getAttribute(cc);if(typeof cf==="string"){try{cf=cf==="true"?true:cf==="false"?false:cf==="null"?null:+cf+""===cf?+cf:bG.test(cf)?bT.parseJSON(cf):cf}catch(cg){}bT.data(ce,cd,cf)}else{cf=aO}}return cf}function ab(cc){var e;for(e in cc){if(e==="data"&&bT.isEmptyObject(cc[e])){continue}if(e!=="toJSON"){return false}}return true}bT.extend({queue:function(cd,cc,ce){var e;if(cd){cc=(cc||"fx")+"queue";e=bT._data(cd,cc);if(ce){if(!e||bT.isArray(ce)){e=bT._data(cd,cc,bT.makeArray(ce))}else{e.push(ce)}}return e||[]}},dequeue:function(cg,cf){cf=cf||"fx";var cc=bT.queue(cg,cf),ch=cc.length,ce=cc.shift(),e=bT._queueHooks(cg,cf),cd=function(){bT.dequeue(cg,cf)};if(ce==="inprogress"){ce=cc.shift();ch--}if(ce){if(cf==="fx"){cc.unshift("inprogress")}delete e.stop;ce.call(cg,cd,e)}if(!ch&&e){e.empty.fire()}},_queueHooks:function(cd,cc){var e=cc+"queueHooks";return bT._data(cd,e)||bT._data(cd,e,{empty:bT.Callbacks("once memory").add(function(){bT.removeData(cd,cc+"queue",true);bT.removeData(cd,e,true)})})}});bT.fn.extend({queue:function(e,cc){var cd=2;if(typeof e!=="string"){cc=e;e="fx";cd--}if(arguments.length<cd){return bT.queue(this[0],e)}return cc===aO?this:this.each(function(){var ce=bT.queue(this,e,cc);bT._queueHooks(this,e);if(e==="fx"&&ce[0]!=="inprogress"){bT.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bT.dequeue(this,e)})},delay:function(cc,e){cc=bT.fx?bT.fx.speeds[cc]||cc:cc;e=e||"fx";return this.queue(e,function(ce,cd){var cf=setTimeout(ce,cc);cd.stop=function(){clearTimeout(cf)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(cd,ch){var cc,ce=1,ci=bT.Deferred(),cg=this,e=this.length,cf=function(){if(!(--ce)){ci.resolveWith(cg,[cg])}};if(typeof cd!=="string"){ch=cd;cd=aO}cd=cd||"fx";while(e--){cc=bT._data(cg[e],cd+"queueHooks");if(cc&&cc.empty){ce++;cc.empty.add(cf)}}cf();return ci.promise(ch)}});var bk,b8,A,bW=/[\t\r\n]/g,aw=/\r/g,q=/^(?:button|input)$/i,aN=/^(?:button|input|object|select|textarea)$/i,Q=/^a(?:rea|)$/i,Z=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bY=bT.support.getSetAttribute;bT.fn.extend({attr:function(e,cc){return bT.access(this,bT.attr,e,cc,arguments.length>1)},removeAttr:function(e){return this.each(function(){bT.removeAttr(this,e)})},prop:function(e,cc){return bT.access(this,bT.prop,e,cc,arguments.length>1)},removeProp:function(e){e=bT.propFix[e]||e;return this.each(function(){try{this[e]=aO;delete this[e]}catch(cc){}})},addClass:function(cf){var ch,cd,cc,ce,cg,ci,e;if(bT.isFunction(cf)){return this.each(function(cj){bT(this).addClass(cf.call(this,cj,this.className))})}if(cf&&typeof cf==="string"){ch=cf.split(a8);for(cd=0,cc=this.length;cd<cc;cd++){ce=this[cd];if(ce.nodeType===1){if(!ce.className&&ch.length===1){ce.className=cf}else{cg=" "+ce.className+" ";for(ci=0,e=ch.length;ci<e;ci++){if(cg.indexOf(" "+ch[ci]+" ")<0){cg+=ch[ci]+" "}}ce.className=bT.trim(cg)}}}}return this},removeClass:function(ch){var ce,cf,cg,ci,cc,cd,e;if(bT.isFunction(ch)){return this.each(function(cj){bT(this).removeClass(ch.call(this,cj,this.className))})}if((ch&&typeof ch==="string")||ch===aO){ce=(ch||"").split(a8);for(cd=0,e=this.length;cd<e;cd++){cg=this[cd];if(cg.nodeType===1&&cg.className){cf=(" "+cg.className+" ").replace(bW," ");for(ci=0,cc=ce.length;ci<cc;ci++){while(cf.indexOf(" "+ce[ci]+" ")>=0){cf=cf.replace(" "+ce[ci]+" "," ")}}cg.className=ch?bT.trim(cf):""}}}return this},toggleClass:function(ce,cc){var cd=typeof ce,e=typeof cc==="boolean";if(bT.isFunction(ce)){return this.each(function(cf){bT(this).toggleClass(ce.call(this,cf,this.className,cc),cc)})}return this.each(function(){if(cd==="string"){var ch,cg=0,cf=bT(this),ci=cc,cj=ce.split(a8);while((ch=cj[cg++])){ci=e?ci:!cf.hasClass(ch);cf[ci?"addClass":"removeClass"](ch)}}else{if(cd==="undefined"||cd==="boolean"){if(this.className){bT._data(this,"__className__",this.className)}this.className=this.className||ce===false?"":bT._data(this,"__className__")||""}}})},hasClass:function(e){var ce=" "+e+" ",cd=0,cc=this.length;for(;cd<cc;cd++){if(this[cd].nodeType===1&&(" "+this[cd].className+" ").replace(bW," ").indexOf(ce)>=0){return true}}return false},val:function(ce){var e,cc,cf,cd=this[0];if(!arguments.length){if(cd){e=bT.valHooks[cd.type]||bT.valHooks[cd.nodeName.toLowerCase()];if(e&&"get" in e&&(cc=e.get(cd,"value"))!==aO){return cc}cc=cd.value;return typeof cc==="string"?cc.replace(aw,""):cc==null?"":cc}return}cf=bT.isFunction(ce);return this.each(function(ch){var ci,cg=bT(this);if(this.nodeType!==1){return}if(cf){ci=ce.call(this,ch,cg.val())}else{ci=ce}if(ci==null){ci=""}else{if(typeof ci==="number"){ci+=""}else{if(bT.isArray(ci)){ci=bT.map(ci,function(cj){return cj==null?"":cj+""})}}}e=bT.valHooks[this.type]||bT.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,ci,"value")===aO){this.value=ci}})}});bT.extend({valHooks:{option:{get:function(e){var cc=e.attributes.value;return !cc||cc.specified?e.value:e.text}},select:{get:function(e){var ch,cc,cg,ce,cf=e.selectedIndex,ci=[],cj=e.options,cd=e.type==="select-one";if(cf<0){return null}cc=cd?cf:0;cg=cd?cf+1:cj.length;for(;cc<cg;cc++){ce=cj[cc];if(ce.selected&&(bT.support.optDisabled?!ce.disabled:ce.getAttribute("disabled")===null)&&(!ce.parentNode.disabled||!bT.nodeName(ce.parentNode,"optgroup"))){ch=bT(ce).val();if(cd){return ch}ci.push(ch)}}if(cd&&!ci.length&&cj.length){return bT(cj[cf]).val()}return ci},set:function(cc,cd){var e=bT.makeArray(cd);bT(cc).find("option").each(function(){this.selected=bT.inArray(bT(this).val(),e)>=0});if(!e.length){cc.selectedIndex=-1}return e}}},attrFn:{},attr:function(ch,ce,ci,cg){var cd,e,cf,cc=ch.nodeType;if(!ch||cc===3||cc===8||cc===2){return}if(cg&&bT.isFunction(bT.fn[ce])){return bT(ch)[ce](ci)}if(typeof ch.getAttribute==="undefined"){return bT.prop(ch,ce,ci)}cf=cc!==1||!bT.isXMLDoc(ch);if(cf){ce=ce.toLowerCase();e=bT.attrHooks[ce]||(Z.test(ce)?b8:bk)}if(ci!==aO){if(ci===null){bT.removeAttr(ch,ce);return}else{if(e&&"set" in e&&cf&&(cd=e.set(ch,ci,ce))!==aO){return cd}else{ch.setAttribute(ce,ci+"");return ci}}}else{if(e&&"get" in e&&cf&&(cd=e.get(ch,ce))!==null){return cd}else{cd=ch.getAttribute(ce);return cd===null?aO:cd}}},removeAttr:function(ce,cg){var cf,ch,cc,e,cd=0;if(cg&&ce.nodeType===1){ch=cg.split(a8);for(;cd<ch.length;cd++){cc=ch[cd];if(cc){cf=bT.propFix[cc]||cc;e=Z.test(cc);if(!e){bT.attr(ce,cc,"")}ce.removeAttribute(bY?cc:cf);if(e&&cf in ce){ce[cf]=false}}}}},attrHooks:{type:{set:function(e,cc){if(q.test(e.nodeName)&&e.parentNode){bT.error("type property can't be changed")}else{if(!bT.support.radioValue&&cc==="radio"&&bT.nodeName(e,"input")){var cd=e.value;e.setAttribute("type",cc);if(cd){e.value=cd}return cc}}}},value:{get:function(cc,e){if(bk&&bT.nodeName(cc,"button")){return bk.get(cc,e)}return e in cc?cc.value:null},set:function(cc,cd,e){if(bk&&bT.nodeName(cc,"button")){return bk.set(cc,cd,e)}cc.value=cd}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(cg,ce,ch){var cd,e,cf,cc=cg.nodeType;if(!cg||cc===3||cc===8||cc===2){return}cf=cc!==1||!bT.isXMLDoc(cg);if(cf){ce=bT.propFix[ce]||ce;e=bT.propHooks[ce]}if(ch!==aO){if(e&&"set" in e&&(cd=e.set(cg,ch,ce))!==aO){return cd}else{return(cg[ce]=ch)}}else{if(e&&"get" in e&&(cd=e.get(cg,ce))!==null){return cd}else{return cg[ce]}}},propHooks:{tabIndex:{get:function(cc){var e=cc.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aN.test(cc.nodeName)||Q.test(cc.nodeName)&&cc.href?0:aO}}}});b8={get:function(cc,e){var ce,cd=bT.prop(cc,e);return cd===true||typeof cd!=="boolean"&&(ce=cc.getAttributeNode(e))&&ce.nodeValue!==false?e.toLowerCase():aO},set:function(cc,ce,e){var cd;if(ce===false){bT.removeAttr(cc,e)}else{cd=bT.propFix[e]||e;if(cd in cc){cc[cd]=true}cc.setAttribute(e,e.toLowerCase())}return e}};if(!bY){A={name:true,id:true,coords:true};bk=bT.valHooks.button={get:function(cd,cc){var e;e=cd.getAttributeNode(cc);return e&&(A[cc]?e.value!=="":e.specified)?e.value:aO},set:function(cd,ce,cc){var e=cd.getAttributeNode(cc);if(!e){e=B.createAttribute(cc);cd.setAttributeNode(e)}return(e.value=ce+"")}};bT.each(["width","height"],function(cc,e){bT.attrHooks[e]=bT.extend(bT.attrHooks[e],{set:function(cd,ce){if(ce===""){cd.setAttribute(e,"auto");return ce}}})});bT.attrHooks.contenteditable={get:bk.get,set:function(cc,cd,e){if(cd===""){cd="false"}bk.set(cc,cd,e)}}}if(!bT.support.hrefNormalized){bT.each(["href","src","width","height"],function(cc,e){bT.attrHooks[e]=bT.extend(bT.attrHooks[e],{get:function(ce){var cd=ce.getAttribute(e,2);return cd===null?aO:cd}})})}if(!bT.support.style){bT.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||aO},set:function(e,cc){return(e.style.cssText=cc+"")}}}if(!bT.support.optSelected){bT.propHooks.selected=bT.extend(bT.propHooks.selected,{get:function(cc){var e=cc.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bT.support.enctype){bT.propFix.enctype="encoding"}if(!bT.support.checkOn){bT.each(["radio","checkbox"],function(){bT.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bT.each(["radio","checkbox"],function(){bT.valHooks[this]=bT.extend(bT.valHooks[this],{set:function(e,cc){if(bT.isArray(cc)){return(e.checked=bT.inArray(bT(e).val(),cc)>=0)}}})});var bR=/^(?:textarea|input|select)$/i,bE=/^([^\.]*|)(?:\.(.+)|)$/,bn=/(?:^|\s)hover(\.\S+|)\b/,bg=/^key/,bX=/^(?:mouse|contextmenu)|click/,bL=/^(?:focusinfocus|focusoutblur)$/,aE=function(e){return bT.event.special.hover?e:e.replace(bn,"mouseenter$1 mouseleave$1")};bT.event={add:function(ce,ci,cq,cg,cf){var cj,ch,cr,cp,co,cl,e,cn,cc,cd,ck;if(ce.nodeType===3||ce.nodeType===8||!ci||!cq||!(cj=bT._data(ce))){return}if(cq.handler){cc=cq;cq=cc.handler;cf=cc.selector}if(!cq.guid){cq.guid=bT.guid++}cr=cj.events;if(!cr){cj.events=cr={}}ch=cj.handle;if(!ch){cj.handle=ch=function(cs){return typeof bT!=="undefined"&&(!cs||bT.event.triggered!==cs.type)?bT.event.dispatch.apply(ch.elem,arguments):aO};ch.elem=ce}ci=bT.trim(aE(ci)).split(" ");for(cp=0;cp<ci.length;cp++){co=bE.exec(ci[cp])||[];cl=co[1];e=(co[2]||"").split(".").sort();ck=bT.event.special[cl]||{};cl=(cf?ck.delegateType:ck.bindType)||cl;ck=bT.event.special[cl]||{};cn=bT.extend({type:cl,origType:co[1],data:cg,handler:cq,guid:cq.guid,selector:cf,needsContext:cf&&bT.expr.match.needsContext.test(cf),namespace:e.join(".")},cc);cd=cr[cl];if(!cd){cd=cr[cl]=[];cd.delegateCount=0;if(!ck.setup||ck.setup.call(ce,cg,e,ch)===false){if(ce.addEventListener){ce.addEventListener(cl,ch,false)}else{if(ce.attachEvent){ce.attachEvent("on"+cl,ch)}}}}if(ck.add){ck.add.call(ce,cn);if(!cn.handler.guid){cn.handler.guid=cq.guid}}if(cf){cd.splice(cd.delegateCount++,0,cn)}else{cd.push(cn)}bT.event.global[cl]=true}ce=null},global:{},remove:function(ce,cj,cq,cf,ci){var cr,cs,cn,cd,cc,cg,ch,cp,cl,e,co,ck=bT.hasData(ce)&&bT._data(ce);if(!ck||!(cp=ck.events)){return}cj=bT.trim(aE(cj||"")).split(" ");for(cr=0;cr<cj.length;cr++){cs=bE.exec(cj[cr])||[];cn=cd=cs[1];cc=cs[2];if(!cn){for(cn in cp){bT.event.remove(ce,cn+cj[cr],cq,cf,true)}continue}cl=bT.event.special[cn]||{};cn=(cf?cl.delegateType:cl.bindType)||cn;e=cp[cn]||[];cg=e.length;cc=cc?new RegExp("(^|\\.)"+cc.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(ch=0;ch<e.length;ch++){co=e[ch];if((ci||cd===co.origType)&&(!cq||cq.guid===co.guid)&&(!cc||cc.test(co.namespace))&&(!cf||cf===co.selector||cf==="**"&&co.selector)){e.splice(ch--,1);if(co.selector){e.delegateCount--}if(cl.remove){cl.remove.call(ce,co)}}}if(e.length===0&&cg!==e.length){if(!cl.teardown||cl.teardown.call(ce,cc,ck.handle)===false){bT.removeEvent(ce,cn,ck.handle)}delete cp[cn]}}if(bT.isEmptyObject(cp)){delete ck.handle;bT.removeData(ce,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(cc,cj,ch,cr){if(ch&&(ch.nodeType===3||ch.nodeType===8)){return}var e,ce,ck,cp,cg,cf,cn,cl,ci,cq,co=cc.type||cc,cd=[];if(bL.test(co+bT.event.triggered)){return}if(co.indexOf("!")>=0){co=co.slice(0,-1);ce=true}if(co.indexOf(".")>=0){cd=co.split(".");co=cd.shift();cd.sort()}if((!ch||bT.event.customEvent[co])&&!bT.event.global[co]){return}cc=typeof cc==="object"?cc[bT.expando]?cc:new bT.Event(co,cc):new bT.Event(co);cc.type=co;cc.isTrigger=true;cc.exclusive=ce;cc.namespace=cd.join(".");cc.namespace_re=cc.namespace?new RegExp("(^|\\.)"+cd.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;cf=co.indexOf(":")<0?"on"+co:"";if(!ch){e=bT.cache;for(ck in e){if(e[ck].events&&e[ck].events[co]){bT.event.trigger(cc,cj,e[ck].handle.elem,true)}}return}cc.result=aO;if(!cc.target){cc.target=ch}cj=cj!=null?bT.makeArray(cj):[];cj.unshift(cc);cn=bT.event.special[co]||{};if(cn.trigger&&cn.trigger.apply(ch,cj)===false){return}ci=[[ch,cn.bindType||co]];if(!cr&&!cn.noBubble&&!bT.isWindow(ch)){cq=cn.delegateType||co;cp=bL.test(cq+co)?ch:ch.parentNode;for(cg=ch;cp;cp=cp.parentNode){ci.push([cp,cq]);cg=cp}if(cg===(ch.ownerDocument||B)){ci.push([cg.defaultView||cg.parentWindow||bf,cq])}}for(ck=0;ck<ci.length&&!cc.isPropagationStopped();ck++){cp=ci[ck][0];cc.type=ci[ck][1];cl=(bT._data(cp,"events")||{})[cc.type]&&bT._data(cp,"handle");if(cl){cl.apply(cp,cj)}cl=cf&&cp[cf];if(cl&&bT.acceptData(cp)&&cl.apply&&cl.apply(cp,cj)===false){cc.preventDefault()}}cc.type=co;if(!cr&&!cc.isDefaultPrevented()){if((!cn._default||cn._default.apply(ch.ownerDocument,cj)===false)&&!(co==="click"&&bT.nodeName(ch,"a"))&&bT.acceptData(ch)){if(cf&&ch[co]&&((co!=="focus"&&co!=="blur")||cc.target.offsetWidth!==0)&&!bT.isWindow(ch)){cg=ch[cf];if(cg){ch[cf]=null}bT.event.triggered=co;ch[co]();bT.event.triggered=aO;if(cg){ch[cf]=cg}}}}return cc.result},dispatch:function(e){e=bT.event.fix(e||bf.event);var ci,ch,cs,cl,ck,cc,cj,cq,ce,cr,cf=((bT._data(this,"events")||{})[e.type]||[]),cg=cf.delegateCount,co=bh.call(arguments),cd=!e.exclusive&&!e.namespace,cn=bT.event.special[e.type]||{},cp=[];co[0]=e;e.delegateTarget=this;if(cn.preDispatch&&cn.preDispatch.call(this,e)===false){return}if(cg&&!(e.button&&e.type==="click")){for(cs=e.target;cs!=this;cs=cs.parentNode||this){if(cs.disabled!==true||e.type!=="click"){ck={};cj=[];for(ci=0;ci<cg;ci++){cq=cf[ci];ce=cq.selector;if(ck[ce]===aO){ck[ce]=cq.needsContext?bT(ce,this).index(cs)>=0:bT.find(ce,this,null,[cs]).length}if(ck[ce]){cj.push(cq)}}if(cj.length){cp.push({elem:cs,matches:cj})}}}}if(cf.length>cg){cp.push({elem:this,matches:cf.slice(cg)})}for(ci=0;ci<cp.length&&!e.isPropagationStopped();ci++){cc=cp[ci];e.currentTarget=cc.elem;for(ch=0;ch<cc.matches.length&&!e.isImmediatePropagationStopped();ch++){cq=cc.matches[ch];if(cd||(!e.namespace&&!cq.namespace)||e.namespace_re&&e.namespace_re.test(cq.namespace)){e.data=cq.data;e.handleObj=cq;cl=((bT.event.special[cq.origType]||{}).handle||cq.handler).apply(cc.elem,co);if(cl!==aO){e.result=cl;if(cl===false){e.preventDefault();e.stopPropagation()}}}}}if(cn.postDispatch){cn.postDispatch.call(this,e)}return e.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(cc,e){if(cc.which==null){cc.which=e.charCode!=null?e.charCode:e.keyCode}return cc}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(ce,cd){var cf,cg,e,cc=cd.button,ch=cd.fromElement;if(ce.pageX==null&&cd.clientX!=null){cf=ce.target.ownerDocument||B;cg=cf.documentElement;e=cf.body;ce.pageX=cd.clientX+(cg&&cg.scrollLeft||e&&e.scrollLeft||0)-(cg&&cg.clientLeft||e&&e.clientLeft||0);ce.pageY=cd.clientY+(cg&&cg.scrollTop||e&&e.scrollTop||0)-(cg&&cg.clientTop||e&&e.clientTop||0)}if(!ce.relatedTarget&&ch){ce.relatedTarget=ch===ce.target?cd.toElement:ch}if(!ce.which&&cc!==aO){ce.which=(cc&1?1:(cc&2?3:(cc&4?2:0)))}return ce}},fix:function(cd){if(cd[bT.expando]){return cd}var cc,cg,e=cd,ce=bT.event.fixHooks[cd.type]||{},cf=ce.props?this.props.concat(ce.props):this.props;cd=bT.Event(e);for(cc=cf.length;cc;){cg=cf[--cc];cd[cg]=e[cg]}if(!cd.target){cd.target=e.srcElement||B}if(cd.target.nodeType===3){cd.target=cd.target.parentNode}cd.metaKey=!!cd.metaKey;return ce.filter?ce.filter(cd,e):cd},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(cd,cc,e){if(bT.isWindow(this)){this.onbeforeunload=e}},teardown:function(cc,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(cd,cf,ce,cc){var cg=bT.extend(new bT.Event(),ce,{type:cd,isSimulated:true,originalEvent:{}});if(cc){bT.event.trigger(cg,null,cf)}else{bT.event.dispatch.call(cf,cg)}if(cg.isDefaultPrevented()){ce.preventDefault()}}};bT.event.handle=bT.event.dispatch;bT.removeEvent=B.removeEventListener?function(cc,e,cd){if(cc.removeEventListener){cc.removeEventListener(e,cd,false)}}:function(cd,cc,ce){var e="on"+cc;if(cd.detachEvent){if(typeof cd[e]==="undefined"){cd[e]=null}cd.detachEvent(e,ce)}};bT.Event=function(cc,e){if(!(this instanceof bT.Event)){return new bT.Event(cc,e)}if(cc&&cc.type){this.originalEvent=cc;this.type=cc.type;this.isDefaultPrevented=(cc.defaultPrevented||cc.returnValue===false||cc.getPreventDefault&&cc.getPreventDefault())?ae:ak}else{this.type=cc}if(e){bT.extend(this,e)}this.timeStamp=cc&&cc.timeStamp||bT.now();this[bT.expando]=true};function ak(){return false}function ae(){return true}bT.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ae;var cc=this.originalEvent;if(!cc){return}if(cc.preventDefault){cc.preventDefault()}else{cc.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=ae;var cc=this.originalEvent;if(!cc){return}if(cc.stopPropagation){cc.stopPropagation()}cc.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ae;this.stopPropagation()},isDefaultPrevented:ak,isPropagationStopped:ak,isImmediatePropagationStopped:ak};bT.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(cc,e){bT.event.special[cc]={delegateType:e,bindType:e,handle:function(cg){var ce,ci=this,ch=cg.relatedTarget,cf=cg.handleObj,cd=cf.selector;if(!ch||(ch!==ci&&!bT.contains(ci,ch))){cg.type=cf.origType;ce=cf.handler.apply(this,arguments);cg.type=e}return ce}}});if(!bT.support.submitBubbles){bT.event.special.submit={setup:function(){if(bT.nodeName(this,"form")){return false}bT.event.add(this,"click._submit keypress._submit",function(ce){var cd=ce.target,cc=bT.nodeName(cd,"input")||bT.nodeName(cd,"button")?cd.form:aO;if(cc&&!bT._data(cc,"_submit_attached")){bT.event.add(cc,"submit._submit",function(e){e._submit_bubble=true});bT._data(cc,"_submit_attached",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bT.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bT.nodeName(this,"form")){return false}bT.event.remove(this,"._submit")}}}if(!bT.support.changeBubbles){bT.event.special.change={setup:function(){if(bR.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bT.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bT.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bT.event.simulate("change",this,e,true)})}return false}bT.event.add(this,"beforeactivate._change",function(cd){var cc=cd.target;if(bR.test(cc.nodeName)&&!bT._data(cc,"_change_attached")){bT.event.add(cc,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bT.event.simulate("change",this.parentNode,e,true)}});bT._data(cc,"_change_attached",true)}})},handle:function(cc){var e=cc.target;if(this!==e||cc.isSimulated||cc.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return cc.handleObj.handler.apply(this,arguments)}},teardown:function(){bT.event.remove(this,"._change");return !bR.test(this.nodeName)}}}if(!bT.support.focusinBubbles){bT.each({focus:"focusin",blur:"focusout"},function(ce,e){var cc=0,cd=function(cf){bT.event.simulate(e,cf.target,bT.event.fix(cf),true)};bT.event.special[e]={setup:function(){if(cc++===0){B.addEventListener(ce,cd,true)}},teardown:function(){if(--cc===0){B.removeEventListener(ce,cd,true)}}}})}bT.fn.extend({on:function(cd,e,cg,cf,cc){var ch,ce;if(typeof cd==="object"){if(typeof e!=="string"){cg=cg||e;e=aO}for(ce in cd){this.on(ce,e,cg,cd[ce],cc)}return this}if(cg==null&&cf==null){cf=e;cg=e=aO}else{if(cf==null){if(typeof e==="string"){cf=cg;cg=aO}else{cf=cg;cg=e;e=aO}}}if(cf===false){cf=ak}else{if(!cf){return this}}if(cc===1){ch=cf;cf=function(ci){bT().off(ci);return ch.apply(this,arguments)};cf.guid=ch.guid||(ch.guid=bT.guid++)}return this.each(function(){bT.event.add(this,cd,cf,cg,e)})},one:function(cc,e,ce,cd){return this.on(cc,e,ce,cd,1)},off:function(cd,e,cf){var cc,ce;if(cd&&cd.preventDefault&&cd.handleObj){cc=cd.handleObj;bT(cd.delegateTarget).off(cc.namespace?cc.origType+"."+cc.namespace:cc.origType,cc.selector,cc.handler);return this}if(typeof cd==="object"){for(ce in cd){this.off(ce,e,cd[ce])}return this}if(e===false||typeof e==="function"){cf=e;e=aO}if(cf===false){cf=ak}return this.each(function(){bT.event.remove(this,cd,cf,e)})},bind:function(e,cd,cc){return this.on(e,null,cd,cc)},unbind:function(e,cc){return this.off(e,null,cc)},live:function(e,cd,cc){bT(this.context).on(e,this.selector,cd,cc);return this},die:function(e,cc){bT(this.context).off(e,this.selector||"**",cc);return this},delegate:function(e,cc,ce,cd){return this.on(cc,e,ce,cd)},undelegate:function(e,cc,cd){return arguments.length===1?this.off(e,"**"):this.off(cc,e||"**",cd)},trigger:function(e,cc){return this.each(function(){bT.event.trigger(e,cc,this)})},triggerHandler:function(e,cc){if(this[0]){return bT.event.trigger(e,cc,this[0],true)}},toggle:function(ce){var cc=arguments,e=ce.guid||bT.guid++,cd=0,cf=function(cg){var ch=(bT._data(this,"lastToggle"+ce.guid)||0)%cd;bT._data(this,"lastToggle"+ce.guid,ch+1);cg.preventDefault();return cc[ch].apply(this,arguments)||false};cf.guid=e;while(cd<cc.length){cc[cd++].guid=e}return this.click(cf)},hover:function(e,cc){return this.mouseenter(e).mouseleave(cc||e)}});bT.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(cc,e){bT.fn[e]=function(ce,cd){if(cd==null){cd=ce;ce=null}return arguments.length>0?this.on(e,null,ce,cd):this.trigger(e)};if(bg.test(e)){bT.event.fixHooks[e]=bT.event.keyHooks}if(bX.test(e)){bT.event.fixHooks[e]=bT.event.mouseHooks}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(c6,cv){var db,co,cZ,cd,cA,cO,cr,cu,cq,cX,cn=true,cI="undefined",dd=("sizcache"+Math.random()).replace(".",""),ch=String,cl=c6.document,cp=cl.documentElement,cF=0,ct=0,cS=[].pop,da=[].push,cz=[].slice,cC=[].indexOf||function(dm){var dl=0,e=this.length;for(;dl<e;dl++){if(this[dl]===dm){return dl}}return -1},df=function(e,dl){e[dd]=dl==null||dl;return e},dj=function(){var e={},dl=[];return df(function(dm,dn){if(dl.push(dm)>cZ.cacheLength){delete e[dl.shift()]}return(e[dm]=dn)},e)},c8=dj(),c9=dj(),cB=dj(),cM="[\\x20\\t\\r\\n\\f]",cy="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",cw=cy.replace("w","w#"),di="([*^$|!~]?=)",c3="\\["+cM+"*("+cy+")"+cM+"*(?:"+di+cM+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cw+")|)|)"+cM+"*\\]",dk=":("+cy+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+c3+")|[^:]|\\\\.)*|.*))\\)|)",cN=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cM+"*((?:-\\d)?\\d*)"+cM+"*\\)|)(?=[^-]|$)",c7=new RegExp("^"+cM+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cM+"+$","g"),ci=new RegExp("^"+cM+"*,"+cM+"*"),cV=new RegExp("^"+cM+"*([\\x20\\t\\r\\n\\f>+~])"+cM+"*"),c0=new RegExp(dk),c2=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,cR=/^:not/,c5=/[\x20\t\r\n\f]*[+~]/,de=/:not\($/,cG=/h\d/i,c1=/input|select|textarea|button/i,cH=/\\(?!\\)/g,cU={ID:new RegExp("^#("+cy+")"),CLASS:new RegExp("^\\.("+cy+")"),NAME:new RegExp("^\\[name=['\"]?("+cy+")['\"]?\\]"),TAG:new RegExp("^("+cy.replace("w","w*")+")"),ATTR:new RegExp("^"+c3),PSEUDO:new RegExp("^"+dk),POS:new RegExp(cN,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+cM+"*(even|odd|(([+-]|)(\\d*)n|)"+cM+"*(?:([+-]|)"+cM+"*(\\d+)|))"+cM+"*\\)|)","i"),needsContext:new RegExp("^"+cM+"*[>+~]|"+cN,"i")},cY=function(dl){var dn=cl.createElement("div");try{return dl(dn)}catch(dm){return false}finally{dn=null}},ck=cY(function(e){e.appendChild(cl.createComment(""));return !e.getElementsByTagName("*").length}),cQ=cY(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==cI&&e.firstChild.getAttribute("href")==="#"}),cE=cY(function(dl){dl.innerHTML="<select></select>";var e=typeof dl.lastChild.getAttribute("multiple");return e!=="boolean"&&e!=="string"}),cP=cY(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2}),cc=cY(function(dl){dl.id=dd+0;dl.innerHTML="<a name='"+dd+"'></a><div name='"+dd+"'></div>";cp.insertBefore(dl,cp.firstChild);var e=cl.getElementsByName&&cl.getElementsByName(dd).length===2+cl.getElementsByName(dd+0).length;co=!cl.getElementById(dd);cp.removeChild(dl);return e});try{cz.call(cp.childNodes,0)[0].nodeType}catch(dh){cz=function(dl){var dm,e=[];for(;(dm=this[dl]);dl++){e.push(dm)}return e}}function c4(dn,e,dq,dt){dq=dq||[];e=e||cl;var dr,dl,ds,dm,dp=e.nodeType;if(!dn||typeof dn!=="string"){return dq}if(dp!==1&&dp!==9){return[]}ds=cA(e);if(!ds&&!dt){if((dr=c2.exec(dn))){if((dm=dr[1])){if(dp===9){dl=e.getElementById(dm);if(dl&&dl.parentNode){if(dl.id===dm){dq.push(dl);return dq}}else{return dq}}else{if(e.ownerDocument&&(dl=e.ownerDocument.getElementById(dm))&&cO(e,dl)&&dl.id===dm){dq.push(dl);return dq}}}else{if(dr[2]){da.apply(dq,cz.call(e.getElementsByTagName(dn),0));return dq}else{if((dm=dr[3])&&cP&&e.getElementsByClassName){da.apply(dq,cz.call(e.getElementsByClassName(dm),0));return dq}}}}}return dc(dn.replace(c7,"$1"),e,dq,dt,ds)}c4.matches=function(dl,e){return c4(dl,null,null,e)};c4.matchesSelector=function(e,dl){return c4(dl,null,null,[e]).length>0};function cW(e){return function(dm){var dl=dm.nodeName.toLowerCase();return dl==="input"&&dm.type===e}}function cg(e){return function(dm){var dl=dm.nodeName.toLowerCase();return(dl==="input"||dl==="button")&&dm.type===e}}function cT(e){return df(function(dl){dl=+dl;return df(function(dm,dr){var dp,dn=e([],dm.length,dl),dq=dn.length;while(dq--){if(dm[(dp=dn[dq])]){dm[dp]=!(dr[dp]=dm[dp])}}})})}cd=c4.getText=function(dp){var dn,dl="",dm=0,e=dp.nodeType;if(e){if(e===1||e===9||e===11){if(typeof dp.textContent==="string"){return dp.textContent}else{for(dp=dp.firstChild;dp;dp=dp.nextSibling){dl+=cd(dp)}}}else{if(e===3||e===4){return dp.nodeValue}}}else{for(;(dn=dp[dm]);dm++){dl+=cd(dn)}}return dl};cA=c4.isXML=function(e){var dl=e&&(e.ownerDocument||e).documentElement;return dl?dl.nodeName!=="HTML":false};cO=c4.contains=cp.contains?function(dl,e){var dn=dl.nodeType===9?dl.documentElement:dl,dm=e&&e.parentNode;return dl===dm||!!(dm&&dm.nodeType===1&&dn.contains&&dn.contains(dm))}:cp.compareDocumentPosition?function(dl,e){return e&&!!(dl.compareDocumentPosition(e)&16)}:function(dl,e){while((e=e.parentNode)){if(e===dl){return true}}return false};c4.attr=function(dm,dl){var dn,e=cA(dm);if(!e){dl=dl.toLowerCase()}if((dn=cZ.attrHandle[dl])){return dn(dm)}if(e||cE){return dm.getAttribute(dl)}dn=dm.getAttributeNode(dl);return dn?typeof dm[dl]==="boolean"?dm[dl]?dl:null:dn.specified?dn.value:null:null};cZ=c4.selectors={cacheLength:50,createPseudo:df,match:cU,attrHandle:cQ?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:co?function(dn,dm,dl){if(typeof dm.getElementById!==cI&&!dl){var e=dm.getElementById(dn);return e&&e.parentNode?[e]:[]}}:function(dn,dm,dl){if(typeof dm.getElementById!==cI&&!dl){var e=dm.getElementById(dn);return e?e.id===dn||typeof e.getAttributeNode!==cI&&e.getAttributeNode("id").value===dn?[e]:cv:[]}},TAG:ck?function(e,dl){if(typeof dl.getElementsByTagName!==cI){return dl.getElementsByTagName(e)}}:function(e,dp){var dn=dp.getElementsByTagName(e);if(e==="*"){var dq,dm=[],dl=0;for(;(dq=dn[dl]);dl++){if(dq.nodeType===1){dm.push(dq)}}return dm}return dn},NAME:cc&&function(e,dl){if(typeof dl.getElementsByName!==cI){return dl.getElementsByName(name)}},CLASS:cP&&function(dm,dl,e){if(typeof dl.getElementsByClassName!==cI&&!e){return dl.getElementsByClassName(dm)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cH,"");e[3]=(e[4]||e[5]||"").replace(cH,"");if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1]==="nth"){if(!e[2]){c4.error(e[0])}e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd"));e[4]=+((e[6]+e[7])||e[2]==="odd")}else{if(e[2]){c4.error(e[0])}}return e},PSEUDO:function(dl){var dm,e;if(cU.CHILD.test(dl[0])){return null}if(dl[3]){dl[2]=dl[3]}else{if((dm=dl[4])){if(c0.test(dm)&&(e=ce(dm,true))&&(e=dm.indexOf(")",dm.length-e)-dm.length)){dm=dm.slice(0,e);dl[0]=dl[0].slice(0,e)}dl[2]=dm}}return dl.slice(0,3)}},filter:{ID:co?function(e){e=e.replace(cH,"");return function(dl){return dl.getAttribute("id")===e}}:function(e){e=e.replace(cH,"");return function(dm){var dl=typeof dm.getAttributeNode!==cI&&dm.getAttributeNode("id");return dl&&dl.value===e}},TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cH,"").toLowerCase();return function(dl){return dl.nodeName&&dl.nodeName.toLowerCase()===e}},CLASS:function(e){var dl=c8[dd][e];if(!dl){dl=c8(e,new RegExp("(^|"+cM+")"+e+"("+cM+"|$)"))}return function(dm){return dl.test(dm.className||(typeof dm.getAttribute!==cI&&dm.getAttribute("class"))||"")}},ATTR:function(dm,dl,e){return function(dq,dp){var dn=c4.attr(dq,dm);if(dn==null){return dl==="!="}if(!dl){return true}dn+="";return dl==="="?dn===e:dl==="!="?dn!==e:dl==="^="?e&&dn.indexOf(e)===0:dl==="*="?e&&dn.indexOf(e)>-1:dl==="$="?e&&dn.substr(dn.length-e.length)===e:dl==="~="?(" "+dn+" ").indexOf(e)>-1:dl==="|="?dn===e||dn.substr(0,e.length+1)===e+"-":false}},CHILD:function(e,dm,dn,dl){if(e==="nth"){return function(dr){var dq,ds,dp=dr.parentNode;if(dn===1&&dl===0){return true}if(dp){ds=0;for(dq=dp.firstChild;dq;dq=dq.nextSibling){if(dq.nodeType===1){ds++;if(dr===dq){break}}}}ds-=dl;return ds===dn||(ds%dn===0&&ds/dn>=0)}}return function(dq){var dp=dq;switch(e){case"only":case"first":while((dp=dp.previousSibling)){if(dp.nodeType===1){return false}}if(e==="first"){return true}dp=dq;case"last":while((dp=dp.nextSibling)){if(dp.nodeType===1){return false}}return true}}},PSEUDO:function(dn,dm){var e,dl=cZ.pseudos[dn]||cZ.setFilters[dn.toLowerCase()]||c4.error("unsupported pseudo: "+dn);if(dl[dd]){return dl(dm)}if(dl.length>1){e=[dn,dn,"",dm];return cZ.setFilters.hasOwnProperty(dn.toLowerCase())?df(function(dr,dt){var dq,dp=dl(dr,dm),ds=dp.length;while(ds--){dq=cC.call(dr,dp[ds]);dr[dq]=!(dt[dq]=dp[ds])}}):function(dp){return dl(dp,0,e)}}return dl}},pseudos:{not:df(function(e){var dl=[],dm=[],dn=cr(e.replace(c7,"$1"));return dn[dd]?df(function(dq,dv,dt,dr){var du,dp=dn(dq,null,dr,[]),ds=dq.length;while(ds--){if((du=dp[ds])){dq[ds]=!(dv[ds]=du)}}}):function(dr,dq,dp){dl[0]=dr;dn(dl,null,dp,dm);return !dm.pop()}}),has:df(function(e){return function(dl){return c4(e,dl).length>0}}),contains:df(function(e){return function(dl){return(dl.textContent||dl.innerText||cd(dl)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dl=e.nodeName.toLowerCase();return(dl==="input"&&!!e.checked)||(dl==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !cZ.pseudos.empty(e)},empty:function(dl){var e;dl=dl.firstChild;while(dl){if(dl.nodeName>"@"||(e=dl.nodeType)===3||e===4){return false}dl=dl.nextSibling}return true},header:function(e){return cG.test(e.nodeName)},text:function(dm){var dl,e;return dm.nodeName.toLowerCase()==="input"&&(dl=dm.type)==="text"&&((e=dm.getAttribute("type"))==null||e.toLowerCase()===dl)},radio:cW("radio"),checkbox:cW("checkbox"),file:cW("file"),password:cW("password"),image:cW("image"),submit:cg("submit"),reset:cg("reset"),button:function(dl){var e=dl.nodeName.toLowerCase();return e==="input"&&dl.type==="button"||e==="button"},input:function(e){return c1.test(e.nodeName)},focus:function(e){var dl=e.ownerDocument;return e===dl.activeElement&&(!dl.hasFocus||dl.hasFocus())&&!!(e.type||e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:cT(function(e,dm,dl){return[0]}),last:cT(function(e,dm,dl){return[dm-1]}),eq:cT(function(e,dm,dl){return[dl<0?dl+dm:dl]}),even:cT(function(e,dn,dm){for(var dl=0;dl<dn;dl+=2){e.push(dl)}return e}),odd:cT(function(e,dn,dm){for(var dl=1;dl<dn;dl+=2){e.push(dl)}return e}),lt:cT(function(e,dn,dm){for(var dl=dm<0?dm+dn:dm;--dl>=0;){e.push(dl)}return e}),gt:cT(function(e,dn,dm){for(var dl=dm<0?dm+dn:dm;++dl<dn;){e.push(dl)}return e})}};function cf(dl,e,dm){if(dl===e){return dm}var dn=dl.nextSibling;while(dn){if(dn===e){return -1}dn=dn.nextSibling}return 1}cu=cp.compareDocumentPosition?function(dl,e){if(dl===e){cq=true;return 0}return(!dl.compareDocumentPosition||!e.compareDocumentPosition?dl.compareDocumentPosition:dl.compareDocumentPosition(e)&4)?-1:1}:function(dt,ds){if(dt===ds){cq=true;return 0}else{if(dt.sourceIndex&&ds.sourceIndex){return dt.sourceIndex-ds.sourceIndex}}var dq,dl,dm=[],e=[],dp=dt.parentNode,dr=ds.parentNode,du=dp;if(dp===dr){return cf(dt,ds)}else{if(!dp){return -1}else{if(!dr){return 1}}}while(du){dm.unshift(du);du=du.parentNode}du=dr;while(du){e.unshift(du);du=du.parentNode}dq=dm.length;dl=e.length;for(var dn=0;dn<dq&&dn<dl;dn++){if(dm[dn]!==e[dn]){return cf(dm[dn],e[dn])}}return dn===dq?cf(dt,e[dn],-1):cf(dm[dn],ds,1)};[0,0].sort(cu);cn=!cq;c4.uniqueSort=function(dl){var dm,e=1;cq=cn;dl.sort(cu);if(cq){for(;(dm=dl[e]);e++){if(dm===dl[e-1]){dl.splice(e--,1)}}}return dl};c4.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};function ce(dp,du){var dl,dq,ds,dt,dr,dm,e,dn=c9[dd][dp];if(dn){return du?0:dn.slice(0)}dr=dp;dm=[];e=cZ.preFilter;while(dr){if(!dl||(dq=ci.exec(dr))){if(dq){dr=dr.slice(dq[0].length)}dm.push(ds=[])}dl=false;if((dq=cV.exec(dr))){ds.push(dl=new ch(dq.shift()));dr=dr.slice(dl.length);dl.type=dq[0].replace(c7," ")}for(dt in cZ.filter){if((dq=cU[dt].exec(dr))&&(!e[dt]||(dq=e[dt](dq,cl,true)))){ds.push(dl=new ch(dq.shift()));dr=dr.slice(dl.length);dl.type=dt;dl.matches=dq}}if(!dl){break}}return du?dr.length:dr?c4.error(dp):c9(dp,dm).slice(0)}function cK(dp,dm,dn){var e=dm.dir,dq=dn&&dm.dir==="parentNode",dl=ct++;return dm.first?function(dt,ds,dr){while((dt=dt[e])){if(dq||dt.nodeType===1){return dp(dt,ds,dr)}}}:function(du,dt,ds){if(!ds){var dr,dv=cF+" "+dl+" ",dw=dv+db;while((du=du[e])){if(dq||du.nodeType===1){if((dr=du[dd])===dw){return du.sizset}else{if(typeof dr==="string"&&dr.indexOf(dv)===0){if(du.sizset){return du}}else{du[dd]=dw;if(dp(du,dt,ds)){du.sizset=true;return du}du.sizset=false}}}}}else{while((du=du[e])){if(dq||du.nodeType===1){if(dp(du,dt,ds)){return du}}}}}}function cs(e){return e.length>1?function(dp,dn,dl){var dm=e.length;while(dm--){if(!e[dm](dp,dn,dl)){return false}}return true}:e[0]}function cJ(e,dl,dm,dn,dr){var dp,du=[],dq=0,ds=e.length,dt=dl!=null;for(;dq<ds;dq++){if((dp=e[dq])){if(!dm||dm(dp,dn,dr)){du.push(dp);if(dt){dl.push(dq)}}}}return du}function dg(dm,dl,dp,dn,dq,e){if(dn&&!dn[dd]){dn=dg(dn)}if(dq&&!dq[dd]){dq=dg(dq,e)}return df(function(dC,dz,dt,dB){if(dC&&dq){return}var dA,dv,dw,du=[],dD=[],ds=dz.length,dr=dC||cD(dl||"*",dt.nodeType?[dt]:dt,[],dC),dx=dm&&(dC||!dl)?cJ(dr,du,dm,dt,dB):dr,dy=dp?dq||(dC?dm:ds||dn)?[]:dz:dx;if(dp){dp(dx,dy,dt,dB)}if(dn){dw=cJ(dy,dD);dn(dw,[],dt,dB);dA=dw.length;while(dA--){if((dv=dw[dA])){dy[dD[dA]]=!(dx[dD[dA]]=dv)}}}if(dC){dA=dm&&dy.length;while(dA--){if((dv=dy[dA])){dC[du[dA]]=!(dz[du[dA]]=dv)}}}else{dy=cJ(dy===dz?dy.splice(ds,dy.length):dy);if(dq){dq(null,dz,dy,dB)}else{da.apply(dz,dy)}}})}function cL(dr){var dl,dp,dm,dq=dr.length,du=cZ.relative[dr[0].type],dv=du||cZ.relative[" "],dn=du?1:0,ds=cK(function(dw){return dw===dl},dv,true),dt=cK(function(dw){return cC.call(dl,dw)>-1},dv,true),e=[function(dy,dx,dw){return(!du&&(dw||dx!==cX))||((dl=dx).nodeType?ds(dy,dx,dw):dt(dy,dx,dw))}];for(;dn<dq;dn++){if((dp=cZ.relative[dr[dn].type])){e=[cK(cs(e),dp)]}else{dp=cZ.filter[dr[dn].type].apply(null,dr[dn].matches);if(dp[dd]){dm=++dn;for(;dm<dq;dm++){if(cZ.relative[dr[dm].type]){break}}return dg(dn>1&&cs(e),dn>1&&dr.slice(0,dn-1).join("").replace(c7,"$1"),dp,dn<dm&&cL(dr.slice(dn,dm)),dm<dq&&cL((dr=dr.slice(dm))),dm<dq&&dr.join(""))}e.push(dp)}}return cs(e)}function cj(dn,dm){var e=dm.length>0,dp=dn.length>0,dl=function(dz,dt,dy,dx,dF){var du,dv,dA,dE=[],dD=0,dw="0",dq=dz&&[],dB=dF!=null,dC=cX,ds=dz||dp&&cZ.find.TAG("*",dF&&dt.parentNode||dt),dr=(cF+=dC==null?1:Math.E);if(dB){cX=dt!==cl&&dt;db=dl.el}for(;(du=ds[dw])!=null;dw++){if(dp&&du){for(dv=0;(dA=dn[dv]);dv++){if(dA(du,dt,dy)){dx.push(du);break}}if(dB){cF=dr;db=++dl.el}}if(e){if((du=!dA&&du)){dD--}if(dz){dq.push(du)}}}dD+=dw;if(e&&dw!==dD){for(dv=0;(dA=dm[dv]);dv++){dA(dq,dE,dt,dy)}if(dz){if(dD>0){while(dw--){if(!(dq[dw]||dE[dw])){dE[dw]=cS.call(dx)}}}dE=cJ(dE)}da.apply(dx,dE);if(dB&&!dz&&dE.length>0&&(dD+dm.length)>1){c4.uniqueSort(dx)}}if(dB){cF=dr;cX=dC}return dq};dl.el=0;return e?df(dl):dl}cr=c4.compile=function(e,dq){var dm,dl=[],dp=[],dn=cB[dd][e];if(!dn){if(!dq){dq=ce(e)}dm=dq.length;while(dm--){dn=cL(dq[dm]);if(dn[dd]){dl.push(dn)}else{dp.push(dn)}}dn=cB(e,cj(dp,dl))}return dn};function cD(dl,dq,dp,dm){var dn=0,e=dq.length;for(;dn<e;dn++){c4(dl,dq[dn],dp,dm)}return dp}function dc(dm,e,dp,dt,ds){var dq,dw,dl,dv,du,dr=ce(dm),dn=dr.length;if(!dt){if(dr.length===1){dw=dr[0]=dr[0].slice(0);if(dw.length>2&&(dl=dw[0]).type==="ID"&&e.nodeType===9&&!ds&&cZ.relative[dw[1].type]){e=cZ.find.ID(dl.matches[0].replace(cH,""),e,ds)[0];if(!e){return dp}dm=dm.slice(dw.shift().length)}for(dq=cU.POS.test(dm)?-1:dw.length-1;dq>=0;dq--){dl=dw[dq];if(cZ.relative[(dv=dl.type)]){break}if((du=cZ.find[dv])){if((dt=du(dl.matches[0].replace(cH,""),c5.test(dw[0].type)&&e.parentNode||e,ds))){dw.splice(dq,1);dm=dt.length&&dw.join("");if(!dm){da.apply(dp,cz.call(dt,0));return dp}break}}}}}cr(dm,dr)(dt,e,ds,dp,c5.test(dm));return dp}if(cl.querySelectorAll){(function(){var dq,dr=dc,dp=/'|\\/g,dm=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,dl=[":focus"],e=[":active",":focus"],dn=cp.matchesSelector||cp.mozMatchesSelector||cp.webkitMatchesSelector||cp.oMatchesSelector||cp.msMatchesSelector;cY(function(ds){ds.innerHTML="<select><option selected=''></option></select>";if(!ds.querySelectorAll("[selected]").length){dl.push("\\["+cM+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!ds.querySelectorAll(":checked").length){dl.push(":checked")}});cY(function(ds){ds.innerHTML="<p test=''></p>";if(ds.querySelectorAll("[test^='']").length){dl.push("[*^$]="+cM+"*(?:\"\"|'')")}ds.innerHTML="<input type='hidden'/>";if(!ds.querySelectorAll(":enabled").length){dl.push(":enabled",":disabled")}});dl=new RegExp(dl.join("|"));dc=function(dy,dt,dA,dD,dC){if(!dD&&!dC&&(!dl||!dl.test(dy))){var dw,dB,dv=true,ds=dd,du=dt,dz=dt.nodeType===9&&dy;if(dt.nodeType===1&&dt.nodeName.toLowerCase()!=="object"){dw=ce(dy);if((dv=dt.getAttribute("id"))){ds=dv.replace(dp,"\\$&")}else{dt.setAttribute("id",ds)}ds="[id='"+ds+"'] ";dB=dw.length;while(dB--){dw[dB]=ds+dw[dB].join("")}du=c5.test(dy)&&dt.parentNode||dt;dz=dw.join(",")}if(dz){try{da.apply(dA,cz.call(du.querySelectorAll(dz),0));return dA}catch(dx){}finally{if(!dv){dt.removeAttribute("id")}}}}return dr(dy,dt,dA,dD,dC)};if(dn){cY(function(dt){dq=dn.call(dt,"div");try{dn.call(dt,"[test!='']:sizzle");e.push("!=",dk)}catch(ds){}});e=new RegExp(e.join("|"));c4.matchesSelector=function(dt,dv){dv=dv.replace(dm,"='$1']");if(!cA(dt)&&!e.test(dv)&&(!dl||!dl.test(dv))){try{var ds=dn.call(dt,dv);if(ds||dq||dt.document&&dt.document.nodeType!==11){return ds}}catch(du){}}return c4(dv,null,null,[dt]).length>0}}})()}cZ.pseudos.nth=cZ.pseudos.eq;function cx(){}cZ.filters=cx.prototype=cZ.pseudos;cZ.setFilters=new cx();c4.attr=bT.attr;bT.find=c4;bT.expr=c4.selectors;bT.expr[":"]=bT.expr.pseudos;bT.unique=c4.uniqueSort;bT.text=c4.getText;bT.isXMLDoc=c4.isXML;bT.contains=c4.contains})(bf);var au=/Until$/,bD=/^(?:parents|prev(?:Until|All))/,az=/^.[^:#\[\.,]*$/,L=bT.expr.match.needsContext,bH={children:true,contents:true,next:true,prev:true};bT.fn.extend({find:function(e){var cf,cc,ch,ci,cg,ce,cd=this;if(typeof e!=="string"){return bT(e).filter(function(){for(cf=0,cc=cd.length;cf<cc;cf++){if(bT.contains(cd[cf],this)){return true}}})}ce=this.pushStack("","find",e);for(cf=0,cc=this.length;cf<cc;cf++){ch=ce.length;bT.find(e,this[cf],ce);if(cf>0){for(ci=ch;ci<ce.length;ci++){for(cg=0;cg<ch;cg++){if(ce[cg]===ce[ci]){ce.splice(ci--,1);break}}}}}return ce},has:function(ce){var cd,cc=bT(ce,this),e=cc.length;return this.filter(function(){for(cd=0;cd<e;cd++){if(bT.contains(this,cc[cd])){return true}}})},not:function(e){return this.pushStack(aZ(this,e,false),"not",e)},filter:function(e){return this.pushStack(aZ(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?L.test(e)?bT(e,this.context).index(this[0])>=0:bT.filter(e,this).length>0:this.filter(e).length>0)},closest:function(cf,ce){var cg,cd=0,e=this.length,cc=[],ch=L.test(cf)||typeof cf!=="string"?bT(cf,ce||this.context):0;for(;cd<e;cd++){cg=this[cd];while(cg&&cg.ownerDocument&&cg!==ce&&cg.nodeType!==11){if(ch?ch.index(cg)>-1:bT.find.matchesSelector(cg,cf)){cc.push(cg);break}cg=cg.parentNode}}cc=cc.length>1?bT.unique(cc):cc;return this.pushStack(cc,"closest",cf)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return bT.inArray(this[0],bT(e))}return bT.inArray(e.jquery?e[0]:e,this)},add:function(e,cc){var ce=typeof e==="string"?bT(e,cc):bT.makeArray(e&&e.nodeType?[e]:e),cd=bT.merge(this.get(),ce);return this.pushStack(a4(ce[0])||a4(cd[0])?cd:bT.unique(cd))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bT.fn.andSelf=bT.fn.addBack;function a4(e){return !e||!e.parentNode||e.parentNode.nodeType===11}function bb(cc,e){do{cc=cc[e]}while(cc&&cc.nodeType!==1);return cc}bT.each({parent:function(cc){var e=cc.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bT.dir(e,"parentNode")},parentsUntil:function(cc,e,cd){return bT.dir(cc,"parentNode",cd)},next:function(e){return bb(e,"nextSibling")},prev:function(e){return bb(e,"previousSibling")},nextAll:function(e){return bT.dir(e,"nextSibling")},prevAll:function(e){return bT.dir(e,"previousSibling")},nextUntil:function(cc,e,cd){return bT.dir(cc,"nextSibling",cd)},prevUntil:function(cc,e,cd){return bT.dir(cc,"previousSibling",cd)},siblings:function(e){return bT.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bT.sibling(e.firstChild)},contents:function(e){return bT.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bT.merge([],e.childNodes)}},function(e,cc){bT.fn[e]=function(cf,cd){var ce=bT.map(this,cc,cf);if(!au.test(e)){cd=cf}if(cd&&typeof cd==="string"){ce=bT.filter(cd,ce)}ce=this.length>1&&!bH[e]?bT.unique(ce):ce;if(this.length>1&&bD.test(e)){ce=ce.reverse()}return this.pushStack(ce,e,bh.call(arguments).join(","))}});bT.extend({filter:function(cd,e,cc){if(cc){cd=":not("+cd+")"}return e.length===1?bT.find.matchesSelector(e[0],cd)?[e[0]]:[]:bT.find.matches(cd,e)},dir:function(cd,cc,cf){var e=[],ce=cd[cc];while(ce&&ce.nodeType!==9&&(cf===aO||ce.nodeType!==1||!bT(ce).is(cf))){if(ce.nodeType===1){e.push(ce)}ce=ce[cc]}return e},sibling:function(cd,cc){var e=[];for(;cd;cd=cd.nextSibling){if(cd.nodeType===1&&cd!==cc){e.push(cd)}}return e}});function aZ(ce,cd,e){cd=cd||0;if(bT.isFunction(cd)){return bT.grep(ce,function(cg,cf){var ch=!!cd.call(cg,cf,cg);return ch===e})}else{if(cd.nodeType){return bT.grep(ce,function(cg,cf){return(cg===cd)===e})}else{if(typeof cd==="string"){var cc=bT.grep(ce,function(cf){return cf.nodeType===1});if(az.test(cd)){return bT.filter(cd,cc,!e)}else{cd=bT.filter(cd,cc)}}}}return bT.grep(ce,function(cg,cf){return(bT.inArray(cg,cd)>=0)===e})}function N(e){var cd=g.split("|"),cc=e.createDocumentFragment();if(cc.createElement){while(cd.length){cc.createElement(cd.pop())}}return cc}var g="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aI=/ jQuery\d+="(?:null|\d+)"/g,cb=/^\s+/,aL=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,C=/<([\w:]+)/,b6=/<tbody/i,W=/<|&#?\w+;/,ax=/<(?:script|style|link)/i,aD=/<(?:script|object|embed|option|style)/i,X=new RegExp("<(?:"+g+")[\\s/>]","i"),aR=/^(?:checkbox|radio)$/,b4=/checked\s*(?:[^=]|=\s*.checked.)/i,bJ=/\/(java|ecma)script/i,aU=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,ag={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},a3=N(B),y=a3.appendChild(B.createElement("div"));ag.optgroup=ag.option;ag.tbody=ag.tfoot=ag.colgroup=ag.caption=ag.thead;ag.th=ag.td;if(!bT.support.htmlSerialize){ag._default=[1,"X<div>","</div>"]}bT.fn.extend({text:function(e){return bT.access(this,function(cc){return cc===aO?bT.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(cc))},null,e,arguments.length)},wrapAll:function(e){if(bT.isFunction(e)){return this.each(function(cd){bT(this).wrapAll(e.call(this,cd))})}if(this[0]){var cc=bT(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){cc.insertBefore(this[0])}cc.map(function(){var cd=this;while(cd.firstChild&&cd.firstChild.nodeType===1){cd=cd.firstChild}return cd}).append(this)}return this},wrapInner:function(e){if(bT.isFunction(e)){return this.each(function(cc){bT(this).wrapInner(e.call(this,cc))})}return this.each(function(){var cc=bT(this),cd=cc.contents();if(cd.length){cd.wrapAll(e)}else{cc.append(e)}})},wrap:function(e){var cc=bT.isFunction(e);return this.each(function(cd){bT(this).wrapAll(cc?e.call(this,cd):e)})},unwrap:function(){return this.parent().each(function(){if(!bT.nodeName(this,"body")){bT(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.insertBefore(e,this.firstChild)}})},before:function(){if(!a4(this[0])){return this.domManip(arguments,false,function(cc){this.parentNode.insertBefore(cc,this)})}if(arguments.length){var e=bT.clean(arguments);return this.pushStack(bT.merge(e,this),"before",this.selector)}},after:function(){if(!a4(this[0])){return this.domManip(arguments,false,function(cc){this.parentNode.insertBefore(cc,this.nextSibling)})}if(arguments.length){var e=bT.clean(arguments);return this.pushStack(bT.merge(this,e),"after",this.selector)}},remove:function(e,ce){var cd,cc=0;for(;(cd=this[cc])!=null;cc++){if(!e||bT.filter(e,[cd]).length){if(!ce&&cd.nodeType===1){bT.cleanData(cd.getElementsByTagName("*"));bT.cleanData([cd])}if(cd.parentNode){cd.parentNode.removeChild(cd)}}}return this},empty:function(){var cc,e=0;for(;(cc=this[e])!=null;e++){if(cc.nodeType===1){bT.cleanData(cc.getElementsByTagName("*"))}while(cc.firstChild){cc.removeChild(cc.firstChild)}}return this},clone:function(cc,e){cc=cc==null?false:cc;e=e==null?cc:e;return this.map(function(){return bT.clone(this,cc,e)})},html:function(e){return bT.access(this,function(cf){var ce=this[0]||{},cd=0,cc=this.length;if(cf===aO){return ce.nodeType===1?ce.innerHTML.replace(aI,""):aO}if(typeof cf==="string"&&!ax.test(cf)&&(bT.support.htmlSerialize||!X.test(cf))&&(bT.support.leadingWhitespace||!cb.test(cf))&&!ag[(C.exec(cf)||["",""])[1].toLowerCase()]){cf=cf.replace(aL,"<$1></$2>");try{for(;cd<cc;cd++){ce=this[cd]||{};if(ce.nodeType===1){bT.cleanData(ce.getElementsByTagName("*"));ce.innerHTML=cf}}ce=0}catch(cg){}}if(ce){this.empty().append(cf)}},null,e,arguments.length)},replaceWith:function(e){if(!a4(this[0])){if(bT.isFunction(e)){return this.each(function(ce){var cd=bT(this),cc=cd.html();cd.replaceWith(e.call(this,ce,cc))})}if(typeof e!=="string"){e=bT(e).detach()}return this.each(function(){var cd=this.nextSibling,cc=this.parentNode;bT(this).remove();if(cd){bT(cd).before(e)}else{bT(cc).append(e)}})}return this.length?this.pushStack(bT(bT.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,true)},domManip:function(ch,cl,ck){ch=[].concat.apply([],ch);var cd,cf,cg,cj,ce=0,ci=ch[0],cc=[],e=this.length;if(!bT.support.checkClone&&e>1&&typeof ci==="string"&&b4.test(ci)){return this.each(function(){bT(this).domManip(ch,cl,ck)})}if(bT.isFunction(ci)){return this.each(function(co){var cn=bT(this);ch[0]=ci.call(this,co,cl?cn.html():aO);cn.domManip(ch,cl,ck)})}if(this[0]){cd=bT.buildFragment(ch,this,cc);cg=cd.fragment;cf=cg.firstChild;if(cg.childNodes.length===1){cg=cf}if(cf){cl=cl&&bT.nodeName(cf,"tr");for(cj=cd.cacheable||e-1;ce<e;ce++){ck.call(cl&&bT.nodeName(this[ce],"table")?K(this[ce],"tbody"):this[ce],ce===cj?cg:bT.clone(cg,true,true))}}cg=cf=null;if(cc.length){bT.each(cc,function(cn,co){if(co.src){if(bT.ajax){bT.ajax({url:co.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bT.error("no ajax")}}else{bT.globalEval((co.text||co.textContent||co.innerHTML||"").replace(aU,""))}if(co.parentNode){co.parentNode.removeChild(co)}})}}return this}});function K(cc,e){return cc.getElementsByTagName(e)[0]||cc.appendChild(cc.ownerDocument.createElement(e))}function aC(ci,cc){if(cc.nodeType!==1||!bT.hasData(ci)){return}var cf,ce,e,ch=bT._data(ci),cg=bT._data(cc,ch),cd=ch.events;if(cd){delete cg.handle;cg.events={};for(cf in cd){for(ce=0,e=cd[cf].length;ce<e;ce++){bT.event.add(cc,cf,cd[cf][ce])}}}if(cg.data){cg.data=bT.extend({},cg.data)}}function S(cc,e){var cd;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(cc)}cd=e.nodeName.toLowerCase();if(cd==="object"){if(e.parentNode){e.outerHTML=cc.outerHTML}if(bT.support.html5Clone&&(cc.innerHTML&&!bT.trim(e.innerHTML))){e.innerHTML=cc.innerHTML}}else{if(cd==="input"&&aR.test(cc.type)){e.defaultChecked=e.checked=cc.checked;if(e.value!==cc.value){e.value=cc.value}}else{if(cd==="option"){e.selected=cc.defaultSelected}else{if(cd==="input"||cd==="textarea"){e.defaultValue=cc.defaultValue}else{if(cd==="script"&&e.text!==cc.text){e.text=cc.text}}}}}e.removeAttribute(bT.expando)}bT.buildFragment=function(ce,cf,cc){var cd,e,cg,ch=ce[0];cf=cf||B;cf=!cf.nodeType&&cf[0]||cf;cf=cf.ownerDocument||cf;if(ce.length===1&&typeof ch==="string"&&ch.length<512&&cf===B&&ch.charAt(0)==="<"&&!aD.test(ch)&&(bT.support.checkClone||!b4.test(ch))&&(bT.support.html5Clone||!X.test(ch))){e=true;cd=bT.fragments[ch];cg=cd!==aO}if(!cd){cd=cf.createDocumentFragment();bT.clean(ce,cf,cd,cc);if(e){bT.fragments[ch]=cg&&cd}}return{fragment:cd,cacheable:e}};bT.fragments={};bT.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,cc){bT.fn[e]=function(cd){var cf,ch=0,cg=[],cj=bT(cd),ce=cj.length,ci=this.length===1&&this[0].parentNode;if((ci==null||ci&&ci.nodeType===11&&ci.childNodes.length===1)&&ce===1){cj[cc](this[0]);return this}else{for(;ch<ce;ch++){cf=(ch>0?this.clone(true):this).get();bT(cj[ch])[cc](cf);cg=cg.concat(cf)}return this.pushStack(cg,e,cj.selector)}}});function z(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}}function b5(e){if(aR.test(e.type)){e.defaultChecked=e.checked}}bT.extend({clone:function(cf,ch,cd){var e,cc,ce,cg;if(bT.support.html5Clone||bT.isXMLDoc(cf)||!X.test("<"+cf.nodeName+">")){cg=cf.cloneNode(true)}else{y.innerHTML=cf.outerHTML;y.removeChild(cg=y.firstChild)}if((!bT.support.noCloneEvent||!bT.support.noCloneChecked)&&(cf.nodeType===1||cf.nodeType===11)&&!bT.isXMLDoc(cf)){S(cf,cg);e=z(cf);cc=z(cg);for(ce=0;e[ce];++ce){if(cc[ce]){S(e[ce],cc[ce])}}}if(ch){aC(cf,cg);if(cd){e=z(cf);cc=z(cg);for(ce=0;e[ce];++ce){aC(e[ce],cc[ce])}}}e=cc=null;return cg},clean:function(cp,cd,e,ce){var cl,ck,co,ct,ch,cs,ci,cf,cc,cn,cr,cj,cg=cd===B&&a3,cq=[];if(!cd||typeof cd.createDocumentFragment==="undefined"){cd=B}for(cl=0;(co=cp[cl])!=null;cl++){if(typeof co==="number"){co+=""}if(!co){continue}if(typeof co==="string"){if(!W.test(co)){co=cd.createTextNode(co)}else{cg=cg||N(cd);ci=cd.createElement("div");cg.appendChild(ci);co=co.replace(aL,"<$1></$2>");ct=(C.exec(co)||["",""])[1].toLowerCase();ch=ag[ct]||ag._default;cs=ch[0];ci.innerHTML=ch[1]+co+ch[2];while(cs--){ci=ci.lastChild}if(!bT.support.tbody){cf=b6.test(co);cc=ct==="table"&&!cf?ci.firstChild&&ci.firstChild.childNodes:ch[1]==="<table>"&&!cf?ci.childNodes:[];for(ck=cc.length-1;ck>=0;--ck){if(bT.nodeName(cc[ck],"tbody")&&!cc[ck].childNodes.length){cc[ck].parentNode.removeChild(cc[ck])}}}if(!bT.support.leadingWhitespace&&cb.test(co)){ci.insertBefore(cd.createTextNode(cb.exec(co)[0]),ci.firstChild)}co=ci.childNodes;ci.parentNode.removeChild(ci)}}if(co.nodeType){cq.push(co)}else{bT.merge(cq,co)}}if(ci){co=ci=cg=null}if(!bT.support.appendChecked){for(cl=0;(co=cq[cl])!=null;cl++){if(bT.nodeName(co,"input")){b5(co)}else{if(typeof co.getElementsByTagName!=="undefined"){bT.grep(co.getElementsByTagName("input"),b5)}}}}if(e){cr=function(cu){if(!cu.type||bJ.test(cu.type)){return ce?ce.push(cu.parentNode?cu.parentNode.removeChild(cu):cu):e.appendChild(cu)}};for(cl=0;(co=cq[cl])!=null;cl++){if(!(bT.nodeName(co,"script")&&cr(co))){e.appendChild(co);if(typeof co.getElementsByTagName!=="undefined"){cj=bT.grep(bT.merge([],co.getElementsByTagName("script")),cr);cq.splice.apply(cq,[cl+1,0].concat(cj));cl+=cj.length}}}}return cq},cleanData:function(cc,ck){var cf,cd,ce,cj,cg=0,cl=bT.expando,e=bT.cache,ch=bT.support.deleteExpando,ci=bT.event.special;for(;(ce=cc[cg])!=null;cg++){if(ck||bT.acceptData(ce)){cd=ce[cl];cf=cd&&e[cd];if(cf){if(cf.events){for(cj in cf.events){if(ci[cj]){bT.event.remove(ce,cj)}else{bT.removeEvent(ce,cj,cf.handle)}}}if(e[cd]){delete e[cd];if(ch){delete ce[cl]}else{if(ce.removeAttribute){ce.removeAttribute(cl)}else{ce[cl]=null}}bT.deletedIds.push(cd)}}}}}});(function(){var e,cc;bT.uaMatch=function(ce){ce=ce.toLowerCase();var cd=/(chrome)[ \/]([\w.]+)/.exec(ce)||/(webkit)[ \/]([\w.]+)/.exec(ce)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ce)||/(msie) ([\w.]+)/.exec(ce)||ce.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ce)||[];return{browser:cd[1]||"",version:cd[2]||"0"}};e=bT.uaMatch(j.userAgent);cc={};if(e.browser){cc[e.browser]=true;cc.version=e.version}if(cc.chrome){cc.webkit=true}else{if(cc.webkit){cc.safari=true}}bT.browser=cc;bT.sub=function(){function cd(cg,ch){return new cd.fn.init(cg,ch)}bT.extend(true,cd,this);cd.superclass=this;cd.fn=cd.prototype=this();cd.fn.constructor=cd;cd.sub=this.sub;cd.fn.init=function cf(cg,ch){if(ch&&ch instanceof bT&&!(ch instanceof cd)){ch=cd(ch)}return bT.fn.init.call(this,cg,ch,ce)};cd.fn.init.prototype=cd.fn;var ce=cd(B);return cd}})();var R,aM,a9,br=/alpha\([^)]*\)/i,a5=/opacity=([^)]*)/,bx=/^(top|right|bottom|left)$/,T=/^(none|table(?!-c[ea]).+)/,bc=/^margin/,bl=new RegExp("^("+bK+")(.*)$","i"),aj=new RegExp("^("+bK+")(?!px)[a-z%]+$","i"),af=new RegExp("^([-+])=("+bK+")","i"),bu={},bm={position:"absolute",visibility:"hidden",display:"block"},bN={letterSpacing:0,fontWeight:400},b3=["Top","Right","Bottom","Left"],aF=["Webkit","O","Moz","ms"],aW=bT.fn.toggle;function b(ce,cc){if(cc in ce){return cc}var cf=cc.charAt(0).toUpperCase()+cc.slice(1),e=cc,cd=aF.length;while(cd--){cc=aF[cd]+cf;if(cc in ce){return cc}}return e}function ad(cc,e){cc=e||cc;return bT.css(cc,"display")==="none"||!bT.contains(cc.ownerDocument,cc)}function F(cg,e){var cf,ch,cc=[],cd=0,ce=cg.length;for(;cd<ce;cd++){cf=cg[cd];if(!cf.style){continue}cc[cd]=bT._data(cf,"olddisplay");if(e){if(!cc[cd]&&cf.style.display==="none"){cf.style.display=""}if(cf.style.display===""&&ad(cf)){cc[cd]=bT._data(cf,"olddisplay",bP(cf.nodeName))}}else{ch=R(cf,"display");if(!cc[cd]&&ch!=="none"){bT._data(cf,"olddisplay",ch)}}}for(cd=0;cd<ce;cd++){cf=cg[cd];if(!cf.style){continue}if(!e||cf.style.display==="none"||cf.style.display===""){cf.style.display=e?cc[cd]||"":"none"}}return cg}bT.fn.extend({css:function(e,cc){return bT.access(this,function(ce,cd,cf){return cf!==aO?bT.style(ce,cd,cf):bT.css(ce,cd)},e,cc,arguments.length>1)},show:function(){return F(this,true)},hide:function(){return F(this)},toggle:function(cd,cc){var e=typeof cd==="boolean";if(bT.isFunction(cd)&&bT.isFunction(cc)){return aW.apply(this,arguments)}return this.each(function(){if(e?cd:ad(this)){bT(this).show()}else{bT(this).hide()}})}});bT.extend({cssHooks:{opacity:{get:function(cd,cc){if(cc){var e=R(cd,"opacity");return e===""?"1":e}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bT.support.cssFloat?"cssFloat":"styleFloat"},style:function(ce,cd,ck,cf){if(!ce||ce.nodeType===3||ce.nodeType===8||!ce.style){return}var ci,cj,cl,cg=bT.camelCase(cd),cc=ce.style;cd=bT.cssProps[cg]||(bT.cssProps[cg]=b(cc,cg));cl=bT.cssHooks[cd]||bT.cssHooks[cg];if(ck!==aO){cj=typeof ck;if(cj==="string"&&(ci=af.exec(ck))){ck=(ci[1]+1)*ci[2]+parseFloat(bT.css(ce,cd));cj="number"}if(ck==null||cj==="number"&&isNaN(ck)){return}if(cj==="number"&&!bT.cssNumber[cg]){ck+="px"}if(!cl||!("set" in cl)||(ck=cl.set(ce,ck,cf))!==aO){try{cc[cd]=ck}catch(ch){}}}else{if(cl&&"get" in cl&&(ci=cl.get(ce,false,cf))!==aO){return ci}return cc[cd]}},css:function(ch,cf,cg,cc){var ci,ce,e,cd=bT.camelCase(cf);cf=bT.cssProps[cd]||(bT.cssProps[cd]=b(ch.style,cd));e=bT.cssHooks[cf]||bT.cssHooks[cd];if(e&&"get" in e){ci=e.get(ch,true,cc)}if(ci===aO){ci=R(ch,cf)}if(ci==="normal"&&cf in bN){ci=bN[cf]}if(cg||cc!==aO){ce=parseFloat(ci);return cg||bT.isNumeric(ce)?ce||0:ci}return ci},swap:function(cf,ce,cg){var cd,cc,e={};for(cc in ce){e[cc]=cf.style[cc];cf.style[cc]=ce[cc]}cd=cg.call(cf);for(cc in ce){cf.style[cc]=e[cc]}return cd}});if(bf.getComputedStyle){R=function(ci,cc){var e,cf,ce,ch,cg=bf.getComputedStyle(ci,null),cd=ci.style;if(cg){e=cg[cc];if(e===""&&!bT.contains(ci.ownerDocument,ci)){e=bT.style(ci,cc)}if(aj.test(e)&&bc.test(cc)){cf=cd.width;ce=cd.minWidth;ch=cd.maxWidth;cd.minWidth=cd.maxWidth=cd.width=e;e=cg.width;cd.width=cf;cd.minWidth=ce;cd.maxWidth=ch}}return e}}else{if(B.documentElement.currentStyle){R=function(cf,cd){var cg,e,cc=cf.currentStyle&&cf.currentStyle[cd],ce=cf.style;if(cc==null&&ce&&ce[cd]){cc=ce[cd]}if(aj.test(cc)&&!bx.test(cd)){cg=ce.left;e=cf.runtimeStyle&&cf.runtimeStyle.left;if(e){cf.runtimeStyle.left=cf.currentStyle.left}ce.left=cd==="fontSize"?"1em":cc;cc=ce.pixelLeft+"px";ce.left=cg;if(e){cf.runtimeStyle.left=e}}return cc===""?"auto":cc}}}function aT(e,cd,ce){var cc=bl.exec(cd);return cc?Math.max(0,cc[1]-(ce||0))+(cc[2]||"px"):cd}function aG(ce,cc,e,cg){var cd=e===(cg?"border":"content")?4:cc==="width"?1:0,cf=0;for(;cd<4;cd+=2){if(e==="margin"){cf+=bT.css(ce,e+b3[cd],true)}if(cg){if(e==="content"){cf-=parseFloat(R(ce,"padding"+b3[cd]))||0}if(e!=="margin"){cf-=parseFloat(R(ce,"border"+b3[cd]+"Width"))||0}}else{cf+=parseFloat(R(ce,"padding"+b3[cd]))||0;if(e!=="padding"){cf+=parseFloat(R(ce,"border"+b3[cd]+"Width"))||0}}}return cf}function H(ce,cc,e){var cf=cc==="width"?ce.offsetWidth:ce.offsetHeight,cd=true,cg=bT.support.boxSizing&&bT.css(ce,"boxSizing")==="border-box";if(cf<=0||cf==null){cf=R(ce,cc);if(cf<0||cf==null){cf=ce.style[cc]}if(aj.test(cf)){return cf}cd=cg&&(bT.support.boxSizingReliable||cf===ce.style[cc]);cf=parseFloat(cf)||0}return(cf+aG(ce,cc,e||(cg?"border":"content"),cd))+"px"}function bP(cd){if(bu[cd]){return bu[cd]}var e=bT("<"+cd+">").appendTo(B.body),cc=e.css("display");e.remove();if(cc==="none"||cc===""){aM=B.body.appendChild(aM||bT.extend(B.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!a9||!aM.createElement){a9=(aM.contentWindow||aM.contentDocument).document;a9.write("<!doctype html><html><body>");a9.close()}e=a9.body.appendChild(a9.createElement(cd));cc=R(e,"display");B.body.removeChild(aM)}bu[cd]=cc;return cc}bT.each(["height","width"],function(cc,e){bT.cssHooks[e]={get:function(cf,ce,cd){if(ce){if(cf.offsetWidth===0&&T.test(R(cf,"display"))){return bT.swap(cf,bm,function(){return H(cf,e,cd)})}else{return H(cf,e,cd)}}},set:function(ce,cf,cd){return aT(ce,cf,cd?aG(ce,e,cd,bT.support.boxSizing&&bT.css(ce,"boxSizing")==="border-box"):0)}}});if(!bT.support.opacity){bT.cssHooks.opacity={get:function(cc,e){return a5.test((e&&cc.currentStyle?cc.currentStyle.filter:cc.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(cf,cg){var ce=cf.style,cc=cf.currentStyle,e=bT.isNumeric(cg)?"alpha(opacity="+cg*100+")":"",cd=cc&&cc.filter||ce.filter||"";ce.zoom=1;if(cg>=1&&bT.trim(cd.replace(br,""))===""&&ce.removeAttribute){ce.removeAttribute("filter");if(cc&&!cc.filter){return}}ce.filter=br.test(cd)?cd.replace(br,e):cd+" "+e}}}bT(function(){if(!bT.support.reliableMarginRight){bT.cssHooks.marginRight={get:function(cc,e){return bT.swap(cc,{display:"inline-block"},function(){if(e){return R(cc,"marginRight")}})}}}if(!bT.support.pixelPosition&&bT.fn.position){bT.each(["top","left"],function(e,cc){bT.cssHooks[cc]={get:function(cf,ce){if(ce){var cd=R(cf,cc);return aj.test(cd)?bT(cf).position()[cc]+"px":cd}}}})}});if(bT.expr&&bT.expr.filters){bT.expr.filters.hidden=function(e){return(e.offsetWidth===0&&e.offsetHeight===0)||(!bT.support.reliableHiddenOffsets&&((e.style&&e.style.display)||R(e,"display"))==="none")};bT.expr.filters.visible=function(e){return !bT.expr.filters.hidden(e)}}bT.each({margin:"",padding:"",border:"Width"},function(e,cc){bT.cssHooks[e+cc]={expand:function(cf){var ce,cg=typeof cf==="string"?cf.split(" "):[cf],cd={};for(ce=0;ce<4;ce++){cd[e+b3[ce]+cc]=cg[ce]||cg[ce-2]||cg[0]}return cd}};if(!bc.test(e)){bT.cssHooks[e+cc].set=aT}});var bF=/%20/g,a2=/\[\]$/,ah=/\r?\n/g,bM=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aQ=/^(?:select|textarea)/i;bT.fn.extend({serialize:function(){return bT.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?bT.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||aQ.test(this.nodeName)||bM.test(this.type))}).map(function(e,cc){var cd=bT(this).val();return cd==null?null:bT.isArray(cd)?bT.map(cd,function(cf,ce){return{name:cc.name,value:cf.replace(ah,"\r\n")}}):{name:cc.name,value:cd.replace(ah,"\r\n")}}).get()}});bT.param=function(e,cd){var ce,cc=[],cf=function(cg,ch){ch=bT.isFunction(ch)?ch():(ch==null?"":ch);cc[cc.length]=encodeURIComponent(cg)+"="+encodeURIComponent(ch)};if(cd===aO){cd=bT.ajaxSettings&&bT.ajaxSettings.traditional}if(bT.isArray(e)||(e.jquery&&!bT.isPlainObject(e))){bT.each(e,function(){cf(this.name,this.value)})}else{for(ce in e){u(ce,e[ce],cd,cf)}}return cc.join("&").replace(bF,"+")};function u(cd,cf,cc,ce){var e;if(bT.isArray(cf)){bT.each(cf,function(ch,cg){if(cc||a2.test(cd)){ce(cd,cg)}else{u(cd+"["+(typeof cg==="object"?ch:"")+"]",cg,cc,ce)}})}else{if(!cc&&bT.type(cf)==="object"){for(e in cf){u(cd+"["+e+"]",cf[e],cc,ce)}}else{ce(cd,cf)}}}var ca,al,aB=/#.*$/,aq=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,O=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,E=/^(?:GET|HEAD)$/,aP=/^\/\//,b0=/\?/,l=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ac=/([?&])_=[^&]*/,a6=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b9=bT.fn.load,I={},bj={},ba=["*/"]+["*"];try{al=aV.href}catch(bq){al=B.createElement("a");al.href="";al=al.href}ca=a6.exec(al.toLowerCase())||[];function bV(e){return function(cf,ch){if(typeof cf!=="string"){ch=cf;cf="*"}var cc,ci,cj,ce=cf.toLowerCase().split(a8),cd=0,cg=ce.length;if(bT.isFunction(ch)){for(;cd<cg;cd++){cc=ce[cd];cj=/^\+/.test(cc);if(cj){cc=cc.substr(1)||"*"}ci=e[cc]=e[cc]||[];ci[cj?"unshift":"push"](ch)}}}}function D(cc,cl,cg,cj,ci,ce){ci=ci||cl.dataTypes[0];ce=ce||{};ce[ci]=true;var ck,ch=cc[ci],cd=0,e=ch?ch.length:0,cf=(cc===I);for(;cd<e&&(cf||!ck);cd++){ck=ch[cd](cl,cg,cj);if(typeof ck==="string"){if(!cf||ce[ck]){ck=aO}else{cl.dataTypes.unshift(ck);ck=D(cc,cl,cg,cj,ck,ce)}}}if((cf||!ck)&&!ce["*"]){ck=D(cc,cl,cg,cj,"*",ce)}return ck}function G(cd,ce){var cc,e,cf=bT.ajaxSettings.flatOptions||{};for(cc in ce){if(ce[cc]!==aO){(cf[cc]?cd:(e||(e={})))[cc]=ce[cc]}}if(e){bT.extend(true,cd,e)}}bT.fn.load=function(ce,ch,ci){if(typeof ce!=="string"&&b9){return b9.apply(this,arguments)}if(!this.length){return this}var e,cf,cd,cc=this,cg=ce.indexOf(" ");if(cg>=0){e=ce.slice(cg,ce.length);ce=ce.slice(0,cg)}if(bT.isFunction(ch)){ci=ch;ch=aO}else{if(ch&&typeof ch==="object"){cf="POST"}}bT.ajax({url:ce,type:cf,dataType:"html",data:ch,complete:function(ck,cj){if(ci){cc.each(ci,cd||[ck.responseText,cj,ck])}}}).done(function(cj){cd=arguments;cc.html(e?bT("<div>").append(cj.replace(l,"")).find(e):cj)});return this};bT.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,cc){bT.fn[cc]=function(cd){return this.on(cc,cd)}});bT.each(["get","post"],function(e,cc){bT[cc]=function(cd,cf,cg,ce){if(bT.isFunction(cf)){ce=ce||cg;cg=cf;cf=aO}return bT.ajax({type:cc,url:cd,data:cf,success:cg,dataType:ce})}});bT.extend({getScript:function(e,cc){return bT.get(e,aO,cc,"script")},getJSON:function(e,cc,cd){return bT.get(e,cc,cd,"json")},ajaxSetup:function(cc,e){if(e){G(cc,bT.ajaxSettings)}else{e=cc;cc=bT.ajaxSettings}G(cc,e);return cc},ajaxSettings:{url:al,isLocal:O.test(ca[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":ba},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":bf.String,"text html":true,"text json":bT.parseJSON,"text xml":bT.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:bV(I),ajaxTransport:bV(bj),ajax:function(ch,ce){if(typeof ch==="object"){ce=ch;ch=aO}ce=ce||{};var ck,cz,cf,cu,cn,cr,cd,ct,cl=bT.ajaxSetup({},ce),cB=cl.context||cl,cp=cB!==cl&&(cB.nodeType||cB instanceof bT)?bT(cB):bT.event,cA=bT.Deferred(),cw=bT.Callbacks("once memory"),ci=cl.statusCode||{},cq={},cx={},cg=0,cj="canceled",cs={readyState:0,setRequestHeader:function(cC,cD){if(!cg){var e=cC.toLowerCase();cC=cx[e]=cx[e]||cC;cq[cC]=cD}return this},getAllResponseHeaders:function(){return cg===2?cz:null},getResponseHeader:function(cC){var e;if(cg===2){if(!cf){cf={};while((e=aq.exec(cz))){cf[e[1].toLowerCase()]=e[2]}}e=cf[cC.toLowerCase()]}return e===aO?null:e},overrideMimeType:function(e){if(!cg){cl.mimeType=e}return this},abort:function(e){e=e||cj;if(cu){cu.abort(e)}co(0,e);return this}};function co(cG,cC,cH,cE){var e,cK,cI,cF,cJ,cD=cC;if(cg===2){return}cg=2;if(cn){clearTimeout(cn)}cu=aO;cz=cE||"";cs.readyState=cG>0?4:0;if(cH){cF=n(cl,cs,cH)}if(cG>=200&&cG<300||cG===304){if(cl.ifModified){cJ=cs.getResponseHeader("Last-Modified");if(cJ){bT.lastModified[ck]=cJ}cJ=cs.getResponseHeader("Etag");if(cJ){bT.etag[ck]=cJ}}if(cG===304){cD="notmodified";e=true}else{e=ar(cl,cF);cD=e.state;cK=e.data;cI=e.error;e=!cI}}else{cI=cD;if(!cD||cG){cD="error";if(cG<0){cG=0}}}cs.status=cG;cs.statusText=(cC||cD)+"";if(e){cA.resolveWith(cB,[cK,cD,cs])}else{cA.rejectWith(cB,[cs,cD,cI])}cs.statusCode(ci);ci=aO;if(cd){cp.trigger("ajax"+(e?"Success":"Error"),[cs,cl,e?cK:cI])}cw.fireWith(cB,[cs,cD]);if(cd){cp.trigger("ajaxComplete",[cs,cl]);if(!(--bT.active)){bT.event.trigger("ajaxStop")}}}cA.promise(cs);cs.success=cs.done;cs.error=cs.fail;cs.complete=cw.add;cs.statusCode=function(cC){if(cC){var e;if(cg<2){for(e in cC){ci[e]=[ci[e],cC[e]]}}else{e=cC[cs.status];cs.always(e)}}return this};cl.url=((ch||cl.url)+"").replace(aB,"").replace(aP,ca[1]+"//");cl.dataTypes=bT.trim(cl.dataType||"*").toLowerCase().split(a8);if(cl.crossDomain==null){cr=a6.exec(cl.url.toLowerCase())||false;cl.crossDomain=cr&&(cr.join(":")+(cr[3]?"":cr[1]==="http:"?80:443))!==(ca.join(":")+(ca[3]?"":ca[1]==="http:"?80:443))}if(cl.data&&cl.processData&&typeof cl.data!=="string"){cl.data=bT.param(cl.data,cl.traditional)}D(I,cl,ce,cs);if(cg===2){return cs}cd=cl.global;cl.type=cl.type.toUpperCase();cl.hasContent=!E.test(cl.type);if(cd&&bT.active++===0){bT.event.trigger("ajaxStart")}if(!cl.hasContent){if(cl.data){cl.url+=(b0.test(cl.url)?"&":"?")+cl.data;delete cl.data}ck=cl.url;if(cl.cache===false){var cc=bT.now(),cy=cl.url.replace(ac,"$1_="+cc);cl.url=cy+((cy===cl.url)?(b0.test(cl.url)?"&":"?")+"_="+cc:"")}}if(cl.data&&cl.hasContent&&cl.contentType!==false||ce.contentType){cs.setRequestHeader("Content-Type",cl.contentType)}if(cl.ifModified){ck=ck||cl.url;if(bT.lastModified[ck]){cs.setRequestHeader("If-Modified-Since",bT.lastModified[ck])}if(bT.etag[ck]){cs.setRequestHeader("If-None-Match",bT.etag[ck])}}cs.setRequestHeader("Accept",cl.dataTypes[0]&&cl.accepts[cl.dataTypes[0]]?cl.accepts[cl.dataTypes[0]]+(cl.dataTypes[0]!=="*"?", "+ba+"; q=0.01":""):cl.accepts["*"]);for(ct in cl.headers){cs.setRequestHeader(ct,cl.headers[ct])}if(cl.beforeSend&&(cl.beforeSend.call(cB,cs,cl)===false||cg===2)){return cs.abort()}cj="abort";for(ct in {success:1,error:1,complete:1}){cs[ct](cl[ct])}cu=D(bj,cl,ce,cs);if(!cu){co(-1,"No Transport")}else{cs.readyState=1;if(cd){cp.trigger("ajaxSend",[cs,cl])}if(cl.async&&cl.timeout>0){cn=setTimeout(function(){cs.abort("timeout")},cl.timeout)}try{cg=1;cu.send(cq,co)}catch(cv){if(cg<2){co(-1,cv)}else{throw cv}}}return cs},active:0,lastModified:{},etag:{}});function n(ck,cj,cg){var cf,ch,ce,e,cc=ck.contents,ci=ck.dataTypes,cd=ck.responseFields;for(ch in cd){if(ch in cg){cj[cd[ch]]=cg[ch]}}while(ci[0]==="*"){ci.shift();if(cf===aO){cf=ck.mimeType||cj.getResponseHeader("content-type")}}if(cf){for(ch in cc){if(cc[ch]&&cc[ch].test(cf)){ci.unshift(ch);break}}}if(ci[0] in cg){ce=ci[0]}else{for(ch in cg){if(!ci[0]||ck.converters[ch+" "+ci[0]]){ce=ch;break}if(!e){e=ch}}ce=ce||e}if(ce){if(ce!==ci[0]){ci.unshift(ce)}return cg[ce]}}function ar(cn,ce){var ck,cc,ci,cg,cj=cn.dataTypes.slice(),cd=cj[0],cl={},cf=0;if(cn.dataFilter){ce=cn.dataFilter(ce,cn.dataType)}if(cj[1]){for(ck in cn.converters){cl[ck.toLowerCase()]=cn.converters[ck]}}for(;(ci=cj[++cf]);){if(ci!=="*"){if(cd!=="*"&&cd!==ci){ck=cl[cd+" "+ci]||cl["* "+ci];if(!ck){for(cc in cl){cg=cc.split(" ");if(cg[1]===ci){ck=cl[cd+" "+cg[0]]||cl["* "+cg[0]];if(ck){if(ck===true){ck=cl[cc]}else{if(cl[cc]!==true){ci=cg[0];cj.splice(cf--,0,ci)}}break}}}}if(ck!==true){if(ck&&cn["throws"]){ce=ck(ce)}else{try{ce=ck(ce)}catch(ch){return{state:"parsererror",error:ck?ch:"No conversion from "+cd+" to "+ci}}}}}cd=ci}}return{state:"success",data:ce}}var bC=[],aJ=/\?/,bi=/(=)\?(?=&|$)|\?\?/,by=bT.now();bT.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bC.pop()||(bT.expando+"_"+(by++));this[e]=true;return e}});bT.ajaxPrefilter("json jsonp",function(cl,cg,ck){var cj,e,ci,ce=cl.data,cc=cl.url,cd=cl.jsonp!==false,ch=cd&&bi.test(cc),cf=cd&&!ch&&typeof ce==="string"&&!(cl.contentType||"").indexOf("application/x-www-form-urlencoded")&&bi.test(ce);if(cl.dataTypes[0]==="jsonp"||ch||cf){cj=cl.jsonpCallback=bT.isFunction(cl.jsonpCallback)?cl.jsonpCallback():cl.jsonpCallback;e=bf[cj];if(ch){cl.url=cc.replace(bi,"$1"+cj)}else{if(cf){cl.data=ce.replace(bi,"$1"+cj)}else{if(cd){cl.url+=(aJ.test(cc)?"&":"?")+cl.jsonp+"="+cj}}}cl.converters["script json"]=function(){if(!ci){bT.error(cj+" was not called")}return ci[0]};cl.dataTypes[0]="json";bf[cj]=function(){ci=arguments};ck.always(function(){bf[cj]=e;if(cl[cj]){cl.jsonpCallback=cg.jsonpCallback;bC.push(cj)}if(ci&&bT.isFunction(e)){e(ci[0])}ci=e=aO});return"script"}});bT.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){bT.globalEval(e);return e}}});bT.ajaxPrefilter("script",function(e){if(e.cache===aO){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bT.ajaxTransport("script",function(cd){if(cd.crossDomain){var e,cc=B.head||B.getElementsByTagName("head")[0]||B.documentElement;return{send:function(ce,cf){e=B.createElement("script");e.async="async";if(cd.scriptCharset){e.charset=cd.scriptCharset}e.src=cd.url;e.onload=e.onreadystatechange=function(ch,cg){if(cg||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(cc&&e.parentNode){cc.removeChild(e)}e=aO;if(!cg){cf(200,"success")}}};cc.insertBefore(e,cc.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var av,a0=bf.ActiveXObject?function(){for(var e in av){av[e](0,1)}}:false,aH=0;function bO(){try{return new bf.XMLHttpRequest()}catch(cc){}}function bo(){try{return new bf.ActiveXObject("Microsoft.XMLHTTP")}catch(cc){}}bT.ajaxSettings.xhr=bf.ActiveXObject?function(){return !this.isLocal&&bO()||bo()}:bO;(function(e){bT.extend(bT.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(bT.ajaxSettings.xhr());if(bT.support.ajax){bT.ajaxTransport(function(e){if(!e.crossDomain||bT.support.cors){var cc;return{send:function(ci,cd){var cg,cf,ch=e.xhr();if(e.username){ch.open(e.type,e.url,e.async,e.username,e.password)}else{ch.open(e.type,e.url,e.async)}if(e.xhrFields){for(cf in e.xhrFields){ch[cf]=e.xhrFields[cf]}}if(e.mimeType&&ch.overrideMimeType){ch.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!ci["X-Requested-With"]){ci["X-Requested-With"]="XMLHttpRequest"}try{for(cf in ci){ch.setRequestHeader(cf,ci[cf])}}catch(ce){}ch.send((e.hasContent&&e.data)||null);cc=function(cs,cl){var cn,ck,cj,cq,cp;try{if(cc&&(cl||ch.readyState===4)){cc=aO;if(cg){ch.onreadystatechange=bT.noop;if(a0){delete av[cg]}}if(cl){if(ch.readyState!==4){ch.abort()}}else{cn=ch.status;cj=ch.getAllResponseHeaders();cq={};cp=ch.responseXML;if(cp&&cp.documentElement){cq.xml=cp}try{cq.text=ch.responseText}catch(cs){}try{ck=ch.statusText}catch(cr){ck=""}if(!cn&&e.isLocal&&!e.crossDomain){cn=cq.text?200:404}else{if(cn===1223){cn=204}}}}}catch(co){if(!cl){cd(-1,co)}}if(cq){cd(cn,ck,cq,cj)}};if(!e.async){cc()}else{if(ch.readyState===4){setTimeout(cc,0)}else{cg=++aH;if(a0){if(!av){av={};bT(bf).unload(a0)}av[cg]=cc}ch.onreadystatechange=cc}}},abort:function(){if(cc){cc(0,1)}}}}})}var Y,ao,b1=/^(?:toggle|show|hide)$/,bU=new RegExp("^(?:([-+])=|)("+bK+")([a-z%]*)$","i"),bZ=/queueHooks$/,aK=[o],be={"*":[function(e,ci){var ce,cj,ck=this.createTween(e,ci),cf=bU.exec(ci),cg=ck.cur(),cc=+cg||0,cd=1,ch=20;if(cf){ce=+cf[2];cj=cf[3]||(bT.cssNumber[e]?"":"px");if(cj!=="px"&&cc){cc=bT.css(ck.elem,e,true)||ce||1;do{cd=cd||".5";cc=cc/cd;bT.style(ck.elem,e,cc+cj)}while(cd!==(cd=ck.cur()/cg)&&cd!==1&&--ch)}ck.unit=cj;ck.start=cc;ck.end=cf[1]?cc+(cf[1]+1)*ce:ce}return ck}]};function bw(){setTimeout(function(){Y=aO},0);return(Y=bT.now())}function bp(cc,e){bT.each(e,function(ch,cf){var cg=(be[ch]||[]).concat(be["*"]),cd=0,ce=cg.length;for(;cd<ce;cd++){if(cg[cd].call(cc,ch,cf)){return}}})}function k(cd,ch,ck){var cl,cg=0,e=0,cc=aK.length,cj=bT.Deferred().always(function(){delete cf.elem}),cf=function(){var cr=Y||bw(),co=Math.max(0,ce.startTime+ce.duration-cr),cq=1-(co/ce.duration||0),cn=0,cp=ce.tweens.length;for(;cn<cp;cn++){ce.tweens[cn].run(cq)}cj.notifyWith(cd,[ce,cq,co]);if(cq<1&&cp){return co}else{cj.resolveWith(cd,[ce]);return false}},ce=cj.promise({elem:cd,props:bT.extend({},ch),opts:bT.extend(true,{specialEasing:{}},ck),originalProperties:ch,originalOptions:ck,startTime:Y||bw(),duration:ck.duration,tweens:[],createTween:function(cq,cn,cp){var co=bT.Tween(cd,ce.opts,cq,cn,ce.opts.specialEasing[cq]||ce.opts.easing);ce.tweens.push(co);return co},stop:function(co){var cn=0,cp=co?ce.tweens.length:0;for(;cn<cp;cn++){ce.tweens[cn].run(1)}if(co){cj.resolveWith(cd,[ce,co])}else{cj.rejectWith(cd,[ce,co])}return this}}),ci=ce.props;ay(ci,ce.opts.specialEasing);for(;cg<cc;cg++){cl=aK[cg].call(ce,cd,ci,ce.opts);if(cl){return cl}}bp(ce,ci);if(bT.isFunction(ce.opts.start)){ce.opts.start.call(cd,ce)}bT.fx.timer(bT.extend(cf,{anim:ce,queue:ce.opts.queue,elem:cd}));return ce.progress(ce.opts.progress).done(ce.opts.done,ce.opts.complete).fail(ce.opts.fail).always(ce.opts.always)}function ay(ce,cg){var cd,cc,ch,cf,e;for(cd in ce){cc=bT.camelCase(cd);ch=cg[cc];cf=ce[cd];if(bT.isArray(cf)){ch=cf[1];cf=ce[cd]=cf[0]}if(cd!==cc){ce[cc]=cf;delete ce[cd]}e=bT.cssHooks[cc];if(e&&"expand" in e){cf=e.expand(cf);delete ce[cc];for(cd in cf){if(!(cd in ce)){ce[cd]=cf[cd];cg[cd]=ch}}}else{cg[cc]=ch}}}bT.Animation=bT.extend(k,{tweener:function(cc,cf){if(bT.isFunction(cc)){cf=cc;cc=["*"]}else{cc=cc.split(" ")}var ce,e=0,cd=cc.length;for(;e<cd;e++){ce=cc[e];be[ce]=be[ce]||[];be[ce].unshift(cf)}},prefilter:function(cc,e){if(e){aK.unshift(cc)}else{aK.push(cc)}}});function o(cf,ck,e){var cj,cd,cn,ce,cr,cq,cp,co,cg=this,cc=cf.style,cl={},ci=[],ch=cf.nodeType&&ad(cf);if(!e.queue){cp=bT._queueHooks(cf,"fx");if(cp.unqueued==null){cp.unqueued=0;co=cp.empty.fire;cp.empty.fire=function(){if(!cp.unqueued){co()}}}cp.unqueued++;cg.always(function(){cg.always(function(){cp.unqueued--;if(!bT.queue(cf,"fx").length){cp.empty.fire()}})})}if(cf.nodeType===1&&("height" in ck||"width" in ck)){e.overflow=[cc.overflow,cc.overflowX,cc.overflowY];if(bT.css(cf,"display")==="inline"&&bT.css(cf,"float")==="none"){if(!bT.support.inlineBlockNeedsLayout||bP(cf.nodeName)==="inline"){cc.display="inline-block"}else{cc.zoom=1}}}if(e.overflow){cc.overflow="hidden";if(!bT.support.shrinkWrapBlocks){cg.done(function(){cc.overflow=e.overflow[0];cc.overflowX=e.overflow[1];cc.overflowY=e.overflow[2]})}}for(cj in ck){cn=ck[cj];if(b1.exec(cn)){delete ck[cj];if(cn===(ch?"hide":"show")){continue}ci.push(cj)}}ce=ci.length;if(ce){cr=bT._data(cf,"fxshow")||bT._data(cf,"fxshow",{});if(ch){bT(cf).show()}else{cg.done(function(){bT(cf).hide()})}cg.done(function(){var cs;bT.removeData(cf,"fxshow",true);for(cs in cl){bT.style(cf,cs,cl[cs])}});for(cj=0;cj<ce;cj++){cd=ci[cj];cq=cg.createTween(cd,ch?cr[cd]:0);cl[cd]=cr[cd]||bT.style(cf,cd);if(!(cd in cr)){cr[cd]=cq.start;if(ch){cq.end=cq.start;cq.start=cd==="width"||cd==="height"?1:0}}}}}function U(cd,cc,cf,e,ce){return new U.prototype.init(cd,cc,cf,e,ce)}bT.Tween=U;U.prototype={constructor:U,init:function(ce,cc,cg,e,cf,cd){this.elem=ce;this.prop=cg;this.easing=cf||"swing";this.options=cc;this.start=this.now=this.cur();this.end=e;this.unit=cd||(bT.cssNumber[cg]?"":"px")},cur:function(){var e=U.propHooks[this.prop];return e&&e.get?e.get(this):U.propHooks._default.get(this)},run:function(cd){var cc,e=U.propHooks[this.prop];if(this.options.duration){this.pos=cc=bT.easing[this.easing](cd,this.options.duration*cd,0,1,this.options.duration)}else{this.pos=cc=cd}this.now=(this.end-this.start)*cc+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{U.propHooks._default.set(this)}return this}};U.prototype.init.prototype=U.prototype;U.propHooks={_default:{get:function(cc){var e;if(cc.elem[cc.prop]!=null&&(!cc.elem.style||cc.elem.style[cc.prop]==null)){return cc.elem[cc.prop]}e=bT.css(cc.elem,cc.prop,false,"");return !e||e==="auto"?0:e},set:function(e){if(bT.fx.step[e.prop]){bT.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bT.cssProps[e.prop]]!=null||bT.cssHooks[e.prop])){bT.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bT.each(["toggle","show","hide"],function(cc,e){var cd=bT.fn[e];bT.fn[e]=function(ce,cg,cf){return ce==null||typeof ce==="boolean"||(!cc&&bT.isFunction(ce)&&bT.isFunction(cg))?cd.apply(this,arguments):this.animate(bS(e,true),ce,cg,cf)}});bT.fn.extend({fadeTo:function(e,ce,cd,cc){return this.filter(ad).css("opacity",0).show().end().animate({opacity:ce},e,cd,cc)},animate:function(ch,ce,cg,cf){var cd=bT.isEmptyObject(ch),e=bT.speed(ce,cg,cf),cc=function(){var ci=k(this,bT.extend({},ch),e);if(cd){ci.stop(true)}};return cd||e.queue===false?this.each(cc):this.queue(e.queue,cc)},stop:function(cd,cc,e){var ce=function(cf){var cg=cf.stop;delete cf.stop;cg(e)};if(typeof cd!=="string"){e=cc;cc=cd;cd=aO}if(cc&&cd!==false){this.queue(cd||"fx",[])}return this.each(function(){var ci=true,cf=cd!=null&&cd+"queueHooks",ch=bT.timers,cg=bT._data(this);if(cf){if(cg[cf]&&cg[cf].stop){ce(cg[cf])}}else{for(cf in cg){if(cg[cf]&&cg[cf].stop&&bZ.test(cf)){ce(cg[cf])}}}for(cf=ch.length;cf--;){if(ch[cf].elem===this&&(cd==null||ch[cf].queue===cd)){ch[cf].anim.stop(e);ci=false;ch.splice(cf,1)}}if(ci||!e){bT.dequeue(this,cd)}})}});function bS(cd,cf){var ce,e={height:cd},cc=0;cf=cf?1:0;for(;cc<4;cc+=2-cf){ce=b3[cc];e["margin"+ce]=e["padding"+ce]=cd}if(cf){e.opacity=e.width=cd}return e}bT.each({slideDown:bS("show"),slideUp:bS("hide"),slideToggle:bS("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,cc){bT.fn[e]=function(cd,cf,ce){return this.animate(cc,cd,cf,ce)}});bT.speed=function(cd,ce,cc){var e=cd&&typeof cd==="object"?bT.extend({},cd):{complete:cc||!cc&&ce||bT.isFunction(cd)&&cd,duration:cd,easing:cc&&ce||ce&&!bT.isFunction(ce)&&ce};e.duration=bT.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bT.fx.speeds?bT.fx.speeds[e.duration]:bT.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bT.isFunction(e.old)){e.old.call(this)}if(e.queue){bT.dequeue(this,e.queue)}};return e};bT.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bT.timers=[];bT.fx=U.prototype.init;bT.fx.tick=function(){var cd,cc=bT.timers,e=0;for(;e<cc.length;e++){cd=cc[e];if(!cd()&&cc[e]===cd){cc.splice(e--,1)}}if(!cc.length){bT.fx.stop()}};bT.fx.timer=function(e){if(e()&&bT.timers.push(e)&&!ao){ao=setInterval(bT.fx.tick,bT.fx.interval)}};bT.fx.interval=13;bT.fx.stop=function(){clearInterval(ao);ao=null};bT.fx.speeds={slow:600,fast:200,_default:400};bT.fx.step={};if(bT.expr&&bT.expr.filters){bT.expr.filters.animated=function(e){return bT.grep(bT.timers,function(cc){return e===cc.elem}).length}}var bz=/^(?:body|html)$/i;bT.fn.offset=function(cl){if(arguments.length){return cl===aO?this:this.each(function(cn){bT.offset.setOffset(this,cl,cn)})}var cc,ch,ci,cf,cj,e,ce,cg={top:0,left:0},cd=this[0],ck=cd&&cd.ownerDocument;if(!ck){return}if((ch=ck.body)===cd){return bT.offset.bodyOffset(cd)}cc=ck.documentElement;if(!bT.contains(cc,cd)){return cg}if(typeof cd.getBoundingClientRect!=="undefined"){cg=cd.getBoundingClientRect()}ci=bA(ck);cf=cc.clientTop||ch.clientTop||0;cj=cc.clientLeft||ch.clientLeft||0;e=ci.pageYOffset||cc.scrollTop;ce=ci.pageXOffset||cc.scrollLeft;return{top:cg.top+e-cf,left:cg.left+ce-cj}};bT.offset={bodyOffset:function(e){var cd=e.offsetTop,cc=e.offsetLeft;if(bT.support.doesNotIncludeMarginInBodyOffset){cd+=parseFloat(bT.css(e,"marginTop"))||0;cc+=parseFloat(bT.css(e,"marginLeft"))||0}return{top:cd,left:cc}},setOffset:function(ce,co,ch){var ci=bT.css(ce,"position");if(ci==="static"){ce.style.position="relative"}var cg=bT(ce),cc=cg.offset(),e=bT.css(ce,"top"),cl=bT.css(ce,"left"),cn=(ci==="absolute"||ci==="fixed")&&bT.inArray("auto",[e,cl])>-1,ck={},cj={},cd,cf;if(cn){cj=cg.position();cd=cj.top;cf=cj.left}else{cd=parseFloat(e)||0;cf=parseFloat(cl)||0}if(bT.isFunction(co)){co=co.call(ce,ch,cc)}if(co.top!=null){ck.top=(co.top-cc.top)+cd}if(co.left!=null){ck.left=(co.left-cc.left)+cf}if("using" in co){co.using.call(ce,ck)}else{cg.css(ck)}}};bT.fn.extend({position:function(){if(!this[0]){return}var cd=this[0],cc=this.offsetParent(),ce=this.offset(),e=bz.test(cc[0].nodeName)?{top:0,left:0}:cc.offset();ce.top-=parseFloat(bT.css(cd,"marginTop"))||0;ce.left-=parseFloat(bT.css(cd,"marginLeft"))||0;e.top+=parseFloat(bT.css(cc[0],"borderTopWidth"))||0;e.left+=parseFloat(bT.css(cc[0],"borderLeftWidth"))||0;return{top:ce.top-e.top,left:ce.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||B.body;while(e&&(!bz.test(e.nodeName)&&bT.css(e,"position")==="static")){e=e.offsetParent}return e||B.body})}});bT.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(cd,cc){var e=/Y/.test(cc);bT.fn[cd]=function(ce){return bT.access(this,function(cf,ci,ch){var cg=bA(cf);if(ch===aO){return cg?(cc in cg)?cg[cc]:cg.document.documentElement[ci]:cf[ci]}if(cg){cg.scrollTo(!e?ch:bT(cg).scrollLeft(),e?ch:bT(cg).scrollTop())}else{cf[ci]=ch}},cd,ce,arguments.length,null)}});function bA(e){return bT.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bT.each({Height:"height",Width:"width"},function(e,cc){bT.each({padding:"inner"+e,content:cc,"":"outer"+e},function(cd,ce){bT.fn[ce]=function(ci,ch){var cg=arguments.length&&(cd||typeof ci!=="boolean"),cf=cd||(ci===true||ch===true?"margin":"border");return bT.access(this,function(ck,cj,cl){var cn;if(bT.isWindow(ck)){return ck.document.documentElement["client"+e]}if(ck.nodeType===9){cn=ck.documentElement;return Math.max(ck.body["scroll"+e],cn["scroll"+e],ck.body["offset"+e],cn["offset"+e],cn["client"+e])}return cl===aO?bT.css(ck,cj,cl,cf):bT.style(ck,cj,cl,cf)},cc,cg?ci:aO,cg,null)}})});bf.jQuery=bf.$=bT;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bT})}})(window);
/*! jQuery UI - v1.11.0 - 2014-08-08
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-drop.js, effect-fade.js, effect-highlight.js, effect-transfer.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(I){function k(g,l){var N,e,M,u=g.nodeName.toLowerCase();return"area"===u?(N=g.parentNode,e=N.name,g.href&&e&&"map"===N.nodeName.toLowerCase()?(M=I("img[usemap=#"+e+"]")[0],!!M&&E(M)):!1):(/input|select|textarea|button|object/.test(u)?!g.disabled:"a"===u?g.href||l:l)&&E(g)}function E(a){return I.expr.filters.visible(a)&&!I(a).parents().addBack().filter(function(){return"hidden"===I.css(this,"visibility")}).length}function q(l){for(var g,a;l.length&&l[0]!==document;){if(g=l.css("position"),("absolute"===g||"relative"===g||"fixed"===g)&&(a=parseInt(l.css("zIndex"),10),!isNaN(a)&&0!==a)){return a}l=l.parent()}return 0}function B(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},I.extend(this._defaults,this.regional[""]),this.regional.en=I.extend(!0,{},this.regional[""]),this.regional["en-US"]=I.extend(!0,{},this.regional.en),this.dpDiv=L(I("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function L(e){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(a,"mouseout",function(){I(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&I(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&I(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",function(){I.datepicker._isDisabledDatepicker(G.inline?e.parent()[0]:G.input[0])||(I(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),I(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&I(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&I(this).addClass("ui-datepicker-next-hover"))})}function A(e,a){I.extend(e,a);for(var g in a){null==a[g]&&(e[g]=a[g])}return e}function y(a){return function(){var e=this.element.val();a.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}I.ui=I.ui||{},I.extend(I.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),I.fn.extend({scrollParent:function(){var e=this.css("position"),a="absolute"===e,g=this.parents().filter(function(){var l=I(this);return a&&"static"===l.css("position")?!1:/(auto|scroll)/.test(l.css("overflow")+l.css("overflow-y")+l.css("overflow-x"))}).eq(0);return"fixed"!==e&&g.length?g:I(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&I(this).removeAttr("id")})}}),I.extend(I.expr[":"],{data:I.expr.createPseudo?I.expr.createPseudo(function(a){return function(e){return !!I.data(e,a)}}):function(e,a,g){return !!I.data(e,g[3])},focusable:function(a){return k(a,!isNaN(I.attr(a,"tabindex")))},tabbable:function(a){var e=I.attr(a,"tabindex"),g=isNaN(e);return(g||e>=0)&&k(a,!g)}}),I("<a>").outerWidth(1).jquery||I.each(["Width","Height"],function(l,g){function u(O,o,P,n){return I.each(N,function(){o-=parseFloat(I.css(O,"padding"+this))||0,P&&(o-=parseFloat(I.css(O,"border"+this+"Width"))||0),n&&(o-=parseFloat(I.css(O,"margin"+this))||0)}),o}var N="Width"===g?["Left","Right"]:["Top","Bottom"],e=g.toLowerCase(),M={innerWidth:I.fn.innerWidth,innerHeight:I.fn.innerHeight,outerWidth:I.fn.outerWidth,outerHeight:I.fn.outerHeight};I.fn["inner"+g]=function(a){return void 0===a?M["inner"+g].call(this):this.each(function(){I(this).css(e,u(this,a)+"px")})},I.fn["outer"+g]=function(a,o){return"number"!=typeof a?M["outer"+g].call(this,a):this.each(function(){I(this).css(e,u(this,a,!0,o)+"px")})}}),I.fn.addBack||(I.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),I("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(I.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,I.camelCase(e)):a.call(this)}}(I.fn.removeData)),I.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),I.fn.extend({focus:function(a){return function(e,g){return"number"==typeof e?this.each(function(){var l=this;setTimeout(function(){I(l).focus(),g&&g.call(l)},e)}):a.apply(this,arguments)}}(I.fn.focus),disableSelection:function(){var a="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(g){g.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e){return this.css("zIndex",e)}if(this.length){for(var a,g,l=I(this[0]);l.length&&l[0]!==document;){if(a=l.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(g=parseInt(l.css("zIndex"),10),!isNaN(g)&&0!==g)){return g}l=l.parent()}}return 0}}),I.ui.plugin={add:function(l,g,o){var u,e=I.ui[l].prototype;for(u in o){e.plugins[u]=e.plugins[u]||[],e.plugins[u].push([g,o[u]])}},call:function(M,o,l,u){var N,g=M.plugins[o];if(g&&(u||M.element[0].parentNode&&11!==M.element[0].parentNode.nodeType)){for(N=0;g.length>N;N++){M.options[g[N][0]]&&g[N][1].apply(M.element,l)}}}};var F=0,D=Array.prototype.slice;I.cleanData=function(a){return function(g){for(var l,o=0;null!=(l=g[o]);o++){try{I(l).triggerHandler("remove")}catch(e){}}a(g)}}(I.cleanData),I.widget=function(Q,N,R){var u,P,g,e,O={},M=Q.split(".")[0];return Q=Q.split(".")[1],u=M+"-"+Q,R||(R=N,N=I.Widget),I.expr[":"][u.toLowerCase()]=function(a){return !!I.data(a,u)},I[M]=I[M]||{},P=I[M][Q],g=I[M][Q]=function(l,a){return this._createWidget?(arguments.length&&this._createWidget(l,a),void 0):new g(l,a)},I.extend(g,P,{version:R.version,_proto:I.extend({},R),_childConstructors:[]}),e=new N,e.options=I.widget.extend({},e.options),I.each(R,function(a,l){return I.isFunction(l)?(O[a]=function(){var o=function(){return N.prototype[a].apply(this,arguments)},S=function(n){return N.prototype[a].apply(this,n)};return function(){var U,T=this._super,n=this._superApply;return this._super=o,this._superApply=S,U=l.apply(this,arguments),this._super=T,this._superApply=n,U}}(),void 0):(O[a]=l,void 0)}),g.prototype=I.widget.extend(e,{widgetEventPrefix:P?e.widgetEventPrefix||Q:Q},O,{constructor:g,namespace:M,widgetName:Q,widgetFullName:u}),P?(I.each(P._childConstructors,function(l,a){var n=a.prototype;I.widget(n.namespace+"."+n.widgetName,g,a._proto)}),delete P._childConstructors):N._childConstructors.push(g),I.widget.bridge(Q,g),g},I.widget.extend=function(l){for(var g,u,N=D.call(arguments,1),e=0,M=N.length;M>e;e++){for(g in N[e]){u=N[e][g],N[e].hasOwnProperty(g)&&void 0!==u&&(l[g]=I.isPlainObject(u)?I.isPlainObject(l[g])?I.widget.extend({},l[g],u):I.widget.extend({},u):u)}}return l},I.widget.bridge=function(e,a){var g=a.prototype.widgetFullName||e;I.fn[e]=function(N){var l="string"==typeof N,M=D.call(arguments,1),u=this;return N=!l&&M.length?I.widget.extend.apply(null,[N].concat(M)):N,l?this.each(function(){var o,n=I.data(this,g);return"instance"===N?(u=n,!1):n?I.isFunction(n[N])&&"_"!==N.charAt(0)?(o=n[N].apply(n,M),o!==n&&void 0!==o?(u=o&&o.jquery?u.pushStack(o.get()):o,!1):void 0):I.error("no such method '"+N+"' for "+e+" widget instance"):I.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+N+"'")}):this.each(function(){var n=I.data(this,g);n?(n.option(N||{}),n._init&&n._init()):I.data(this,g,new a(N,this))}),u}},I.Widget=function(){},I.Widget._childConstructors=[],I.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,a){a=I(a||this.defaultElement||this)[0],this.element=I(a),this.uuid=F++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=I.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=I(),this.hoverable=I(),this.focusable=I(),a!==this&&(I.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(g){g.target===a&&this.destroy()}}),this.document=I(a.style?a.ownerDocument:a.document||a),this.window=I(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:I.noop,_getCreateEventData:I.noop,_create:I.noop,_init:I.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(I.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:I.noop,widget:function(){return this.element},option:function(l,g){var u,N,e,M=l;if(0===arguments.length){return I.widget.extend({},this.options)}if("string"==typeof l){if(M={},u=l.split("."),l=u.shift(),u.length){for(N=M[l]=I.widget.extend({},this.options[l]),e=0;u.length-1>e;e++){N[u[e]]=N[u[e]]||{},N=N[u[e]]}if(l=u.pop(),1===arguments.length){return void 0===N[l]?null:N[l]}N[l]=g}else{if(1===arguments.length){return void 0===this.options[l]?null:this.options[l]}M[l]=g}}return this._setOptions(M),this},_setOptions:function(g){var a;for(a in g){this._setOption(a,g[a])}return this},_setOption:function(g,a){return this.options[g]=a,"disabled"===g&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!a),a&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(l,g,o){var u,e=this;"boolean"!=typeof l&&(o=g,g=l,l=!1),o?(g=u=I(g),this.bindings=this.bindings.add(g)):(o=g,g=this.element,u=this.widget()),I.each(o,function(N,P){function O(){return l||e.options.disabled!==!0&&!I(this).hasClass("ui-state-disabled")?("string"==typeof P?e[P]:P).apply(e,arguments):void 0}"string"!=typeof P&&(O.guid=P.guid=P.guid||O.guid||I.guid++);var M=N.match(/^([\w:-]*)\s*(.*)$/),a=M[1]+e.eventNamespace,n=M[2];n?u.delegate(n,a,O):g.bind(a,O)})},_off:function(g,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,g.unbind(a).undelegate(a)},_delay:function(n,g){function a(){return("string"==typeof n?l[n]:n).apply(l,arguments)}var l=this;return setTimeout(a,g||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(e){I(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){I(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(e){I(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){I(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(l,g,u){var N,e,M=this.options[l];if(u=u||{},g=I.Event(g),g.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase(),g.target=this.element[0],e=g.originalEvent){for(N in e){N in g||(g[N]=e[N])}}return this.element.trigger(g,u),!(I.isFunction(M)&&M.apply(this.element[0],[g].concat(u))===!1||g.isDefaultPrevented())}},I.each({show:"fadeIn",hide:"fadeOut"},function(e,a){I.Widget.prototype["_"+e]=function(l,N,g){"string"==typeof N&&(N={effect:N});var M,u=N?N===!0||"number"==typeof N?a:N.effect||a:e;N=N||{},"number"==typeof N&&(N={duration:N}),M=!I.isEmptyObject(N),N.complete=g,N.delay&&l.delay(N.delay),M&&I.effects&&I.effects.effect[u]?l[e](N):u!==e&&l[u]?l[u](N.duration,N.easing,g):l.queue(function(n){I(this)[e](),g&&g.call(l[0]),n()})}}),I.widget;var j=!1;I(document).mouseup(function(){j=!1}),I.widget("ui.mouse",{version:"1.11.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(g){return a._mouseDown(g)}).bind("click."+this.widgetName,function(e){return !0===I.data(e.target,a.widgetName+".preventClickEvent")?(I.removeData(e.target,a.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!j){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var a=this,g=1===e.which,l="string"==typeof this.options.cancel&&e.target.nodeName?I(e.target).closest(this.options.cancel).length:!1;return g&&!l&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===I.data(e.target,this.widgetName+".preventClickEvent")&&I.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return a._mouseMove(n)},this._mouseUpDelegate=function(n){return a._mouseUp(n)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),j=!0,!0)):!0}},_mouseMove:function(a){return I.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button?this._mouseUp(a):a.which?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&I.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),j=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}}),function(){function W(n,l,a){return[parseFloat(n[0])*(g.test(n[0])?l/100:1),parseFloat(n[1])*(g.test(n[1])?a/100:1)]}function P(l,a){return parseInt(I.css(l,a),10)||0}function X(l){var a=l[0];return 9===a.nodeType?{width:l.width(),height:l.height(),offset:{top:0,left:0}}:I.isWindow(a)?{width:l.width(),height:l.height(),offset:{top:l.scrollTop(),left:l.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:l.outerWidth(),height:l.outerHeight(),offset:l.offset()}}I.ui=I.ui||{};var N,U,M=Math.max,e=Math.abs,Q=Math.round,O=/left|center|right/,V=/top|center|bottom/,S=/[\+\-]\d+(\.[\d]+)?%?/,T=/^\w+/,g=/%$/,R=I.fn.position;I.position={scrollbarWidth:function(){if(void 0!==N){return N}var o,n,u=I("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),l=u.children()[0];return I("body").append(u),o=l.offsetWidth,u.css("overflow","scroll"),n=l.offsetWidth,o===n&&(n=u[0].clientWidth),u.remove(),N=o-n},getScrollInfo:function(u){var o=u.isWindow||u.isDocument?"":u.element.css("overflow-x"),Y=u.isWindow||u.isDocument?"":u.element.css("overflow-y"),Z="scroll"===o||"auto"===o&&u.width<u.element[0].scrollWidth,l="scroll"===Y||"auto"===Y&&u.height<u.element[0].scrollHeight;return{width:l?I.position.scrollbarWidth():0,height:Z?I.position.scrollbarWidth():0}},getWithinInfo:function(l){var a=I(l||window),o=I.isWindow(a[0]),u=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:o,isDocument:u,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:o?a.width():a.outerWidth(),height:o?a.height():a.outerHeight()}}},I.fn.position=function(l){if(!l||!l.of){return R.apply(this,arguments)}l=I.extend({},l);var a,o,Z,af,aa,ab,ae=I(l.of),ac=I.position.getWithinInfo(l.within),ad=I.position.getScrollInfo(ac),Y=(l.collision||"flip").split(" "),u={};return ab=X(ae),ae[0].preventDefault&&(l.at="left top"),o=ab.width,Z=ab.height,af=ab.offset,aa=I.extend({},af),I.each(["my","at"],function(){var ah,ag,n=(l[this]||"").split(" ");1===n.length&&(n=O.test(n[0])?n.concat(["center"]):V.test(n[0])?["center"].concat(n):["center","center"]),n[0]=O.test(n[0])?n[0]:"center",n[1]=V.test(n[1])?n[1]:"center",ah=S.exec(n[0]),ag=S.exec(n[1]),u[this]=[ah?ah[0]:0,ag?ag[0]:0],l[this]=[T.exec(n[0])[0],T.exec(n[1])[0]]}),1===Y.length&&(Y[1]=Y[0]),"right"===l.at[0]?aa.left+=o:"center"===l.at[0]&&(aa.left+=o/2),"bottom"===l.at[1]?aa.top+=Z:"center"===l.at[1]&&(aa.top+=Z/2),a=W(u.at,o,Z),aa.left+=a[0],aa.top+=a[1],this.each(function(){var ap,ag,ao=I(this),al=ao.outerWidth(),am=ao.outerHeight(),ai=P(this,"marginLeft"),an=P(this,"marginTop"),n=al+ai+P(this,"marginRight")+ad.width,ah=am+an+P(this,"marginBottom")+ad.height,aj=I.extend({},aa),ak=W(u.my,ao.outerWidth(),ao.outerHeight());"right"===l.my[0]?aj.left-=al:"center"===l.my[0]&&(aj.left-=al/2),"bottom"===l.my[1]?aj.top-=am:"center"===l.my[1]&&(aj.top-=am/2),aj.left+=ak[0],aj.top+=ak[1],U||(aj.left=Q(aj.left),aj.top=Q(aj.top)),ap={marginLeft:ai,marginTop:an},I.each(["left","top"],function(ar,aq){I.ui.position[Y[ar]]&&I.ui.position[Y[ar]][aq](aj,{targetWidth:o,targetHeight:Z,elemWidth:al,elemHeight:am,collisionPosition:ap,collisionWidth:n,collisionHeight:ah,offset:[a[0]+ak[0],a[1]+ak[1]],my:l.my,at:l.at,within:ac,elem:ao})}),l.using&&(ag=function(aw){var at=af.left-aj.left,ar=at+o-al,av=af.top-aj.top,aq=av+Z-am,au={target:{element:ae,left:af.left,top:af.top,width:o,height:Z},element:{element:ao,left:aj.left,top:aj.top,width:al,height:am},horizontal:0>ar?"left":at>0?"right":"center",vertical:0>aq?"top":av>0?"bottom":"middle"};al>o&&o>e(at+ar)&&(au.horizontal="center"),am>Z&&Z>e(av+aq)&&(au.vertical="middle"),au.important=M(e(at),e(ar))>M(e(av),e(aq))?"horizontal":"vertical",l.using.call(this,aw,au)}),ao.offset(I.extend(aj,{using:ag}))})},I.ui.position={fit:{left:function(ab,ad){var Z,ae=ad.within,u=ae.isWindow?ae.scrollLeft:ae.offset.left,ac=ae.width,o=ab.left-ad.collisionPosition.marginLeft,aa=u-o,Y=o+ad.collisionWidth-ac-u;ad.collisionWidth>ac?aa>0&&0>=Y?(Z=ab.left+aa+ad.collisionWidth-ac-u,ab.left+=aa-Z):ab.left=Y>0&&0>=aa?u:aa>Y?u+ac-ad.collisionWidth:u:aa>0?ab.left+=aa:Y>0?ab.left-=Y:ab.left=M(ab.left-o,ab.left)},top:function(ab,ad){var Z,ae=ad.within,u=ae.isWindow?ae.scrollTop:ae.offset.top,ac=ad.within.height,o=ab.top-ad.collisionPosition.marginTop,aa=u-o,Y=o+ad.collisionHeight-ac-u;ad.collisionHeight>ac?aa>0&&0>=Y?(Z=ab.top+aa+ad.collisionHeight-ac-u,ab.top+=aa-Z):ab.top=Y>0&&0>=aa?u:aa>Y?u+ac-ad.collisionHeight:u:aa>0?ab.top+=aa:Y>0?ab.top-=Y:ab.top=M(ab.top-o,ab.top)}},flip:{left:function(af,ak){var ac,al,aa=ak.within,ai=aa.offset.left+aa.scrollLeft,Z=aa.width,ad=aa.isWindow?aa.scrollLeft:aa.offset.left,ab=af.left-ak.collisionPosition.marginLeft,aj=ab-ad,ag=ab+ak.collisionWidth-Z-ad,ah="left"===ak.my[0]?-ak.elemWidth:"right"===ak.my[0]?ak.elemWidth:0,Y="left"===ak.at[0]?ak.targetWidth:"right"===ak.at[0]?-ak.targetWidth:0,ae=-2*ak.offset[0];0>aj?(ac=af.left+ah+Y+ae+ak.collisionWidth-Z-ai,(0>ac||e(aj)>ac)&&(af.left+=ah+Y+ae)):ag>0&&(al=af.left-ak.collisionPosition.marginLeft+ah+Y+ae-ad,(al>0||ag>e(al))&&(af.left+=ah+Y+ae))},top:function(ag,al){var ad,am,aa=al.within,aj=aa.offset.top+aa.scrollTop,Z=aa.height,ae=aa.isWindow?aa.scrollTop:aa.offset.top,ac=ag.top-al.collisionPosition.marginTop,ak=ac-ae,ah=ac+al.collisionHeight-Z-ae,ai="top"===al.my[1],Y=ai?-al.elemHeight:"bottom"===al.my[1]?al.elemHeight:0,af="top"===al.at[1]?al.targetHeight:"bottom"===al.at[1]?-al.targetHeight:0,ab=-2*al.offset[1];0>ak?(am=ag.top+Y+af+ab+al.collisionHeight-Z-aj,ag.top+Y+af+ab>ak&&(0>am||e(ak)>am)&&(ag.top+=Y+af+ab)):ah>0&&(ad=ag.top-al.collisionPosition.marginTop+Y+af+ab-ae,ag.top+Y+af+ab>ah&&(ad>0||ah>e(ad))&&(ag.top+=Y+af+ab))}},flipfit:{left:function(){I.ui.position.flip.left.apply(this,arguments),I.ui.position.fit.left.apply(this,arguments)},top:function(){I.ui.position.flip.top.apply(this,arguments),I.ui.position.fit.top.apply(this,arguments)}}},function(){var l,a,Y,ab,aa,Z=document.getElementsByTagName("body")[0],u=document.createElement("div");l=document.createElement(Z?"div":"body"),Y={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},Z&&I.extend(Y,{position:"absolute",left:"-1000px",top:"-1000px"});for(aa in Y){l.style[aa]=Y[aa]}l.appendChild(u),a=Z||document.documentElement,a.insertBefore(l,a.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",ab=I(u).offset().left,U=ab>10&&11>ab,l.innerHTML="",a.removeChild(l)}()}(),I.ui.position,I.widget("ui.draggable",I.ui.mouse,{version:"1.11.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(g,a){this._super(g,a),"handle"===g&&this._setHandleClassName()},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var a=this.document[0],g=this.options;try{a.activeElement&&"body"!==a.activeElement.nodeName.toLowerCase()&&I(a.activeElement).blur()}catch(l){}return this.helper||g.disabled||I(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(I(g.iframeFix===!0?"iframe":g.iframeFix).each(function(){I("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(I(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var a=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),I.ui.ddmanager&&(I.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,I.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),I.ui.ddmanager&&!a.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),I.ui.ddmanager&&I.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,a){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!a){var g=this._uiHash();if(this._trigger("drag",e,g)===!1){return this._mouseUp({}),!1}this.position=g.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",I.ui.ddmanager&&I.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var a=this,g=!1;return I.ui.ddmanager&&!this.options.dropBehaviour&&(g=I.ui.ddmanager.drop(this,e)),this.dropped&&(g=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!g||"valid"===this.options.revert&&g||this.options.revert===!0||I.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)?I(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",e)!==!1&&a._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(a){return I("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),I.ui.ddmanager&&I.ui.ddmanager.dragStop(this,a),this.element.focus(),I.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){return this.options.handle?!!I(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this._removeHandleClassName(),I(this.options.handle||this.element).addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.element.find(".ui-draggable-handle").addBack().removeClass("ui-draggable-handle")},_createHelper:function(e){var a=this.options,g=I.isFunction(a.helper)?I(a.helper.apply(this.element[0],[e])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;return g.parents("body").length||g.appendTo("parent"===a.appendTo?this.element[0].parentNode:a.appendTo),g[0]===this.element[0]||/(fixed|absolute)/.test(g.css("position"))||g.css("position","absolute"),g},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),I.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),a=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==a&&I.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition){return{top:0,left:0}}var g=this.element.position(),a=this._isRootNode(this.scrollParent[0]);return{top:g.top-(parseInt(this.helper.css("top"),10)||0)+(a?0:this.scrollParent.scrollTop()),left:g.left-(parseInt(this.helper.css("left"),10)||0)+(a?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var l,g,o,u=this.options,e=this.document[0];return this.relative_container=null,u.containment?"window"===u.containment?(this.containment=[I(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,I(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,I(window).scrollLeft()+I(window).width()-this.helperProportions.width-this.margins.left,999999],void 0):"document"===u.containment?(this.containment=[0,0,I(e).width()-this.helperProportions.width-this.margins.left,999999],void 0):u.containment.constructor===Array?(this.containment=u.containment,void 0):("parent"===u.containment&&(u.containment=this.helper[0].parentNode),g=I(u.containment),o=g[0],o&&(l="hidden"!==g.css("overflow"),this.containment=[(parseInt(g.css("borderLeftWidth"),10)||0)+(parseInt(g.css("paddingLeft"),10)||0),(parseInt(g.css("borderTopWidth"),10)||0)+(parseInt(g.css("paddingTop"),10)||0),(l?Math.max(o.scrollWidth,o.offsetWidth):o.offsetWidth)-(parseInt(g.css("borderRightWidth"),10)||0)-(parseInt(g.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(l?Math.max(o.scrollHeight,o.offsetHeight):o.offsetHeight)-(parseInt(g.css("borderBottomWidth"),10)||0)-(parseInt(g.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=g),void 0):(this.containment=null,void 0)},_convertPositionTo:function(n,g){g||(g=this.position);var a="absolute"===n?1:-1,l=this._isRootNode(this.scrollParent[0]);return{top:g.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top)*a,left:g.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)*a}},_generatePosition:function(Q,S){var O,T,M,R,u=this.options,g=this._isRootNode(this.scrollParent[0]),P=Q.pageX,N=Q.pageY;return g&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),S&&(this.containment&&(this.relative_container?(T=this.relative_container.offset(),O=[this.containment[0]+T.left,this.containment[1]+T.top,this.containment[2]+T.left,this.containment[3]+T.top]):O=this.containment,Q.pageX-this.offset.click.left<O[0]&&(P=O[0]+this.offset.click.left),Q.pageY-this.offset.click.top<O[1]&&(N=O[1]+this.offset.click.top),Q.pageX-this.offset.click.left>O[2]&&(P=O[2]+this.offset.click.left),Q.pageY-this.offset.click.top>O[3]&&(N=O[3]+this.offset.click.top)),u.grid&&(M=u.grid[1]?this.originalPageY+Math.round((N-this.originalPageY)/u.grid[1])*u.grid[1]:this.originalPageY,N=O?M-this.offset.click.top>=O[1]||M-this.offset.click.top>O[3]?M:M-this.offset.click.top>=O[1]?M-u.grid[1]:M+u.grid[1]:M,R=u.grid[0]?this.originalPageX+Math.round((P-this.originalPageX)/u.grid[0])*u.grid[0]:this.originalPageX,P=O?R-this.offset.click.left>=O[0]||R-this.offset.click.left>O[2]?R:R-this.offset.click.left>=O[0]?R-u.grid[0]:R+u.grid[0]:R),"y"===u.axis&&(P=this.originalPageX),"x"===u.axis&&(N=this.originalPageY)),{top:N-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:g?0:this.offset.scroll.top),left:P-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:g?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,a,g){return g=g||this._uiHash(),I.ui.plugin.call(this,e,[a,g,this],!0),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),I.Widget.prototype._trigger.call(this,e,a,g)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),I.ui.plugin.add("draggable","connectToSortable",{start:function(l,g,o){var u=o.options,e=I.extend({},g,{item:o.element});o.sortables=[],I(u.connectToSortable).each(function(){var a=I(this).sortable("instance");a&&!a.options.disabled&&(o.sortables.push({instance:a,shouldRevert:a.options.revert}),a.refreshPositions(),a._trigger("activate",l,e))})},stop:function(e,a,g){var l=I.extend({},a,{item:g.element});I.each(g.sortables,function(){this.instance.isOver?(this.instance.isOver=0,g.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===g.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,l))})},drag:function(e,a,g){var l=this;I.each(g.sortables,function(){var n=!1,u=this;this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,I.each(g.sortables,function(){return this.instance.positionAbs=g.positionAbs,this.instance.helperProportions=g.helperProportions,this.instance.offset.click=g.offset.click,this!==u&&this.instance._intersectsWith(this.instance.containerCache)&&I.contains(u.instance.element[0],this.instance.element[0])&&(n=!1),n})),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=I(l).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return a.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=g.offset.click.top,this.instance.offset.click.left=g.offset.click.left,this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top,g._trigger("toSortable",e),g.dropped=this.instance.element,g.currentItem=g.element,this.instance.fromOutside=g),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),g._trigger("fromSortable",e),g.dropped=!1)})}}),I.ui.plugin.add("draggable","cursor",{start:function(l,g,o){var u=I("body"),e=o.options;u.css("cursor")&&(e._cursor=u.css("cursor")),u.css("cursor",e.cursor)},stop:function(e,a,g){var l=g.options;l._cursor&&I("body").css("cursor",l._cursor)}}),I.ui.plugin.add("draggable","opacity",{start:function(l,g,o){var u=I(g.helper),e=o.options;u.css("opacity")&&(e._opacity=u.css("opacity")),u.css("opacity",e.opacity)},stop:function(e,a,g){var l=g.options;l._opacity&&I(a.helper).css("opacity",l._opacity)}}),I.ui.plugin.add("draggable","scroll",{start:function(l,g,a){a.scrollParent[0]!==a.document[0]&&"HTML"!==a.scrollParent[0].tagName&&(a.overflowOffset=a.scrollParent.offset())},drag:function(l,g,u){var N=u.options,e=!1,M=u.document[0];u.scrollParent[0]!==M&&"HTML"!==u.scrollParent[0].tagName?(N.axis&&"x"===N.axis||(u.overflowOffset.top+u.scrollParent[0].offsetHeight-l.pageY<N.scrollSensitivity?u.scrollParent[0].scrollTop=e=u.scrollParent[0].scrollTop+N.scrollSpeed:l.pageY-u.overflowOffset.top<N.scrollSensitivity&&(u.scrollParent[0].scrollTop=e=u.scrollParent[0].scrollTop-N.scrollSpeed)),N.axis&&"y"===N.axis||(u.overflowOffset.left+u.scrollParent[0].offsetWidth-l.pageX<N.scrollSensitivity?u.scrollParent[0].scrollLeft=e=u.scrollParent[0].scrollLeft+N.scrollSpeed:l.pageX-u.overflowOffset.left<N.scrollSensitivity&&(u.scrollParent[0].scrollLeft=e=u.scrollParent[0].scrollLeft-N.scrollSpeed))):(N.axis&&"x"===N.axis||(l.pageY-I(M).scrollTop()<N.scrollSensitivity?e=I(M).scrollTop(I(M).scrollTop()-N.scrollSpeed):I(window).height()-(l.pageY-I(M).scrollTop())<N.scrollSensitivity&&(e=I(M).scrollTop(I(M).scrollTop()+N.scrollSpeed))),N.axis&&"y"===N.axis||(l.pageX-I(M).scrollLeft()<N.scrollSensitivity?e=I(M).scrollLeft(I(M).scrollLeft()-N.scrollSpeed):I(window).width()-(l.pageX-I(M).scrollLeft())<N.scrollSensitivity&&(e=I(M).scrollLeft(I(M).scrollLeft()+N.scrollSpeed)))),e!==!1&&I.ui.ddmanager&&!N.dropBehaviour&&I.ui.ddmanager.prepareOffsets(u,l)}}),I.ui.plugin.add("draggable","snap",{start:function(e,a,g){var l=g.options;g.snapElements=[],I(l.snap.constructor!==String?l.snap.items||":data(ui-draggable)":l.snap).each(function(){var o=I(this),n=o.offset();this!==g.element[0]&&g.snapElements.push({item:this,width:o.outerWidth(),height:o.outerHeight(),top:n.top,left:n.left})})},drag:function(O,W,P){var T,ad,S,Q,X,V,N,aa,ab,R,Z=P.options,U=Z.snapTolerance,Y=W.offset.left,M=Y+P.helperProportions.width,e=W.offset.top,ac=e+P.helperProportions.height;for(ab=P.snapElements.length-1;ab>=0;ab--){X=P.snapElements[ab].left,V=X+P.snapElements[ab].width,N=P.snapElements[ab].top,aa=N+P.snapElements[ab].height,X-U>M||Y>V+U||N-U>ac||e>aa+U||!I.contains(P.snapElements[ab].item.ownerDocument,P.snapElements[ab].item)?(P.snapElements[ab].snapping&&P.options.snap.release&&P.options.snap.release.call(P.element,O,I.extend(P._uiHash(),{snapItem:P.snapElements[ab].item})),P.snapElements[ab].snapping=!1):("inner"!==Z.snapMode&&(T=U>=Math.abs(N-ac),ad=U>=Math.abs(aa-e),S=U>=Math.abs(X-M),Q=U>=Math.abs(V-Y),T&&(W.position.top=P._convertPositionTo("relative",{top:N-P.helperProportions.height,left:0}).top-P.margins.top),ad&&(W.position.top=P._convertPositionTo("relative",{top:aa,left:0}).top-P.margins.top),S&&(W.position.left=P._convertPositionTo("relative",{top:0,left:X-P.helperProportions.width}).left-P.margins.left),Q&&(W.position.left=P._convertPositionTo("relative",{top:0,left:V}).left-P.margins.left)),R=T||ad||S||Q,"outer"!==Z.snapMode&&(T=U>=Math.abs(N-e),ad=U>=Math.abs(aa-ac),S=U>=Math.abs(X-Y),Q=U>=Math.abs(V-M),T&&(W.position.top=P._convertPositionTo("relative",{top:N,left:0}).top-P.margins.top),ad&&(W.position.top=P._convertPositionTo("relative",{top:aa-P.helperProportions.height,left:0}).top-P.margins.top),S&&(W.position.left=P._convertPositionTo("relative",{top:0,left:X}).left-P.margins.left),Q&&(W.position.left=P._convertPositionTo("relative",{top:0,left:V-P.helperProportions.width}).left-P.margins.left)),!P.snapElements[ab].snapping&&(T||ad||S||Q||R)&&P.options.snap.snap&&P.options.snap.snap.call(P.element,O,I.extend(P._uiHash(),{snapItem:P.snapElements[ab].item})),P.snapElements[ab].snapping=T||ad||S||Q||R)}}}),I.ui.plugin.add("draggable","stack",{start:function(l,g,u){var N,e=u.options,M=I.makeArray(I(e.stack)).sort(function(n,a){return(parseInt(I(n).css("zIndex"),10)||0)-(parseInt(I(a).css("zIndex"),10)||0)});M.length&&(N=parseInt(I(M[0]).css("zIndex"),10)||0,I(M).each(function(a){I(this).css("zIndex",N+a)}),this.css("zIndex",N+M.length))}}),I.ui.plugin.add("draggable","zIndex",{start:function(l,g,o){var u=I(g.helper),e=o.options;u.css("zIndex")&&(e._zIndex=u.css("zIndex")),u.css("zIndex",e.zIndex)},stop:function(e,a,g){var l=g.options;l._zIndex&&I(a.helper).css("zIndex",l._zIndex)}}),I.ui.draggable,I.widget("ui.droppable",{version:"1.11.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,a=this.options,g=a.accept;this.isover=!1,this.isout=!0,this.accept=I.isFunction(g)?g:function(l){return l.is(g)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(a.scope),a.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){I.ui.ddmanager.droppables[a]=I.ui.ddmanager.droppables[a]||[],I.ui.ddmanager.droppables[a].push(this)},_splice:function(g){for(var a=0;g.length>a;a++){g[a]===this&&g.splice(a,1)}},_destroy:function(){var a=I.ui.ddmanager.droppables[this.options.scope];this._splice(a),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,a){if("accept"===e){this.accept=I.isFunction(a)?a:function(l){return l.is(a)}}else{if("scope"===e){var g=I.ui.ddmanager.droppables[this.options.scope];this._splice(g),this._addToManager(a)}}this._super(e,a)},_activate:function(e){var a=I.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),a&&this._trigger("activate",e,this.ui(a))},_deactivate:function(e){var a=I.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),a&&this._trigger("deactivate",e,this.ui(a))},_over:function(e){var a=I.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(a)))},_out:function(e){var a=I.ui.ddmanager.current;a&&(a.currentItem||a.element)[0]!==this.element[0]&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(a)))},_drop:function(e,a){var g=a||I.ui.ddmanager.current,l=!1;return g&&(g.currentItem||g.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=I(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===g.options.scope&&n.accept.call(n.element[0],g.currentItem||g.element)&&I.ui.intersect(g,I.extend(n,{offset:n.element.offset()}),n.options.tolerance)?(l=!0,!1):void 0}),l?!1:this.accept.call(this.element[0],g.currentItem||g.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(g)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),I.ui.intersect=function(){function a(n,l,g){return n>=l&&l+g>n}return function(V,P,W){if(!P.offset){return !1}var N,T,M=(V.positionAbs||V.position.absolute).left,e=(V.positionAbs||V.position.absolute).top,Q=M+V.helperProportions.width,O=e+V.helperProportions.height,U=P.offset.left,R=P.offset.top,S=U+P.proportions().width,g=R+P.proportions().height;switch(W){case"fit":return M>=U&&S>=Q&&e>=R&&g>=O;case"intersect":return M+V.helperProportions.width/2>U&&S>Q-V.helperProportions.width/2&&e+V.helperProportions.height/2>R&&g>O-V.helperProportions.height/2;case"pointer":return N=(V.positionAbs||V.position.absolute).left+(V.clickOffset||V.offset.click).left,T=(V.positionAbs||V.position.absolute).top+(V.clickOffset||V.offset.click).top,a(T,R,P.proportions().height)&&a(N,U,P.proportions().width);case"touch":return(e>=R&&g>=e||O>=R&&g>=O||R>e&&O>g)&&(M>=U&&S>=M||Q>=U&&S>=Q||U>M&&Q>S);default:return !1}}}(),I.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(l,g){var u,O,e=I.ui.ddmanager.droppables[l.options.scope]||[],N=g?g.type:null,M=(l.currentItem||l.element).find(":data(ui-droppable)").addBack();I:for(u=0;e.length>u;u++){if(!(e[u].options.disabled||l&&!e[u].accept.call(e[u].element[0],l.currentItem||l.element))){for(O=0;M.length>O;O++){if(M[O]===e[u].element[0]){e[u].proportions().height=0;continue I}}e[u].visible="none"!==e[u].element.css("display"),e[u].visible&&("mousedown"===N&&e[u]._activate.call(e[u],g),e[u].offset=e[u].element.offset(),e[u].proportions({width:e[u].element[0].offsetWidth,height:e[u].element[0].offsetHeight}))}}},drop:function(e,a){var g=!1;return I.each((I.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&I.ui.intersect(e,this,this.options.tolerance)&&(g=this._drop.call(this,a)||g),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,a)))}),g},dragStart:function(e,a){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||I.ui.ddmanager.prepareOffsets(e,a)})},drag:function(e,a){e.options.refreshPositions&&I.ui.ddmanager.prepareOffsets(e,a),I.each(I.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var l,N,g,M=I.ui.intersect(e,this,this.options.tolerance),u=!M&&this.isover?"isout":M&&!this.isover?"isover":null;u&&(this.options.greedy&&(N=this.options.scope,g=this.element.parents(":data(ui-droppable)").filter(function(){return I(this).droppable("instance").options.scope===N}),g.length&&(l=I(g[0]).droppable("instance"),l.greedyChild="isover"===u)),l&&"isover"===u&&(l.isover=!1,l.isout=!0,l._out.call(l,a)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,a),l&&"isout"===u&&(l.isout=!1,l.isover=!0,l._over.call(l,a)))}})},dragStop:function(e,a){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||I.ui.ddmanager.prepareOffsets(e,a)}},I.ui.droppable,I.widget("ui.resizable",I.ui.mouse,{version:"1.11.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return !isNaN(parseInt(a,10))},_hasScroll:function(e,a){if("hidden"===I(e).css("overflow")){return !1}var g=a&&"left"===a?"scrollLeft":"scrollTop",l=!1;return e[g]>0?!0:(e[g]=1,l=e[g]>0,e[g]=0,l)},_create:function(){var l,g,u,O,e,N=this,M=this.options;if(this.element.addClass("ui-resizable"),I.extend(this,{_aspectRatio:!!M.aspectRatio,aspectRatio:M.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:M.helper||M.ghost||M.animate?M.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(I("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=M.handles||(I(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),l=this.handles.split(","),this.handles={},g=0;l.length>g;g++){u=I.trim(l[g]),e="ui-resizable-"+u,O=I("<div class='ui-resizable-handle "+e+"'></div>"),O.css({zIndex:M.zIndex}),"se"===u&&O.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[u]=".ui-resizable-"+u,this.element.append(O)}}this._renderAxis=function(Q){var P,R,S,o;Q=Q||this.element;for(P in this.handles){this.handles[P].constructor===String&&(this.handles[P]=this.element.children(this.handles[P]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(R=I(this.handles[P],this.element),o=/sw|ne|nw|se|n|s/.test(P)?R.outerHeight():R.outerWidth(),S=["padding",/ne|nw|n/.test(P)?"Top":/se|sw|s/.test(P)?"Bottom":/^e$/.test(P)?"Right":"Left"].join(""),Q.css(S,o),this._proportionallyResize()),I(this.handles[P]).length}},this._renderAxis(this.element),this._handles=I(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){N.resizing||(this.className&&(O=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),N.axis=O&&O[1]?O[1]:"se")}),M.autoHide&&(this._handles.hide(),I(this.element).addClass("ui-resizable-autohide").mouseenter(function(){M.disabled||(I(this).removeClass("ui-resizable-autohide"),N._handles.show())}).mouseleave(function(){M.disabled||N.resizing||(I(this).addClass("ui-resizable-autohide"),N._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,a=function(g){I(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(a(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement),this},_mouseCapture:function(e){var a,g,l=!1;for(a in this.handles){g=I(this.handles[a])[0],(g===e.target||I.contains(g,e.target))&&(l=!0)}return !this.options.disabled&&l},_mouseStart:function(l){var g,u,N,e=this.options,M=this.element;return this.resizing=!0,this._renderProxy(),g=this._num(this.helper.css("left")),u=this._num(this.helper.css("top")),e.containment&&(g+=I(e.containment).scrollLeft()||0,u+=I(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:u},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:M.width(),height:M.height()},this.originalSize=this._helper?{width:M.outerWidth(),height:M.outerHeight()}:{width:M.width(),height:M.height()},this.originalPosition={left:g,top:u},this.sizeDiff={width:M.outerWidth()-M.width(),height:M.outerHeight()-M.height()},this.originalMousePosition={left:l.pageX,top:l.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1,N=I(".ui-resizable-"+this.axis).css("cursor"),I("body").css("cursor","auto"===N?this.axis+"-resize":N),M.addClass("ui-resizable-resizing"),this._propagate("start",l),!0},_mouseDrag:function(Q){var N,R=this.helper,u={},P=this.originalMousePosition,g=this.axis,e=Q.pageX-P.left||0,O=Q.pageY-P.top||0,M=this._change[g];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},M?(N=M.apply(this,[Q,e,O]),this._updateVirtualBoundaries(Q.shiftKey),(this._aspectRatio||Q.shiftKey)&&(N=this._updateRatio(N,Q)),N=this._respectSize(N,Q),this._updateCache(N),this._propagate("resize",Q),this.position.top!==this.prevPosition.top&&(u.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(u.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(u.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(u.height=this.size.height+"px"),R.css(u),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),I.isEmptyObject(u)||this._trigger("resize",Q,this.ui()),!1):!1},_mouseStop:function(S){this.resizing=!1;var O,T,M,Q,g,e,P,N=this.options,R=this;return this._helper&&(O=this._proportionallyResizeElements,T=O.length&&/textarea/i.test(O[0].nodeName),M=T&&this._hasScroll(O[0],"left")?0:R.sizeDiff.height,Q=T?0:R.sizeDiff.width,g={width:R.helper.width()-Q,height:R.helper.height()-M},e=parseInt(R.element.css("left"),10)+(R.position.left-R.originalPosition.left)||null,P=parseInt(R.element.css("top"),10)+(R.position.top-R.originalPosition.top)||null,N.animate||this.element.css(I.extend(g,{top:P,left:e})),R.helper.height(R.size.height),R.helper.width(R.size.width),this._helper&&!N.animate&&this._proportionallyResize()),I("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",S),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(N){var u,l,M,P,g,O=this.options;g={minWidth:this._isNumber(O.minWidth)?O.minWidth:0,maxWidth:this._isNumber(O.maxWidth)?O.maxWidth:1/0,minHeight:this._isNumber(O.minHeight)?O.minHeight:0,maxHeight:this._isNumber(O.maxHeight)?O.maxHeight:1/0},(this._aspectRatio||N)&&(u=g.minHeight*this.aspectRatio,M=g.minWidth/this.aspectRatio,l=g.maxHeight*this.aspectRatio,P=g.maxWidth/this.aspectRatio,u>g.minWidth&&(g.minWidth=u),M>g.minHeight&&(g.minHeight=M),g.maxWidth>l&&(g.maxWidth=l),g.maxHeight>P&&(g.maxHeight=P)),this._vBoundaries=g},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(n){var g=this.position,a=this.size,l=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===l&&(n.left=g.left+(a.width-n.width),n.top=null),"nw"===l&&(n.top=g.top+(a.height-n.height),n.left=g.left+(a.width-n.width)),n},_respectSize:function(R){var U=this._vBoundaries,P=this.axis,V=this._isNumber(R.width)&&U.maxWidth&&U.maxWidth<R.width,N=this._isNumber(R.height)&&U.maxHeight&&U.maxHeight<R.height,S=this._isNumber(R.width)&&U.minWidth&&U.minWidth>R.width,M=this._isNumber(R.height)&&U.minHeight&&U.minHeight>R.height,g=this.originalPosition.left+this.originalSize.width,Q=this.position.top+this.size.height,O=/sw|nw|w/.test(P),T=/nw|ne|n/.test(P);return S&&(R.width=U.minWidth),M&&(R.height=U.minHeight),V&&(R.width=U.maxWidth),N&&(R.height=U.maxHeight),S&&O&&(R.left=g-U.minWidth),V&&O&&(R.left=g-U.maxWidth),M&&T&&(R.top=Q-U.minHeight),N&&T&&(R.top=Q-U.maxHeight),R.width||R.height||R.left||!R.top?R.width||R.height||R.top||!R.left||(R.left=null):R.top=null,R},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var M,o,l,u,N,g=this.helper||this.element;for(M=0;this._proportionallyResizeElements.length>M;M++){if(N=this._proportionallyResizeElements[M],!this.borderDif){for(this.borderDif=[],l=[N.css("borderTopWidth"),N.css("borderRightWidth"),N.css("borderBottomWidth"),N.css("borderLeftWidth")],u=[N.css("paddingTop"),N.css("paddingRight"),N.css("paddingBottom"),N.css("paddingLeft")],o=0;l.length>o;o++){this.borderDif[o]=(parseInt(l[o],10)||0)+(parseInt(u[o],10)||0)}}N.css({height:g.height()-this.borderDif[0]-this.borderDif[2]||0,width:g.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,a=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||I("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(g,a){return{width:this.originalSize.width+a}},w:function(n,g){var a=this.originalSize,l=this.originalPosition;return{left:l.left+g,width:a.width-g}},n:function(o,g,a){var l=this.originalSize,u=this.originalPosition;return{top:u.top+a,height:l.height-a}},s:function(l,g,a){return{height:this.originalSize.height+a}},se:function(e,a,g){return I.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,a,g]))},sw:function(e,a,g){return I.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,a,g]))},ne:function(e,a,g){return I.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,a,g]))},nw:function(e,a,g){return I.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,a,g]))}},_propagate:function(e,a){I.ui.plugin.call(this,e,[a,this.ui()]),"resize"!==e&&this._trigger(e,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}}),I.ui.plugin.add("resizable","animate",{stop:function(S){var O=I(this).resizable("instance"),T=O.options,M=O._proportionallyResizeElements,Q=M.length&&/textarea/i.test(M[0].nodeName),g=Q&&O._hasScroll(M[0],"left")?0:O.sizeDiff.height,e=Q?0:O.sizeDiff.width,P={width:O.size.width-e,height:O.size.height-g},N=parseInt(O.element.css("left"),10)+(O.position.left-O.originalPosition.left)||null,R=parseInt(O.element.css("top"),10)+(O.position.top-O.originalPosition.top)||null;O.element.animate(I.extend(P,R&&N?{top:R,left:N}:{}),{duration:T.animateDuration,easing:T.animateEasing,step:function(){var a={width:parseInt(O.element.css("width"),10),height:parseInt(O.element.css("height"),10),top:parseInt(O.element.css("top"),10),left:parseInt(O.element.css("left"),10)};M&&M.length&&I(M[0]).css({width:a.width,height:a.height}),O._updateCache(a),O._propagate("resize",S)}})}}),I.ui.plugin.add("resizable","containment",{start:function(){var U,O,V,M,S,g,e,P=I(this).resizable("instance"),N=P.options,T=P.element,Q=N.containment,R=Q instanceof I?Q.get(0):/parent/.test(Q)?T.parent().get(0):Q;R&&(P.containerElement=I(R),/document/.test(Q)||Q===document?(P.containerOffset={left:0,top:0},P.containerPosition={left:0,top:0},P.parentData={element:I(document),left:0,top:0,width:I(document).width(),height:I(document).height()||document.body.parentNode.scrollHeight}):(U=I(R),O=[],I(["Top","Right","Left","Bottom"]).each(function(l,a){O[l]=P._num(U.css("padding"+a))}),P.containerOffset=U.offset(),P.containerPosition=U.position(),P.containerSize={height:U.innerHeight()-O[3],width:U.innerWidth()-O[1]},V=P.containerOffset,M=P.containerSize.height,S=P.containerSize.width,g=P._hasScroll(R,"left")?R.scrollWidth:S,e=P._hasScroll(R)?R.scrollHeight:M,P.parentData={element:R,left:V.left,top:V.top,width:g,height:e}))},resize:function(W,P){var X,N,U,M,e=I(this).resizable("instance"),Q=e.options,O=e.containerOffset,V=e.position,S=e._aspectRatio||W.shiftKey,T={top:0,left:0},g=e.containerElement,R=!0;g[0]!==document&&/static/.test(g.css("position"))&&(T=O),V.left<(e._helper?O.left:0)&&(e.size.width=e.size.width+(e._helper?e.position.left-O.left:e.position.left-T.left),S&&(e.size.height=e.size.width/e.aspectRatio,R=!1),e.position.left=Q.helper?O.left:0),V.top<(e._helper?O.top:0)&&(e.size.height=e.size.height+(e._helper?e.position.top-O.top:e.position.top),S&&(e.size.width=e.size.height*e.aspectRatio,R=!1),e.position.top=e._helper?O.top:0),e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top,X=Math.abs((e._helper?e.offset.left-T.left:e.offset.left-O.left)+e.sizeDiff.width),N=Math.abs((e._helper?e.offset.top-T.top:e.offset.top-O.top)+e.sizeDiff.height),U=e.containerElement.get(0)===e.element.parent().get(0),M=/relative|absolute/.test(e.containerElement.css("position")),U&&M&&(X-=Math.abs(e.parentData.left)),X+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-X,S&&(e.size.height=e.size.width/e.aspectRatio,R=!1)),N+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-N,S&&(e.size.width=e.size.height*e.aspectRatio,R=!1)),R||(e.position.left=P.prevPosition.left,e.position.top=P.prevPosition.top,e.size.width=P.prevSize.width,e.size.height=P.prevSize.height)},stop:function(){var Q=I(this).resizable("instance"),N=Q.options,R=Q.containerOffset,u=Q.containerPosition,P=Q.containerElement,g=I(Q.helper),e=g.offset(),O=g.outerWidth()-Q.sizeDiff.width,M=g.outerHeight()-Q.sizeDiff.height;Q._helper&&!N.animate&&/relative/.test(P.css("position"))&&I(this).css({left:e.left-u.left-R.left,width:O,height:M}),Q._helper&&!N.animate&&/static/.test(P.css("position"))&&I(this).css({left:e.left-u.left-R.left,width:O,height:M})}}),I.ui.plugin.add("resizable","alsoResize",{start:function(){var e=I(this).resizable("instance"),a=e.options,g=function(l){I(l).each(function(){var n=I(this);n.data("ui-resizable-alsoresize",{width:parseInt(n.width(),10),height:parseInt(n.height(),10),left:parseInt(n.css("left"),10),top:parseInt(n.css("top"),10)})})};"object"!=typeof a.alsoResize||a.alsoResize.parentNode?g(a.alsoResize):a.alsoResize.length?(a.alsoResize=a.alsoResize[0],g(a.alsoResize)):I.each(a.alsoResize,function(l){g(l)})},resize:function(l,g){var M=I(this).resizable("instance"),P=M.options,e=M.originalSize,O=M.originalPosition,N={height:M.size.height-e.height||0,width:M.size.width-e.width||0,top:M.position.top-O.top||0,left:M.position.left-O.left||0},u=function(a,n){I(a).each(function(){var R=I(this),T=I(this).data("ui-resizable-alsoresize"),Q={},S=n&&n.length?n:R.parents(g.originalElement[0]).length?["width","height"]:["width","height","top","left"];I.each(S,function(V,U){var o=(T[U]||0)+(N[U]||0);o&&o>=0&&(Q[U]=o||null)}),R.css(Q)})};"object"!=typeof P.alsoResize||P.alsoResize.nodeType?u(P.alsoResize):I.each(P.alsoResize,function(n,a){u(n,a)})},stop:function(){I(this).removeData("resizable-alsoresize")}}),I.ui.plugin.add("resizable","ghost",{start:function(){var e=I(this).resizable("instance"),a=e.options,g=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:0.25,display:"block",position:"relative",height:g.height,width:g.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var a=I(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=I(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),I.ui.plugin.add("resizable","grid",{resize:function(){var aa=I(this).resizable("instance"),R=aa.options,ab=aa.size,O=aa.originalSize,X=aa.originalPosition,N=aa.axis,e="number"==typeof R.grid?[R.grid,R.grid]:R.grid,S=e[0]||1,Q=e[1]||1,Z=Math.round((ab.width-O.width)/S)*S,V=Math.round((ab.height-O.height)/Q)*Q,W=O.width+Z,M=O.height+V,U=R.maxWidth&&W>R.maxWidth,P=R.maxHeight&&M>R.maxHeight,T=R.minWidth&&R.minWidth>W,Y=R.minHeight&&R.minHeight>M;R.grid=e,T&&(W+=S),Y&&(M+=Q),U&&(W-=S),P&&(M-=Q),/^(se|s|e)$/.test(N)?(aa.size.width=W,aa.size.height=M):/^(ne)$/.test(N)?(aa.size.width=W,aa.size.height=M,aa.position.top=X.top-V):/^(sw)$/.test(N)?(aa.size.width=W,aa.size.height=M,aa.position.left=X.left-Z):(M-Q>0?(aa.size.height=M,aa.position.top=X.top-V):(aa.size.height=Q,aa.position.top=X.top+O.height-Q),W-S>0?(aa.size.width=W,aa.position.left=X.left-Z):(aa.size.width=S,aa.position.left=X.left+O.width-S))}}),I.ui.resizable,I.widget("ui.selectable",I.ui.mouse,{version:"1.11.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,a=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=I(a.options.filter,a.element[0]),e.addClass("ui-selectee"),e.each(function(){var l=I(this),g=l.offset();I.data(this,"selectable-item",{element:this,$element:l,left:g.left,top:g.top,right:g.left+l.outerWidth(),bottom:g.top+l.outerHeight(),startselected:!1,selected:l.hasClass("ui-selected"),selecting:l.hasClass("ui-selecting"),unselecting:l.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=I("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var a=this,g=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=I(g.filter,this.element[0]),this._trigger("start",e),I(g.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),g.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var l=I.data(this,"selectable-item");l.startselected=!0,e.metaKey||e.ctrlKey||(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,a._trigger("unselecting",e,{unselecting:l.element}))}),I(e.target).parents().addBack().each(function(){var l,o=I.data(this,"selectable-item");return o?(l=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(l?"ui-unselecting":"ui-selected").addClass(l?"ui-selecting":"ui-unselecting"),o.unselecting=!l,o.selecting=l,o.selected=l,l?a._trigger("selecting",e,{selecting:o.element}):a._trigger("unselecting",e,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(l){if(this.dragged=!0,!this.options.disabled){var g,M=this,P=this.options,e=this.opos[0],O=this.opos[1],N=l.pageX,u=l.pageY;return e>N&&(g=N,N=e,e=g),O>u&&(g=u,u=O,O=g),this.helper.css({left:e,top:O,width:N-e,height:u-O}),this.selectees.each(function(){var n=I.data(this,"selectable-item"),a=!1;n&&n.element!==M.element[0]&&("touch"===P.tolerance?a=!(n.left>N||e>n.right||n.top>u||O>n.bottom):"fit"===P.tolerance&&(a=n.left>e&&N>n.right&&n.top>O&&u>n.bottom),a?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,M._trigger("selecting",l,{selecting:n.element}))):(n.selecting&&((l.metaKey||l.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),M._trigger("unselecting",l,{unselecting:n.element}))),n.selected&&(l.metaKey||l.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,M._trigger("unselecting",l,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var a=this;return this.dragged=!1,I(".ui-unselecting",this.element[0]).each(function(){var g=I.data(this,"selectable-item");g.$element.removeClass("ui-unselecting"),g.unselecting=!1,g.startselected=!1,a._trigger("unselected",e,{unselected:g.element})}),I(".ui-selecting",this.element[0]).each(function(){var g=I.data(this,"selectable-item");g.$element.removeClass("ui-selecting").addClass("ui-selected"),g.selecting=!1,g.selected=!0,g.startselected=!0,a._trigger("selected",e,{selected:g.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),I.widget("ui.sortable",I.ui.mouse,{version:"1.11.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(l,g,a){return l>=g&&g+a>l},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(g,a){this._super(g,a),"handle"===g&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),I.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(l,g){var o=null,u=!1,e=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(l),I(l.target).parents().each(function(){return I.data(this,e.widgetName+"-item")===e?(o=I(this),!1):void 0}),I.data(l.target,e.widgetName+"-item")===e&&(o=I(l.target)),o?!this.options.handle||g||(I(this.options.handle,o).find("*").addBack().each(function(){this===l.target&&(u=!0)}),u)?(this.currentItem=o,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(l,g,u){var N,e,M=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(l),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},I.extend(this.offset,{click:{left:l.pageX-this.offset.left,top:l.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(l),this.originalPageX=l.pageX,this.originalPageY=l.pageY,M.cursorAt&&this._adjustOffsetFromHelper(M.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),M.containment&&this._setContainment(),M.cursor&&"auto"!==M.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",M.cursor),this.storedStylesheet=I("<style>*{ cursor: "+M.cursor+" !important; }</style>").appendTo(e)),M.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",M.opacity)),M.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",M.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",l,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!u){for(N=this.containers.length-1;N>=0;N--){this.containers[N]._trigger("activate",l,this._uiHash(this))}}return I.ui.ddmanager&&(I.ui.ddmanager.current=this),I.ui.ddmanager&&!M.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,l),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(l),!0},_mouseDrag:function(l){var g,u,O,e,N=this.options,M=!1;for(this.position=this._generatePosition(l),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-l.pageY<N.scrollSensitivity?this.scrollParent[0].scrollTop=M=this.scrollParent[0].scrollTop+N.scrollSpeed:l.pageY-this.overflowOffset.top<N.scrollSensitivity&&(this.scrollParent[0].scrollTop=M=this.scrollParent[0].scrollTop-N.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-l.pageX<N.scrollSensitivity?this.scrollParent[0].scrollLeft=M=this.scrollParent[0].scrollLeft+N.scrollSpeed:l.pageX-this.overflowOffset.left<N.scrollSensitivity&&(this.scrollParent[0].scrollLeft=M=this.scrollParent[0].scrollLeft-N.scrollSpeed)):(l.pageY-I(document).scrollTop()<N.scrollSensitivity?M=I(document).scrollTop(I(document).scrollTop()-N.scrollSpeed):I(window).height()-(l.pageY-I(document).scrollTop())<N.scrollSensitivity&&(M=I(document).scrollTop(I(document).scrollTop()+N.scrollSpeed)),l.pageX-I(document).scrollLeft()<N.scrollSensitivity?M=I(document).scrollLeft(I(document).scrollLeft()-N.scrollSpeed):I(window).width()-(l.pageX-I(document).scrollLeft())<N.scrollSensitivity&&(M=I(document).scrollLeft(I(document).scrollLeft()+N.scrollSpeed))),M!==!1&&I.ui.ddmanager&&!N.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,l)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),g=this.items.length-1;g>=0;g--){if(u=this.items[g],O=u.item[0],e=this._intersectsWithPointer(u),e&&u.instance===this.currentContainer&&O!==this.currentItem[0]&&this.placeholder[1===e?"next":"prev"]()[0]!==O&&!I.contains(this.placeholder[0],O)&&("semi-dynamic"===this.options.type?!I.contains(this.element[0],O):!0)){if(this.direction=1===e?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(u)){break}this._rearrange(l,u),this._trigger("change",l,this._uiHash());break}}return this._contactContainers(l),I.ui.ddmanager&&I.ui.ddmanager.drag(this,l),this._trigger("sort",l,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(l,g){if(l){if(I.ui.ddmanager&&!this.options.dropBehaviour&&I.ui.ddmanager.drop(this,l),this.options.revert){var u=this,N=this.placeholder.offset(),e=this.options.axis,M={};e&&"x"!==e||(M.left=N.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),e&&"y"!==e||(M.top=N.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,I(this.helper).animate(M,parseInt(this.options.revert,10)||500,function(){u._clear(l)})}else{this._clear(l,g)}return !1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--){this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),I.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?I(this.domPosition.prev).after(this.currentItem):I(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var a=this._getItemsAsjQuery(e&&e.connected),g=[];return e=e||{},I(a).each(function(){var l=(I(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);l&&g.push((e.key||l[1]+"[]")+"="+(e.key&&e.expression?l[1]:l[2]))}),!g.length&&e.key&&g.push(e.key+"="),g.join("&")},toArray:function(e){var a=this._getItemsAsjQuery(e&&e.connected),g=[];return e=e||{},a.each(function(){g.push(I(e.item||this).attr(e.attribute||"id")||"")}),g},_intersectsWith:function(S){var X=this.positionAbs.left,Q=X+this.helperProportions.width,Y=this.positionAbs.top,O=Y+this.helperProportions.height,V=S.left,N=V+S.width,g=S.top,R=g+S.height,P=this.offset.click.top,W=this.offset.click.left,T="x"===this.options.axis||Y+P>g&&R>Y+P,U="y"===this.options.axis||X+W>V&&N>X+W,M=T&&U;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>S[this.floating?"width":"height"]?M:X+this.helperProportions.width/2>V&&N>Q-this.helperProportions.width/2&&Y+this.helperProportions.height/2>g&&R>O-this.helperProportions.height/2},_intersectsWithPointer:function(M){var o="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,M.top,M.height),l="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,M.left,M.width),u=o&&l,N=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return u?this.floating?g&&"right"===g||"down"===N?2:1:N&&("down"===N?2:1):!1},_intersectsWithSides:function(o){var g=this._isOverAxis(this.positionAbs.top+this.offset.click.top,o.top+o.height/2,o.height),a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,o.left+o.width/2,o.width),l=this._getDragVerticalDirection(),u=this._getDragHorizontalDirection();return this.floating&&u?"right"===u&&a||"left"===u&&!a:l&&("down"===l&&g||"up"===l&&!g)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(Q){function N(){e.push(this)}var R,u,P,g,e=[],O=[],M=this._connectWith();if(M&&Q){for(R=M.length-1;R>=0;R--){for(P=I(M[R]),u=P.length-1;u>=0;u--){g=I.data(P[u],this.widgetFullName),g&&g!==this&&!g.options.disabled&&O.push([I.isFunction(g.options.items)?g.options.items.call(g.element):I(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g])}}}for(O.push([I.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):I(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),R=O.length-1;R>=0;R--){O[R][0].each(N)}return I(e)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=I.grep(this.items,function(l){for(var g=0;a.length>g;g++){if(a[g]===l.item[0]){return !1}}return !0})},_refreshItems:function(U){this.items=[],this.containers=[this];var O,V,M,S,g,e,P,N,T=this.items,Q=[[I.isFunction(this.options.items)?this.options.items.call(this.element[0],U,{item:this.currentItem}):I(this.options.items,this.element),this]],R=this._connectWith();if(R&&this.ready){for(O=R.length-1;O>=0;O--){for(M=I(R[O]),V=M.length-1;V>=0;V--){S=I.data(M[V],this.widgetFullName),S&&S!==this&&!S.options.disabled&&(Q.push([I.isFunction(S.options.items)?S.options.items.call(S.element[0],U,{item:this.currentItem}):I(S.options.items,S.element),S]),this.containers.push(S))}}}for(O=Q.length-1;O>=0;O--){for(g=Q[O][1],e=Q[O][0],V=0,N=e.length;N>V;V++){P=I(e[V]),P.data(this.widgetName+"-item",g),T.push({item:P,instance:g,width:0,height:0,left:0,top:0})}}},refreshPositions:function(l){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var g,o,u,e;for(g=this.items.length-1;g>=0;g--){o=this.items[g],o.instance!==this.currentContainer&&this.currentContainer&&o.item[0]!==this.currentItem[0]||(u=this.options.toleranceElement?I(this.options.toleranceElement,o.item):o.item,l||(o.width=u.outerWidth(),o.height=u.outerHeight()),e=u.offset(),o.left=e.left,o.top=e.top)}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(g=this.containers.length-1;g>=0;g--){e=this.containers[g].element.offset(),this.containers[g].containerCache.left=e.left,this.containers[g].containerCache.top=e.top,this.containers[g].containerCache.width=this.containers[g].element.outerWidth(),this.containers[g].containerCache.height=this.containers[g].element.outerHeight()}}return this},_createPlaceholder:function(e){e=e||this;var a,g=e.options;g.placeholder&&g.placeholder.constructor!==String||(a=g.placeholder,g.placeholder={element:function(){var l=e.currentItem[0].nodeName.toLowerCase(),o=I("<"+l+">",e.document[0]).addClass(a||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===l?e.currentItem.children().each(function(){I("<td>&#160;</td>",e.document[0]).attr("colspan",I(this).attr("colspan")||1).appendTo(o)}):"img"===l&&o.attr("src",e.currentItem.attr("src")),a||o.css("visibility","hidden"),o},update:function(l,o){(!a||g.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=I(g.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),g.placeholder.update(e,e.placeholder)},_contactContainers:function(V){var P,W,N,T,M,e,Q,O,U,R,S=null,g=null;for(P=this.containers.length-1;P>=0;P--){if(!I.contains(this.currentItem[0],this.containers[P].element[0])){if(this._intersectsWith(this.containers[P].containerCache)){if(S&&I.contains(this.containers[P].element[0],S.element[0])){continue}S=this.containers[P],g=P}else{this.containers[P].containerCache.over&&(this.containers[P]._trigger("out",V,this._uiHash(this)),this.containers[P].containerCache.over=0)}}}if(S){if(1===this.containers.length){this.containers[g].containerCache.over||(this.containers[g]._trigger("over",V,this._uiHash(this)),this.containers[g].containerCache.over=1)}else{for(N=10000,T=null,U=S.floating||this._isFloating(this.currentItem),M=U?"left":"top",e=U?"width":"height",R=U?"clientX":"clientY",W=this.items.length-1;W>=0;W--){I.contains(this.containers[g].element[0],this.items[W].item[0])&&this.items[W].item[0]!==this.currentItem[0]&&(Q=this.items[W].item.offset()[M],O=!1,V[R]-Q>this.items[W][e]/2&&(O=!0),N>Math.abs(V[R]-Q)&&(N=Math.abs(V[R]-Q),T=this.items[W],this.direction=O?"up":"down"))}if(!T&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[g]){return}T?this._rearrange(V,T,null,!0):this._rearrange(V,null,this.containers[g].element,!0),this._trigger("change",V,this._uiHash()),this.containers[g]._trigger("change",V,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",V,this._uiHash(this)),this.containers[g].containerCache.over=1}}},_createHelper:function(e){var a=this.options,g=I.isFunction(a.helper)?I(a.helper.apply(this.element[0],[e,this.currentItem])):"clone"===a.helper?this.currentItem.clone():this.currentItem;return g.parents("body").length||I("parent"!==a.appendTo?a.appendTo:this.currentItem[0].parentNode)[0].appendChild(g[0]),g[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!g[0].style.width||a.forceHelperSize)&&g.width(this.currentItem.width()),(!g[0].style.height||a.forceHelperSize)&&g.height(this.currentItem.height()),g},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),I.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&I.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&I.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,a,g,l=this.options;"parent"===l.containment&&(l.containment=this.helper[0].parentNode),("document"===l.containment||"window"===l.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,I("document"===l.containment?document:window).width()-this.helperProportions.width-this.margins.left,(I("document"===l.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(l.containment)||(e=I(l.containment)[0],a=I(l.containment).offset(),g="hidden"!==I(e).css("overflow"),this.containment=[a.left+(parseInt(I(e).css("borderLeftWidth"),10)||0)+(parseInt(I(e).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(I(e).css("borderTopWidth"),10)||0)+(parseInt(I(e).css("paddingTop"),10)||0)-this.margins.top,a.left+(g?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(I(e).css("borderLeftWidth"),10)||0)-(parseInt(I(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(g?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(I(e).css("borderTopWidth"),10)||0)-(parseInt(I(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(l,g){g||(g=this.position);var o="absolute"===l?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&I.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(u[0].tagName);return{top:g.top+this.offset.relative.top*o+this.offset.parent.top*o-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():e?0:u.scrollTop())*o,left:g.left+this.offset.relative.left*o+this.offset.parent.left*o-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():e?0:u.scrollLeft())*o}},_generatePosition:function(l){var g,M,P=this.options,e=l.pageX,O=l.pageY,N="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&I.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=/(html|body)/i.test(N[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(l.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),l.pageY-this.offset.click.top<this.containment[1]&&(O=this.containment[1]+this.offset.click.top),l.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+this.offset.click.left),l.pageY-this.offset.click.top>this.containment[3]&&(O=this.containment[3]+this.offset.click.top)),P.grid&&(g=this.originalPageY+Math.round((O-this.originalPageY)/P.grid[1])*P.grid[1],O=this.containment?g-this.offset.click.top>=this.containment[1]&&g-this.offset.click.top<=this.containment[3]?g:g-this.offset.click.top>=this.containment[1]?g-P.grid[1]:g+P.grid[1]:g,M=this.originalPageX+Math.round((e-this.originalPageX)/P.grid[0])*P.grid[0],e=this.containment?M-this.offset.click.left>=this.containment[0]&&M-this.offset.click.left<=this.containment[2]?M:M-this.offset.click.left>=this.containment[0]?M-P.grid[0]:M+P.grid[0]:M)),{top:O-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():u?0:N.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():u?0:N.scrollLeft())}},_rearrange:function(o,g,a,l){a?a[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?g.item[0]:g.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!l)})},_clear:function(o,g){function a(N,M,n){return function(e){n._trigger(N,e,M._uiHash(M))}}this.reverting=!1;var l,u=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(l in this._storedCSS){("auto"===this._storedCSS[l]||"static"===this._storedCSS[l])&&(this._storedCSS[l]="")}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(this.fromOutside&&!g&&u.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||g||u.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(g||(u.push(function(n){this._trigger("remove",n,this._uiHash())}),u.push(function(n){return function(e){n._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),u.push(function(n){return function(e){n._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),l=this.containers.length-1;l>=0;l--){g||u.push(a("deactivate",this,this.containers[l])),this.containers[l].containerCache.over&&(u.push(a("out",this,this.containers[l])),this.containers[l].containerCache.over=0)}if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!g){for(this._trigger("beforeStop",o,this._uiHash()),l=0;u.length>l;l++){u[l].call(this,o)}this._trigger("stop",o,this._uiHash())}return this.fromOutside=!1,!1}if(g||this._trigger("beforeStop",o,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!g){for(l=0;u.length>l;l++){u[l].call(this,o)}this._trigger("stop",o,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){I.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var a=e||this;return{helper:a.helper,placeholder:a.placeholder||I([]),position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs,item:a.currentItem,sender:e?e.element:null}}}),I.widget("ui.accordion",{version:"1.11.0",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=I(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),a.collapsible||a.active!==!1&&null!=a.active||(a.active=0),this._processPanels(),0>a.active&&(a.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():I()}},_createIcons:function(){var a=this.options.icons;a&&(I("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(g,a){return"active"===g?(this._activate(a),void 0):("event"===g&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(a)),this._super(g,a),"collapsible"!==g||a||this.options.active!==!1||this._activate(0),"icons"===g&&(this._destroyIcons(),a&&this._createIcons()),"disabled"===g&&(this.element.toggleClass("ui-state-disabled",!!a).attr("aria-disabled",a),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!a)),void 0)},_keydown:function(l){if(!l.altKey&&!l.ctrlKey){var g=I.ui.keyCode,o=this.headers.length,u=this.headers.index(l.target),e=!1;switch(l.keyCode){case g.RIGHT:case g.DOWN:e=this.headers[(u+1)%o];break;case g.LEFT:case g.UP:e=this.headers[(u-1+o)%o];break;case g.SPACE:case g.ENTER:this._eventHandler(l);break;case g.HOME:e=this.headers[0];break;case g.END:e=this.headers[o-1]}e&&(I(l.target).attr("tabIndex",-1),I(e).attr("tabIndex",0),e.focus(),l.preventDefault())}},_panelKeyDown:function(a){a.keyCode===I.ui.keyCode.UP&&a.ctrlKey&&I(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels(),a.active===!1&&a.collapsible===!0||!this.headers.length?(a.active=!1,this.active=I()):a.active===!1?this._activate(0):this.active.length&&!I.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=I()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,a=this.options,g=a.heightStyle,l=this.element.parent();this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var u=I(this),o=u.uniqueId().attr("id"),M=u.next(),N=M.uniqueId().attr("id");u.attr("aria-controls",N),M.attr("aria-labelledby",o)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(a.event),"fill"===g?(e=l.height(),this.element.siblings(":visible").each(function(){var n=I(this),o=n.css("position");"absolute"!==o&&"fixed"!==o&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=I(this).outerHeight(!0)}),this.headers.next().each(function(){I(this).height(Math.max(0,e-I(this).innerHeight()+I(this).height()))}).css("overflow","auto")):"auto"===g&&(e=0,this.headers.next().each(function(){e=Math.max(e,I(this).css("height","").height())}).height(e))},_activate:function(e){var a=this._findActive(e)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:I.noop}))},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):I()},_setupEvents:function(e){var a={keydown:"_keydown"};e&&I.each(e.split(" "),function(l,g){a[g]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,a),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(Q){var N=this.options,R=this.active,u=I(Q.currentTarget),P=u[0]===R[0],g=P&&N.collapsible,e=g?I():u.next(),O=R.next(),M={oldHeader:R,oldPanel:O,newHeader:g?I():u,newPanel:e};Q.preventDefault(),P&&!N.collapsible||this._trigger("beforeActivate",Q,M)===!1||(N.active=g?!1:this.headers.index(u),this.active=P?I():u,this._toggle(M),R.removeClass("ui-accordion-header-active ui-state-active"),N.icons&&R.children(".ui-accordion-header-icon").removeClass(N.icons.activeHeader).addClass(N.icons.header),P||(u.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),N.icons&&u.children(".ui-accordion-header-icon").removeClass(N.icons.header).addClass(N.icons.activeHeader),u.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var a=e.newPanel,g=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=a,this.prevHide=g,this.options.animate?this._animate(a,g,e):(g.hide(),a.show(),this._toggleComplete(e)),g.attr({"aria-hidden":"true"}),g.prev().attr("aria-selected","false"),a.length&&g.length?g.prev().attr({tabIndex:-1,"aria-expanded":"false"}):a.length&&this.headers.filter(function(){return 0===I(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(R,V,P){var W,N,T,M=this,g=0,Q=R.length&&(!V.length||R.index()<V.index()),O=this.options.animate||{},U=Q&&O.down||O,S=function(){M._toggleComplete(P)};return"number"==typeof U&&(T=U),"string"==typeof U&&(N=U),N=N||U.easing||O.easing,T=T||U.duration||O.duration,V.length?R.length?(W=R.show().outerHeight(),V.animate(this.hideProps,{duration:T,easing:N,step:function(l,a){a.now=Math.round(l)}}),R.hide().animate(this.showProps,{duration:T,easing:N,complete:S,step:function(l,a){a.now=Math.round(l),"height"!==a.prop?g+=a.now:"content"!==M.options.heightStyle&&(a.now=Math.round(W-V.outerHeight()-g),g=0)}}),void 0):V.animate(this.hideProps,T,N,S):R.animate(this.showProps,T,N,S)},_toggleComplete:function(g){var a=g.oldPanel;a.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),a.length&&(a.parent()[0].className=a.parent()[0].className),this._trigger("activate",null,g)}}),I.widget("ui.menu",{version:"1.11.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(e){var a=I(e.target);!this.mouseHandled&&a.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),a.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&I(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var a=I(e.currentTarget);a.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,a)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(l,g){var a=this.active||this.element.find(this.options.items).eq(0);g||this.focus(l,a)},blur:function(a){this._delay(function(){I.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=I(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(l){function g(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var M,P,e,O,N,u=!0;switch(l.keyCode){case I.ui.keyCode.PAGE_UP:this.previousPage(l);break;case I.ui.keyCode.PAGE_DOWN:this.nextPage(l);break;case I.ui.keyCode.HOME:this._move("first","first",l);break;case I.ui.keyCode.END:this._move("last","last",l);break;case I.ui.keyCode.UP:this.previous(l);break;case I.ui.keyCode.DOWN:this.next(l);break;case I.ui.keyCode.LEFT:this.collapse(l);break;case I.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(l);break;case I.ui.keyCode.ENTER:case I.ui.keyCode.SPACE:this._activate(l);break;case I.ui.keyCode.ESCAPE:this.collapse(l);break;default:u=!1,P=this.previousFilter||"",e=String.fromCharCode(l.keyCode),O=!1,clearTimeout(this.filterTimer),e===P?O=!0:e=P+e,N=RegExp("^"+g(e),"i"),M=this.activeMenu.find(this.options.items).filter(function(){return N.test(I(this).text())}),M=O&&-1!==M.index(this.active.next())?this.active.nextAll(".ui-menu-item"):M,M.length||(e=String.fromCharCode(l.keyCode),N=RegExp("^"+g(e),"i"),M=this.activeMenu.find(this.options.items).filter(function(){return N.test(I(this).text())})),M.length?(this.focus(l,M),M.length>1?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}u&&l.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var l,g,o=this,u=this.options.icons.submenu,e=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),e.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var n=I(this),a=n.parent(),M=I("<span>").addClass("ui-menu-icon ui-icon "+u).data("ui-menu-submenu-carat",!0);a.attr("aria-haspopup","true").prepend(M),n.attr("aria-labelledby",a.attr("id"))}),l=e.add(this.element),g=l.find(this.options.items),g.not(".ui-menu-item").each(function(){var a=I(this);o._isDivider(a)&&a.addClass("ui-widget-content ui-menu-divider")}),g.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),g.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!I.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(g,a){"icons"===g&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(a.submenu),"disabled"===g&&this.element.toggleClass("ui-state-disabled",!!a).attr("aria-disabled",a),this._super(g,a)},focus:function(n,g){var a,l;this.blur(n,n&&"focus"===n.type),this._scrollIntoView(g),this.active=g.first(),l=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",l.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),n&&"keydown"===n.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),a=g.children(".ui-menu"),a.length&&n&&/^mouse/.test(n.type)&&this._startOpening(a),this.activeMenu=g.parent(),this._trigger("focus",n,{item:g})},_scrollIntoView:function(l){var g,u,O,e,N,M;this._hasScroll()&&(g=parseFloat(I.css(this.activeMenu[0],"borderTopWidth"))||0,u=parseFloat(I.css(this.activeMenu[0],"paddingTop"))||0,O=l.offset().top-this.activeMenu.offset().top-g-u,e=this.activeMenu.scrollTop(),N=this.activeMenu.height(),M=l.outerHeight(),0>O?this.activeMenu.scrollTop(e+O):O+M>N&&this.activeMenu.scrollTop(e+O-N+M))},blur:function(g,a){a||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",g,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(e){var a=I.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(e,a){clearTimeout(this.timer),this.timer=this._delay(function(){var g=a?this.element:I(e&&e.target).closest(this.element.find(".ui-menu"));g.length||(g=this.element),this._close(g),this.blur(e),this.activeMenu=g},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(a){return !I(a.target).closest(".ui-menu").length},_isDivider:function(a){return !/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(g){var a=this.active&&this.active.parent().closest(".ui-menu-item",this.element);a&&a.length&&(this._close(),this.focus(g,a))},expand:function(g){var a=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();a&&a.length&&(this._open(a.parent()),this._delay(function(){this.focus(g,a)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,g,a){var l;this.active&&(l="first"===n||"last"===n?this.active["first"===n?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0)),l&&l.length&&this.active||(l=this.activeMenu.find(this.options.items)[g]()),this.focus(a,l)},nextPage:function(e){var a,g,l;return this.active?(this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,l=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return a=I(this),0>a.offset().top-g-l}),this.focus(e,a)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var a,g,l;return this.active?(this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,l=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return a=I(this),a.offset().top-g+l>0}),this.focus(e,a)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||I(e.target).closest(".ui-menu-item");var a={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,a)}}),I.widget("ui.autocomplete",{version:"1.11.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var l,g,u,N=this.element[0].nodeName.toLowerCase(),e="textarea"===N,M="input"===N;this.isMultiLine=e?!0:M?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[e||M?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(O){if(this.element.prop("readOnly")){return l=!0,u=!0,g=!0,void 0}l=!1,u=!1,g=!1;var o=I.ui.keyCode;switch(O.keyCode){case o.PAGE_UP:l=!0,this._move("previousPage",O);break;case o.PAGE_DOWN:l=!0,this._move("nextPage",O);break;case o.UP:l=!0,this._keyEvent("previous",O);break;case o.DOWN:l=!0,this._keyEvent("next",O);break;case o.ENTER:this.menu.active&&(l=!0,O.preventDefault(),this.menu.select(O));break;case o.TAB:this.menu.active&&this.menu.select(O);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(O),O.preventDefault());break;default:g=!0,this._searchTimeout(O)}},keypress:function(a){if(l){return l=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&a.preventDefault(),void 0}if(!g){var o=I.ui.keyCode;switch(a.keyCode){case o.PAGE_UP:this._move("previousPage",a);break;case o.PAGE_DOWN:this._move("nextPage",a);break;case o.UP:this._keyEvent("previous",a);break;case o.DOWN:this._keyEvent("next",a)}}},input:function(a){return u?(u=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}}),this._initSource(),this.menu=I("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(n){n.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var a=this.menu.element[0];I(n.target).closest(".ui-menu-item").length||this._delay(function(){var o=this;this.document.one("mousedown",function(O){O.target===o.element[0]||O.target===a||I.contains(a,O.target)||o.close()})})},menufocus:function(o,a){var O,P;return this.isNewMenu&&(this.isNewMenu=!1,o.originalEvent&&/^mouse/.test(o.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){I(o.target).trigger(o.originalEvent)}),void 0):(P=a.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",o,{item:P})&&o.originalEvent&&/^key/.test(o.originalEvent.type)&&this._value(P.value),O=a.item.attr("aria-label")||P.value,O&&jQuery.trim(O).length&&(this.liveRegion.children().hide(),I("<div>").text(O).appendTo(this.liveRegion)),void 0)},menuselect:function(O,n){var a=n.item.data("ui-autocomplete-item"),o=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=o,this._delay(function(){this.previous=o,this.selectedItem=a})),!1!==this._trigger("select",O,{item:a})&&this._value(a.value),this.term=this._value(),this.close(O),this.selectedItem=a}}),this.liveRegion=I("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(g,a){this._super(g,a),"source"===g&&this._initSource(),"appendTo"===g&&this.menu.element.appendTo(this._appendTo()),"disabled"===g&&a&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?I(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_initSource:function(){var e,a,g=this;I.isArray(this.options.source)?(e=this.options.source,this.source=function(l,n){n(I.ui.autocomplete.filter(e,l.term))}):"string"==typeof this.options.source?(a=this.options.source,this.source=function(l,o){g.xhr&&g.xhr.abort(),g.xhr=I.ajax({url:a,data:l,dataType:"json",success:function(n){o(n)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var g=this.term===this._value(),e=this.menu.element.is(":visible"),l=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!g||g&&!e&&!l)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(g,a){return g=null!=g?g:this._value(),this.term=this._value(),g.length<this.options.minLength?this.close(a):this._trigger("search",a)!==!1?this._search(g):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return I.proxy(function(g){a===this.requestIndex&&this.__response(g),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:I.map(a,function(e){return"string"==typeof e?{label:e,value:e}:I.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var a=this.menu.element.empty();this._renderMenu(a,e),this.isNewMenu=!0,this.menu.refresh(),a.show(),this._resizeMenu(),a.position(I.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,a){var g=this;I.each(a,function(n,l){g._renderItemData(e,l)})},_renderItemData:function(g,a){return this._renderItem(g,a).data("ui-autocomplete-item",a)},_renderItem:function(e,a){return I("<li>").text(a.label).appendTo(e)},_move:function(g,a){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(g)||this.menu.isLastItem()&&/^next/.test(g)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[g](a),void 0):(this.search(null,a),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(g,a){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(g,a),a.preventDefault())}}),I.extend(I.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,a){var g=RegExp(I.ui.autocomplete.escapeRegex(a),"i");return I.grep(e,function(l){return g.test(l.label||l.value||l)})}}),I.widget("ui.autocomplete",I.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var a;this._superApply(arguments),this.options.disabled||this.cancelSearch||(a=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),I("<div>").text(a).appendTo(this.liveRegion))}}),I.ui.autocomplete;var J,K="ui-button ui-widget ui-state-default ui-corner-all",z="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",H=function(){var a=I(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},C=function(e){var a=e.name,g=e.form,l=I([]);return a&&(a=a.replace(/'/g,"\\'"),l=g?I(g).find("[name='"+a+"'][type=radio]"):I("[name='"+a+"'][type=radio]",e.ownerDocument).filter(function(){return !this.form})),l};I.widget("ui.button",{version:"1.11.0",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,H),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,a=this.options,g="checkbox"===this.type||"radio"===this.type,l=g?"":"ui-state-active";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(K).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===J&&I(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||I(this).removeClass(l)}).bind("click"+this.eventNamespace,function(n){a.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),g&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled){return !1}I(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var n=e.element[0];C(n).not(n).map(function(){return I(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(I(this).addClass("ui-state-active"),J=this,e.document.one("mouseup",function(){J=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:(I(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(n){return a.disabled?!1:((n.keyCode===I.ui.keyCode.SPACE||n.keyCode===I.ui.keyCode.ENTER)&&I(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){I(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(n){n.keyCode===I.ui.keyCode.SPACE&&I(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var l,g,a;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(l=this.element.parents().last(),g="label[for='"+this.element.attr("id")+"']",this.buttonElement=l.find(g),this.buttonElement.length||(l=l.length?l.siblings():this.element.siblings(),this.buttonElement=l.filter(g),this.buttonElement.length||(this.buttonElement=l.find(g))),this.element.addClass("ui-helper-hidden-accessible"),a=this.element.is(":checked"),a&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(K+" ui-state-active "+z).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(g,a){return this._super(g,a),"disabled"===g?(this.widget().toggleClass("ui-state-disabled",!!a),this.element.prop("disabled",!!a),a&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?C(this.element[0]).each(function(){I(this).is(":checked")?I(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):I(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type){return this.options.label&&this.element.val(this.options.label),void 0}var l=this.buttonElement.removeClass(z),g=I("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(l.empty()).text(),o=this.options.icons,u=o.primary&&o.secondary,e=[];o.primary||o.secondary?(this.options.text&&e.push("ui-button-text-icon"+(u?"s":o.primary?"-primary":"-secondary")),o.primary&&l.prepend("<span class='ui-button-icon-primary ui-icon "+o.primary+"'></span>"),o.secondary&&l.append("<span class='ui-button-icon-secondary ui-icon "+o.secondary+"'></span>"),this.options.text||(e.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||l.attr("title",I.trim(g)))):e.push("ui-button-text-only"),l.addClass(e.join(" "))}}),I.widget("ui.buttonset",{version:"1.11.0",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(g,a){"disabled"===g&&this.buttons.button("option",g,a),this._super(g,a)},refresh:function(){var e="rtl"===this.element.css("direction"),a=this.element.find(this.options.items),g=a.filter(":ui-button");a.not(":ui-button").button(),g.button("refresh"),this.buttons=a.map(function(){return I(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return I(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),I.ui.button,I.extend(I.ui,{datepicker:{version:"1.11.0"}});var G;I.extend(B.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return A(this._defaults,a||{}),this},_attachDatepicker:function(l,g){var o,u,e;o=l.nodeName.toLowerCase(),u="div"===o||"span"===o,l.id||(this.uuid+=1,l.id="dp"+this.uuid),e=this._newInst(I(l),u),e.settings=I.extend({},g||{}),"input"===o?this._connectDatepicker(l,e):u&&this._inlineDatepicker(l,e)},_newInst:function(e,a){var g=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:g,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?L(I("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,a){var g=I(e);a.append=I([]),a.trigger=I([]),g.hasClass(this.markerClassName)||(this._attachments(g,a),g.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),I.data(e,"datepicker",a),a.settings.disabled&&this._disableDatepicker(e))},_attachments:function(l,g){var u,O,e,N=this._get(g,"appendText"),M=this._get(g,"isRTL");g.append&&g.append.remove(),N&&(g.append=I("<span class='"+this._appendClass+"'>"+N+"</span>"),l[M?"before":"after"](g.append)),l.unbind("focus",this._showDatepicker),g.trigger&&g.trigger.remove(),u=this._get(g,"showOn"),("focus"===u||"both"===u)&&l.focus(this._showDatepicker),("button"===u||"both"===u)&&(O=this._get(g,"buttonText"),e=this._get(g,"buttonImage"),g.trigger=I(this._get(g,"buttonImageOnly")?I("<img/>").addClass(this._triggerClass).attr({src:e,alt:O,title:O}):I("<button type='button'></button>").addClass(this._triggerClass).html(e?I("<img/>").attr({src:e,alt:O,title:O}):O)),l[M?"before":"after"](g.trigger),g.trigger.click(function(){return I.datepicker._datepickerShowing&&I.datepicker._lastInput===l[0]?I.datepicker._hideDatepicker():I.datepicker._datepickerShowing&&I.datepicker._lastInput!==l[0]?(I.datepicker._hideDatepicker(),I.datepicker._showDatepicker(l[0])):I.datepicker._showDatepicker(l[0]),!1}))},_autoSize:function(N){if(this._get(N,"autoSize")&&!N.inline){var u,l,M,P,g=new Date(2009,11,20),O=this._get(N,"dateFormat");O.match(/[DM]/)&&(u=function(a){for(l=0,M=0,P=0;a.length>P;P++){a[P].length>l&&(l=a[P].length,M=P)}return M},g.setMonth(u(this._get(N,O.match(/MM/)?"monthNames":"monthNamesShort"))),g.setDate(u(this._get(N,O.match(/DD/)?"dayNames":"dayNamesShort"))+20-g.getDay())),N.input.attr("size",this._formatDate(N,g).length)}},_inlineDatepicker:function(e,a){var g=I(e);g.hasClass(this.markerClassName)||(g.addClass(this.markerClassName).append(a.dpDiv),I.data(e,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(e),a.dpDiv.css("display","block"))},_dialogDatepicker:function(S,M,T,g,Q){var e,N,o,R,O,P=this._dialogInst;return P||(this.uuid+=1,e="dp"+this.uuid,this._dialogInput=I("<input type='text' id='"+e+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),I("body").append(this._dialogInput),P=this._dialogInst=this._newInst(this._dialogInput,!1),P.settings={},I.data(this._dialogInput[0],"datepicker",P)),A(P.settings,g||{}),M=M&&M.constructor===Date?this._formatDate(P,M):M,this._dialogInput.val(M),this._pos=Q?Q.length?Q:[Q.pageX,Q.pageY]:null,this._pos||(N=document.documentElement.clientWidth,o=document.documentElement.clientHeight,R=document.documentElement.scrollLeft||document.body.scrollLeft,O=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[N/2-100+R,o/2-150+O]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),P.settings.onSelect=T,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),I.blockUI&&I.blockUI(this.dpDiv),I.data(this._dialogInput[0],"datepicker",P),this},_destroyDatepicker:function(e){var a,g=I(e),l=I.data(e,"datepicker");g.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),I.removeData(e,"datepicker"),"input"===a?(l.append.remove(),l.trigger.remove(),g.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===a||"span"===a)&&g.removeClass(this.markerClassName).empty())},_enableDatepicker:function(l){var g,o,u=I(l),e=I.data(l,"datepicker");u.hasClass(this.markerClassName)&&(g=l.nodeName.toLowerCase(),"input"===g?(l.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===g||"span"===g)&&(o=u.children("."+this._inlineClass),o.children().removeClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=I.map(this._disabledInputs,function(a){return a===l?null:a}))},_disableDatepicker:function(l){var g,o,u=I(l),e=I.data(l,"datepicker");u.hasClass(this.markerClassName)&&(g=l.nodeName.toLowerCase(),"input"===g?(l.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===g||"span"===g)&&(o=u.children("."+this._inlineClass),o.children().addClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=I.map(this._disabledInputs,function(a){return a===l?null:a}),this._disabledInputs[this._disabledInputs.length]=l)},_isDisabledDatepicker:function(g){if(!g){return !1}for(var a=0;this._disabledInputs.length>a;a++){if(this._disabledInputs[a]===g){return !0}}return !1},_getInst:function(e){try{return I.data(e,"datepicker")}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(u,o,N){var P,g,O,M,e=this._getInst(u);return 2===arguments.length&&"string"==typeof o?"defaults"===o?I.extend({},I.datepicker._defaults):e?"all"===o?I.extend({},e.settings):this._get(e,o):null:(P=o||{},"string"==typeof o&&(P={},P[o]=N),e&&(this._curInst===e&&this._hideDatepicker(),g=this._getDateDatepicker(u,!0),O=this._getMinMaxDate(e,"min"),M=this._getMinMaxDate(e,"max"),A(e.settings,P),null!==O&&void 0!==P.dateFormat&&void 0===P.minDate&&(e.settings.minDate=this._formatDate(e,O)),null!==M&&void 0!==P.dateFormat&&void 0===P.maxDate&&(e.settings.maxDate=this._formatDate(e,M)),"disabled" in P&&(P.disabled?this._disableDatepicker(u):this._enableDatepicker(u)),this._attachments(I(u),e),this._autoSize(e),this._setDate(e,g),this._updateAlternate(e),this._updateDatepicker(e)),void 0)},_changeDatepicker:function(l,g,a){this._optionDatepicker(l,g,a)},_refreshDatepicker:function(g){var a=this._getInst(g);a&&this._updateDatepicker(a)},_setDateDatepicker:function(l,g){var a=this._getInst(l);a&&(this._setDate(a,g),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(l,g){var a=this._getInst(l);return a&&!a.inline&&this._setDateFromField(a,g),a?this._getDate(a):null},_doKeyDown:function(l){var g,u,O,e=I.datepicker._getInst(l.target),N=!0,M=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,I.datepicker._datepickerShowing){switch(l.keyCode){case 9:I.datepicker._hideDatepicker(),N=!1;break;case 13:return O=I("td."+I.datepicker._dayOverClass+":not(."+I.datepicker._currentClass+")",e.dpDiv),O[0]&&I.datepicker._selectDay(l.target,e.selectedMonth,e.selectedYear,O[0]),g=I.datepicker._get(e,"onSelect"),g?(u=I.datepicker._formatDate(e),g.apply(e.input?e.input[0]:null,[u,e])):I.datepicker._hideDatepicker(),!1;case 27:I.datepicker._hideDatepicker();break;case 33:I.datepicker._adjustDate(l.target,l.ctrlKey?-I.datepicker._get(e,"stepBigMonths"):-I.datepicker._get(e,"stepMonths"),"M");break;case 34:I.datepicker._adjustDate(l.target,l.ctrlKey?+I.datepicker._get(e,"stepBigMonths"):+I.datepicker._get(e,"stepMonths"),"M");break;case 35:(l.ctrlKey||l.metaKey)&&I.datepicker._clearDate(l.target),N=l.ctrlKey||l.metaKey;break;case 36:(l.ctrlKey||l.metaKey)&&I.datepicker._gotoToday(l.target),N=l.ctrlKey||l.metaKey;break;case 37:(l.ctrlKey||l.metaKey)&&I.datepicker._adjustDate(l.target,M?1:-1,"D"),N=l.ctrlKey||l.metaKey,l.originalEvent.altKey&&I.datepicker._adjustDate(l.target,l.ctrlKey?-I.datepicker._get(e,"stepBigMonths"):-I.datepicker._get(e,"stepMonths"),"M");break;case 38:(l.ctrlKey||l.metaKey)&&I.datepicker._adjustDate(l.target,-7,"D"),N=l.ctrlKey||l.metaKey;break;case 39:(l.ctrlKey||l.metaKey)&&I.datepicker._adjustDate(l.target,M?-1:1,"D"),N=l.ctrlKey||l.metaKey,l.originalEvent.altKey&&I.datepicker._adjustDate(l.target,l.ctrlKey?+I.datepicker._get(e,"stepBigMonths"):+I.datepicker._get(e,"stepMonths"),"M");break;case 40:(l.ctrlKey||l.metaKey)&&I.datepicker._adjustDate(l.target,7,"D"),N=l.ctrlKey||l.metaKey;break;default:N=!1}}else{36===l.keyCode&&l.ctrlKey?I.datepicker._showDatepicker(this):N=!1}N&&(l.preventDefault(),l.stopPropagation())},_doKeyPress:function(e){var a,g,l=I.datepicker._getInst(e.target);return I.datepicker._get(l,"constrainInput")?(a=I.datepicker._possibleChars(I.datepicker._get(l,"dateFormat")),g=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">g||!a||a.indexOf(g)>-1):void 0},_doKeyUp:function(e){var a,g=I.datepicker._getInst(e.target);if(g.input.val()!==g.lastVal){try{a=I.datepicker.parseDate(I.datepicker._get(g,"dateFormat"),g.input?g.input.val():null,I.datepicker._getFormatConfig(g)),a&&(I.datepicker._setDateFromField(g),I.datepicker._updateAlternate(g),I.datepicker._updateDatepicker(g))}catch(l){}}return !0},_showDatepicker:function(N){if(N=N.target||N,"input"!==N.nodeName.toLowerCase()&&(N=I("input",N.parentNode)[0]),!I.datepicker._isDisabledDatepicker(N)&&I.datepicker._lastInput!==N){var M,Q,g,P,O,e,o;M=I.datepicker._getInst(N),I.datepicker._curInst&&I.datepicker._curInst!==M&&(I.datepicker._curInst.dpDiv.stop(!0,!0),M&&I.datepicker._datepickerShowing&&I.datepicker._hideDatepicker(I.datepicker._curInst.input[0])),Q=I.datepicker._get(M,"beforeShow"),g=Q?Q.apply(N,[N,M]):{},g!==!1&&(A(M.settings,g),M.lastVal=null,I.datepicker._lastInput=N,I.datepicker._setDateFromField(M),I.datepicker._inDialog&&(N.value=""),I.datepicker._pos||(I.datepicker._pos=I.datepicker._findPos(N),I.datepicker._pos[1]+=N.offsetHeight),P=!1,I(N).parents().each(function(){return P|="fixed"===I(this).css("position"),!P}),O={left:I.datepicker._pos[0],top:I.datepicker._pos[1]},I.datepicker._pos=null,M.dpDiv.empty(),M.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),I.datepicker._updateDatepicker(M),O=I.datepicker._checkOffset(M,O,P),M.dpDiv.css({position:I.datepicker._inDialog&&I.blockUI?"static":P?"fixed":"absolute",display:"none",left:O.left+"px",top:O.top+"px"}),M.inline||(e=I.datepicker._get(M,"showAnim"),o=I.datepicker._get(M,"duration"),M.dpDiv.css("z-index",q(I(N))+1),I.datepicker._datepickerShowing=!0,I.effects&&I.effects.effect[e]?M.dpDiv.show(e,I.datepicker._get(M,"showOptions"),o):M.dpDiv[e||"show"](e?o:null),I.datepicker._shouldFocusInput(M)&&M.input.focus(),I.datepicker._curInst=M))}},_updateDatepicker:function(l){this.maxRows=4,G=l,l.dpDiv.empty().append(this._generateHTML(l)),this._attachHandlers(l),l.dpDiv.find("."+this._dayOverClass+" a");var g,o=this._getNumberOfMonths(l),u=o[1],e=17;l.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),u>1&&l.dpDiv.addClass("ui-datepicker-multi-"+u).css("width",e*u+"em"),l.dpDiv[(1!==o[0]||1!==o[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),l.dpDiv[(this._get(l,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),l===I.datepicker._curInst&&I.datepicker._datepickerShowing&&I.datepicker._shouldFocusInput(l)&&l.input.focus(),l.yearshtml&&(g=l.yearshtml,setTimeout(function(){g===l.yearshtml&&l.yearshtml&&l.dpDiv.find("select.ui-datepicker-year:first").replaceWith(l.yearshtml),g=l.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(Q,N,R){var u=Q.dpDiv.outerWidth(),P=Q.dpDiv.outerHeight(),g=Q.input?Q.input.outerWidth():0,e=Q.input?Q.input.outerHeight():0,O=document.documentElement.clientWidth+(R?0:I(document).scrollLeft()),M=document.documentElement.clientHeight+(R?0:I(document).scrollTop());return N.left-=this._get(Q,"isRTL")?u-g:0,N.left-=R&&N.left===Q.input.offset().left?I(document).scrollLeft():0,N.top-=R&&N.top===Q.input.offset().top+e?I(document).scrollTop():0,N.left-=Math.min(N.left,N.left+u>O&&O>u?Math.abs(N.left+u-O):0),N.top-=Math.min(N.top,N.top+P>M&&M>P?Math.abs(P+e):0),N},_findPos:function(e){for(var a,g=this._getInst(e),l=this._get(g,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||I.expr.filters.hidden(e));){e=e[l?"previousSibling":"nextSibling"]}return a=I(e).offset(),[a.left,a.top]},_hideDatepicker:function(l){var g,u,N,e,M=this._curInst;!M||l&&M!==I.data(l,"datepicker")||this._datepickerShowing&&(g=this._get(M,"showAnim"),u=this._get(M,"duration"),N=function(){I.datepicker._tidyDialog(M)},I.effects&&(I.effects.effect[g]||I.effects[g])?M.dpDiv.hide(g,I.datepicker._get(M,"showOptions"),u,N):M.dpDiv["slideDown"===g?"slideUp":"fadeIn"===g?"fadeOut":"hide"](g?u:null,N),g||N(),this._datepickerShowing=!1,e=this._get(M,"onClose"),e&&e.apply(M.input?M.input[0]:null,[M.input?M.input.val():"",M]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),I.blockUI&&(I.unblockUI(),I("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(I.datepicker._curInst){var a=I(e.target),g=I.datepicker._getInst(a[0]);(a[0].id!==I.datepicker._mainDivId&&0===a.parents("#"+I.datepicker._mainDivId).length&&!a.hasClass(I.datepicker.markerClassName)&&!a.closest("."+I.datepicker._triggerClass).length&&I.datepicker._datepickerShowing&&(!I.datepicker._inDialog||!I.blockUI)||a.hasClass(I.datepicker.markerClassName)&&I.datepicker._curInst!==g)&&I.datepicker._hideDatepicker()}},_adjustDate:function(l,g,o){var u=I(l),e=this._getInst(u[0]);this._isDisabledDatepicker(u[0])||(this._adjustInstDate(e,g+("M"===o?this._get(e,"showCurrentAtPos"):0),o),this._updateDatepicker(e))},_gotoToday:function(e){var a,g=I(e),l=this._getInst(g[0]);this._get(l,"gotoCurrent")&&l.currentDay?(l.selectedDay=l.currentDay,l.drawMonth=l.selectedMonth=l.currentMonth,l.drawYear=l.selectedYear=l.currentYear):(a=new Date,l.selectedDay=a.getDate(),l.drawMonth=l.selectedMonth=a.getMonth(),l.drawYear=l.selectedYear=a.getFullYear()),this._notifyChange(l),this._adjustDate(g)},_selectMonthYear:function(l,g,o){var u=I(l),e=this._getInst(u[0]);e["selected"+("M"===o?"Month":"Year")]=e["draw"+("M"===o?"Month":"Year")]=parseInt(g.options[g.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(u)},_selectDay:function(l,g,u,N){var e,M=I(l);I(N).hasClass(this._unselectableClass)||this._isDisabledDatepicker(M[0])||(e=this._getInst(M[0]),e.selectedDay=e.currentDay=I("a",N).html(),e.selectedMonth=e.currentMonth=g,e.selectedYear=e.currentYear=u,this._selectDate(l,this._formatDate(e,e.currentDay,e.currentMonth,e.currentYear)))},_clearDate:function(e){var a=I(e);this._selectDate(a,"")},_selectDate:function(l,g){var o,u=I(l),e=this._getInst(u[0]);g=null!=g?g:this._formatDate(e),e.input&&e.input.val(g),this._updateAlternate(e),o=this._get(e,"onSelect"),o?o.apply(e.input?e.input[0]:null,[g,e]):e.input&&e.input.trigger("change"),e.inline?this._updateDatepicker(e):(this._hideDatepicker(),this._lastInput=e.input[0],"object"!=typeof e.input[0]&&e.input.focus(),this._lastInput=null)},_updateAlternate:function(l){var g,o,u,e=this._get(l,"altField");e&&(g=this._get(l,"altFormat")||this._get(l,"dateFormat"),o=this._getDate(l),u=this.formatDate(g,o,this._getFormatConfig(l)),I(e).each(function(){I(this).val(u)}))},noWeekends:function(g){var a=g.getDay();return[a>0&&6>a,""]},iso8601Week:function(l){var g,a=new Date(l.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),g=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((g-a)/86400000)/7)+1},parseDate:function(Q,Z,R){if(null==Q||null==Z){throw"Invalid arguments"}if(Z="object"==typeof Z?""+Z:Z+"",""===Z){return null}var V,ag,U,S,aa=0,X=(R?R.shortYearCutoff:null)||this._defaults.shortYearCutoff,P="string"!=typeof X?X:(new Date).getFullYear()%100+parseInt(X,10),ad=(R?R.dayNamesShort:null)||this._defaults.dayNamesShort,ae=(R?R.dayNames:null)||this._defaults.dayNames,T=(R?R.monthNamesShort:null)||this._defaults.monthNamesShort,ac=(R?R.monthNames:null)||this._defaults.monthNames,W=-1,ab=-1,O=-1,e=-1,af=!1,ah=function(g){var a=Q.length>V+1&&Q.charAt(V+1)===g;return a&&V++,a},M=function(u){var l=ah(u),o="@"===u?14:"!"===u?20:"y"===u&&l?4:"o"===u?3:2,ai=RegExp("^\\d{1,"+o+"}"),g=Z.substring(aa).match(ai);if(!g){throw"Missing number at position "+aa}return aa+=g[0].length,parseInt(g[0],10)},N=function(l,u,aj){var g=-1,ai=I.map(ah(l)?aj:u,function(n,a){return[[a,n]]}).sort(function(n,a){return -(n[1].length-a[1].length)});if(I.each(ai,function(o,a){var n=a[1];return Z.substr(aa,n.length).toLowerCase()===n.toLowerCase()?(g=a[0],aa+=n.length,!1):void 0}),-1!==g){return g+1}throw"Unknown name at position "+aa},Y=function(){if(Z.charAt(aa)!==Q.charAt(V)){throw"Unexpected literal at position "+aa}aa++};for(V=0;Q.length>V;V++){if(af){"'"!==Q.charAt(V)||ah("'")?Y():af=!1}else{switch(Q.charAt(V)){case"d":O=M("d");break;case"D":N("D",ad,ae);break;case"o":e=M("o");break;case"m":ab=M("m");break;case"M":ab=N("M",T,ac);break;case"y":W=M("y");break;case"@":S=new Date(M("@")),W=S.getFullYear(),ab=S.getMonth()+1,O=S.getDate();break;case"!":S=new Date((M("!")-this._ticksTo1970)/10000),W=S.getFullYear(),ab=S.getMonth()+1,O=S.getDate();break;case"'":ah("'")?Y():af=!0;break;default:Y()}}}if(Z.length>aa&&(U=Z.substr(aa),!/^\s+/.test(U))){throw"Extra/unparsed characters found in date: "+U}if(-1===W?W=(new Date).getFullYear():100>W&&(W+=(new Date).getFullYear()-(new Date).getFullYear()%100+(P>=W?0:-100)),e>-1){for(ab=1,O=e;;){if(ag=this._getDaysInMonth(W,ab-1),ag>=O){break}ab++,O-=ag}}if(S=this._daylightSavingAdjust(new Date(W,ab-1,O)),S.getFullYear()!==W||S.getMonth()+1!==ab||S.getDate()!==O){throw"Invalid date"}return S},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(R,W,P){if(!W){return""}var X,N=(P?P.dayNamesShort:null)||this._defaults.dayNamesShort,U=(P?P.dayNames:null)||this._defaults.dayNames,M=(P?P.monthNamesShort:null)||this._defaults.monthNamesShort,g=(P?P.monthNames:null)||this._defaults.monthNames,Q=function(e){var a=R.length>X+1&&R.charAt(X+1)===e;return a&&X++,a},O=function(o,l,a){var n=""+l;if(Q(o)){for(;a>n.length;){n="0"+n}}return n},V=function(o,l,a,n){return Q(o)?n[l]:a[l]},S="",T=!1;if(W){for(X=0;R.length>X;X++){if(T){"'"!==R.charAt(X)||Q("'")?S+=R.charAt(X):T=!1}else{switch(R.charAt(X)){case"d":S+=O("d",W.getDate(),2);break;case"D":S+=V("D",W.getDay(),N,U);break;case"o":S+=O("o",Math.round((new Date(W.getFullYear(),W.getMonth(),W.getDate()).getTime()-new Date(W.getFullYear(),0,0).getTime())/86400000),3);break;case"m":S+=O("m",W.getMonth()+1,2);break;case"M":S+=V("M",W.getMonth(),M,g);break;case"y":S+=Q("y")?W.getFullYear():(10>W.getYear()%100?"0":"")+W.getYear()%100;break;case"@":S+=W.getTime();break;case"!":S+=10000*W.getTime()+this._ticksTo1970;break;case"'":Q("'")?S+="'":T=!0;break;default:S+=R.charAt(X)}}}}return S},_possibleChars:function(o){var g,a="",l=!1,u=function(e){var n=o.length>g+1&&o.charAt(g+1)===e;return n&&g++,n};for(g=0;o.length>g;g++){if(l){"'"!==o.charAt(g)||u("'")?a+=o.charAt(g):l=!1}else{switch(o.charAt(g)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":u("'")?a+="'":l=!0;break;default:a+=o.charAt(g)}}}return a},_get:function(g,a){return void 0!==g.settings[a]?g.settings[a]:this._defaults[a]},_setDateFromField:function(O,u){if(O.input.val()!==O.lastVal){var l=this._get(O,"dateFormat"),M=O.lastVal=O.input?O.input.val():null,Q=this._getDefaultDate(O),g=Q,P=this._getFormatConfig(O);try{g=this.parseDate(l,M,P)||Q}catch(N){M=u?"":M}O.selectedDay=g.getDate(),O.drawMonth=O.selectedMonth=g.getMonth(),O.drawYear=O.selectedYear=g.getFullYear(),O.currentDay=M?g.getDate():0,O.currentMonth=M?g.getMonth():0,O.currentYear=M?g.getFullYear():0,this._adjustInstDate(O)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(l,g,u){var N=function(n){var a=new Date;return a.setDate(a.getDate()+n),a},e=function(Q){try{return I.datepicker.parseDate(I.datepicker._get(l,"dateFormat"),Q,I.datepicker._getFormatConfig(l))}catch(S){}for(var V=(Q.toLowerCase().match(/^c/)?I.datepicker._getDate(l):null)||new Date,P=V.getFullYear(),U=V.getMonth(),T=V.getDate(),R=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,O=R.exec(Q);O;){switch(O[2]||"d"){case"d":case"D":T+=parseInt(O[1],10);break;case"w":case"W":T+=7*parseInt(O[1],10);break;case"m":case"M":U+=parseInt(O[1],10),T=Math.min(T,I.datepicker._getDaysInMonth(P,U));break;case"y":case"Y":P+=parseInt(O[1],10),T=Math.min(T,I.datepicker._getDaysInMonth(P,U))}O=R.exec(Q)}return new Date(P,U,T)},M=null==g||""===g?u:"string"==typeof g?e(g):"number"==typeof g?isNaN(g)?u:N(g):new Date(g.getTime());return M=M&&"Invalid Date"==""+M?u:M,M&&(M.setHours(0),M.setMinutes(0),M.setSeconds(0),M.setMilliseconds(0)),this._daylightSavingAdjust(M)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(N,u,l){var M=!u,P=N.selectedMonth,g=N.selectedYear,O=this._restrictMinMax(N,this._determineDate(N,u,new Date));N.selectedDay=N.currentDay=O.getDate(),N.drawMonth=N.selectedMonth=N.currentMonth=O.getMonth(),N.drawYear=N.selectedYear=N.currentYear=O.getFullYear(),P===N.selectedMonth&&g===N.selectedYear||l||this._notifyChange(N),this._adjustInstDate(N),N.input&&N.input.val(M?"":this._formatDate(N))},_getDate:function(g){var a=!g.currentYear||g.input&&""===g.input.val()?null:this._daylightSavingAdjust(new Date(g.currentYear,g.currentMonth,g.currentDay));return a},_attachHandlers:function(e){var a=this._get(e,"stepMonths"),g="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var l={prev:function(){I.datepicker._adjustDate(g,-a,"M")},next:function(){I.datepicker._adjustDate(g,+a,"M")},hide:function(){I.datepicker._hideDatepicker()},today:function(){I.datepicker._gotoToday(g)},selectDay:function(){return I.datepicker._selectDay(g,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return I.datepicker._selectMonthYear(g,this,"M"),!1},selectYear:function(){return I.datepicker._selectMonthYear(g,this,"Y"),!1}};I(this).bind(this.getAttribute("data-event"),l[this.getAttribute("data-handler")])})},_generateHTML:function(aY){var aI,aU,aJ,aP,a2,aO,aK,aV,aR,aH,aZ,a0,aN,aX,aQ,aW,aG,aD,a1,a3,aE,aF,aS,ag,ax,ah,am,an,ay,aA,ak,ar,aC,at,av,aw,ad,ao,al,aT=new Date,ai=this._daylightSavingAdjust(new Date(aT.getFullYear(),aT.getMonth(),aT.getDate())),ab=this._get(aY,"isRTL"),aq=this._get(aY,"showButtonPanel"),az=this._get(aY,"hideIfNoPrevNext"),ap=this._get(aY,"navigationAsDateFormat"),ae=this._getNumberOfMonths(aY),af=this._get(aY,"showCurrentAtPos"),aL=this._get(aY,"stepMonths"),au=1!==ae[0]||1!==ae[1],ac=this._daylightSavingAdjust(aY.currentDay?new Date(aY.currentYear,aY.currentMonth,aY.currentDay):new Date(9999,9,9)),aj=this._getMinMaxDate(aY,"min"),aB=this._getMinMaxDate(aY,"max"),aa=aY.drawMonth-af,aM=aY.drawYear;if(0>aa&&(aa+=12,aM--),aB){for(aI=this._daylightSavingAdjust(new Date(aB.getFullYear(),aB.getMonth()-ae[0]*ae[1]+1,aB.getDate())),aI=aj&&aj>aI?aj:aI;this._daylightSavingAdjust(new Date(aM,aa,1))>aI;){aa--,0>aa&&(aa=11,aM--)}}for(aY.drawMonth=aa,aY.drawYear=aM,aU=this._get(aY,"prevText"),aU=ap?this.formatDate(aU,this._daylightSavingAdjust(new Date(aM,aa-aL,1)),this._getFormatConfig(aY)):aU,aJ=this._canAdjustMonth(aY,-1,aM,aa)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"e":"w")+"'>"+aU+"</span></a>":az?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"e":"w")+"'>"+aU+"</span></a>",aP=this._get(aY,"nextText"),aP=ap?this.formatDate(aP,this._daylightSavingAdjust(new Date(aM,aa+aL,1)),this._getFormatConfig(aY)):aP,a2=this._canAdjustMonth(aY,1,aM,aa)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"w":"e")+"'>"+aP+"</span></a>":az?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"w":"e")+"'>"+aP+"</span></a>",aO=this._get(aY,"currentText"),aK=this._get(aY,"gotoCurrent")&&aY.currentDay?ac:ai,aO=ap?this.formatDate(aO,aK,this._getFormatConfig(aY)):aO,aV=aY.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aY,"closeText")+"</button>",aR=aq?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ab?aV:"")+(this._isInRange(aY,aK)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+aO+"</button>":"")+(ab?"":aV)+"</div>":"",aH=parseInt(this._get(aY,"firstDay"),10),aH=isNaN(aH)?0:aH,aZ=this._get(aY,"showWeek"),a0=this._get(aY,"dayNames"),aN=this._get(aY,"dayNamesMin"),aX=this._get(aY,"monthNames"),aQ=this._get(aY,"monthNamesShort"),aW=this._get(aY,"beforeShowDay"),aG=this._get(aY,"showOtherMonths"),aD=this._get(aY,"selectOtherMonths"),a1=this._getDefaultDate(aY),a3="",aF=0;ae[0]>aF;aF++){for(aS="",this.maxRows=4,ag=0;ae[1]>ag;ag++){if(ax=this._daylightSavingAdjust(new Date(aM,aa,aY.selectedDay)),ah=" ui-corner-all",am="",au){if(am+="<div class='ui-datepicker-group",ae[1]>1){switch(ag){case 0:am+=" ui-datepicker-group-first",ah=" ui-corner-"+(ab?"right":"left");break;case ae[1]-1:am+=" ui-datepicker-group-last",ah=" ui-corner-"+(ab?"left":"right");break;default:am+=" ui-datepicker-group-middle",ah=""}}am+="'>"}for(am+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+ah+"'>"+(/all|left/.test(ah)&&0===aF?ab?a2:aJ:"")+(/all|right/.test(ah)&&0===aF?ab?aJ:a2:"")+this._generateMonthYearHeader(aY,aa,aM,aj,aB,aF>0||ag>0,aX,aQ)+"</div><table class='ui-datepicker-calendar'><thead><tr>",an=aZ?"<th class='ui-datepicker-week-col'>"+this._get(aY,"weekHeader")+"</th>":"",aE=0;7>aE;aE++){ay=(aE+aH)%7,an+="<th scope='col'"+((aE+aH+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+a0[ay]+"'>"+aN[ay]+"</span></th>"}for(am+=an+"</tr></thead><tbody>",aA=this._getDaysInMonth(aM,aa),aM===aY.selectedYear&&aa===aY.selectedMonth&&(aY.selectedDay=Math.min(aY.selectedDay,aA)),ak=(this._getFirstDayOfMonth(aM,aa)-aH+7)%7,ar=Math.ceil((ak+aA)/7),aC=au?this.maxRows>ar?this.maxRows:ar:ar,this.maxRows=aC,at=this._daylightSavingAdjust(new Date(aM,aa,1-ak)),av=0;aC>av;av++){for(am+="<tr>",aw=aZ?"<td class='ui-datepicker-week-col'>"+this._get(aY,"calculateWeek")(at)+"</td>":"",aE=0;7>aE;aE++){ad=aW?aW.apply(aY.input?aY.input[0]:null,[at]):[!0,""],ao=at.getMonth()!==aa,al=ao&&!aD||!ad[0]||aj&&aj>at||aB&&at>aB,aw+="<td class='"+((aE+aH+6)%7>=5?" ui-datepicker-week-end":"")+(ao?" ui-datepicker-other-month":"")+(at.getTime()===ax.getTime()&&aa===aY.selectedMonth&&aY._keyEvent||a1.getTime()===at.getTime()&&a1.getTime()===ax.getTime()?" "+this._dayOverClass:"")+(al?" "+this._unselectableClass+" ui-state-disabled":"")+(ao&&!aG?"":" "+ad[1]+(at.getTime()===ac.getTime()?" "+this._currentClass:"")+(at.getTime()===ai.getTime()?" ui-datepicker-today":""))+"'"+(ao&&!aG||!ad[2]?"":" title='"+ad[2].replace(/'/g,"&#39;")+"'")+(al?"":" data-handler='selectDay' data-event='click' data-month='"+at.getMonth()+"' data-year='"+at.getFullYear()+"'")+">"+(ao&&!aG?"&#xa0;":al?"<span class='ui-state-default'>"+at.getDate()+"</span>":"<a class='ui-state-default"+(at.getTime()===ai.getTime()?" ui-state-highlight":"")+(at.getTime()===ac.getTime()?" ui-state-active":"")+(ao?" ui-priority-secondary":"")+"' href='#'>"+at.getDate()+"</a>")+"</td>",at.setDate(at.getDate()+1),at=this._daylightSavingAdjust(at)}am+=aw+"</tr>"}aa++,aa>11&&(aa=0,aM++),am+="</tbody></table>"+(au?"</div>"+(ae[0]>0&&ag===ae[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),aS+=am}a3+=aS}return a3+=aR,aY._keyEvent=!1,a3},_generateMonthYearHeader:function(ab,P,X,Q,U,af,T,R){var Y,W,O,ac,ad,S,aa,V,Z=this._get(ab,"changeMonth"),N=this._get(ab,"changeYear"),M=this._get(ab,"showMonthAfterYear"),ae="<div class='ui-datepicker-title'>",ag="";if(af||!Z){ag+="<span class='ui-datepicker-month'>"+T[P]+"</span>"}else{for(Y=Q&&Q.getFullYear()===X,W=U&&U.getFullYear()===X,ag+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",O=0;12>O;O++){(!Y||O>=Q.getMonth())&&(!W||U.getMonth()>=O)&&(ag+="<option value='"+O+"'"+(O===P?" selected='selected'":"")+">"+R[O]+"</option>")}ag+="</select>"}if(M||(ae+=ag+(!af&&Z&&N?"":"&#xa0;")),!ab.yearshtml){if(ab.yearshtml="",af||!N){ae+="<span class='ui-datepicker-year'>"+X+"</span>"}else{for(ac=this._get(ab,"yearRange").split(":"),ad=(new Date).getFullYear(),S=function(g){var a=g.match(/c[+\-].*/)?X+parseInt(g.substring(1),10):g.match(/[+\-].*/)?ad+parseInt(g,10):parseInt(g,10);return isNaN(a)?ad:a},aa=S(ac[0]),V=Math.max(aa,S(ac[1]||"")),aa=Q?Math.max(aa,Q.getFullYear()):aa,V=U?Math.min(V,U.getFullYear()):V,ab.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";V>=aa;aa++){ab.yearshtml+="<option value='"+aa+"'"+(aa===X?" selected='selected'":"")+">"+aa+"</option>"}ab.yearshtml+="</select>",ae+=ab.yearshtml,ab.yearshtml=null}}return ae+=this._get(ab,"yearSuffix"),M&&(ae+=(!af&&Z&&N?"":"&#xa0;")+ag),ae+="</div>"},_adjustInstDate:function(N,u,l){var M=N.drawYear+("Y"===l?u:0),P=N.drawMonth+("M"===l?u:0),g=Math.min(N.selectedDay,this._getDaysInMonth(M,P))+("D"===l?u:0),O=this._restrictMinMax(N,this._daylightSavingAdjust(new Date(M,P,g)));N.selectedDay=O.getDate(),N.drawMonth=N.selectedMonth=O.getMonth(),N.drawYear=N.selectedYear=O.getFullYear(),("M"===l||"Y"===l)&&this._notifyChange(N)},_restrictMinMax:function(o,g){var a=this._getMinMaxDate(o,"min"),l=this._getMinMaxDate(o,"max"),u=a&&a>g?a:g;return l&&u>l?l:u},_notifyChange:function(g){var a=this._get(g,"onChangeMonthYear");a&&a.apply(g.input?g.input[0]:null,[g.selectedYear,g.selectedMonth+1,g])},_getNumberOfMonths:function(g){var a=this._get(g,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(g,a){return this._determineDate(g,this._get(g,a+"Date"),null)},_getDaysInMonth:function(g,a){return 32-this._daylightSavingAdjust(new Date(g,a,32)).getDate()},_getFirstDayOfMonth:function(g,a){return new Date(g,a,1).getDay()},_canAdjustMonth:function(M,o,l,u){var N=this._getNumberOfMonths(M),g=this._daylightSavingAdjust(new Date(l,u+(0>o?o:N[0]*N[1]),1));return 0>o&&g.setDate(this._getDaysInMonth(g.getFullYear(),g.getMonth())),this._isInRange(M,g)},_isInRange:function(O,Q){var M,R,u=this._getMinMaxDate(O,"min"),P=this._getMinMaxDate(O,"max"),l=null,g=null,N=this._get(O,"yearRange");return N&&(M=N.split(":"),R=(new Date).getFullYear(),l=parseInt(M[0],10),g=parseInt(M[1],10),M[0].match(/[+\-].*/)&&(l+=R),M[1].match(/[+\-].*/)&&(g+=R)),(!u||Q.getTime()>=u.getTime())&&(!P||Q.getTime()<=P.getTime())&&(!l||Q.getFullYear()>=l)&&(!g||g>=Q.getFullYear())},_getFormatConfig:function(g){var a=this._get(g,"shortYearCutoff");return a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10),{shortYearCutoff:a,dayNamesShort:this._get(g,"dayNamesShort"),dayNames:this._get(g,"dayNames"),monthNamesShort:this._get(g,"monthNamesShort"),monthNames:this._get(g,"monthNames")}},_formatDate:function(o,g,a,l){g||(o.currentDay=o.selectedDay,o.currentMonth=o.selectedMonth,o.currentYear=o.selectedYear);var u=g?"object"==typeof g?g:this._daylightSavingAdjust(new Date(l,a,g)):this._daylightSavingAdjust(new Date(o.currentYear,o.currentMonth,o.currentDay));return this.formatDate(this._get(o,"dateFormat"),u,this._getFormatConfig(o))}}),I.fn.datepicker=function(e){if(!this.length){return this}I.datepicker.initialized||(I(document).mousedown(I.datepicker._checkExternalClick),I.datepicker.initialized=!0),0===I("#"+I.datepicker._mainDivId).length&&I("body").append(I.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?I.datepicker["_"+e+"Datepicker"].apply(I.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof e?I.datepicker["_"+e+"Datepicker"].apply(I.datepicker,[this].concat(a)):I.datepicker._attachDatepicker(this,e)}):I.datepicker["_"+e+"Datepicker"].apply(I.datepicker,[this[0]].concat(a))},I.datepicker=new B,I.datepicker.initialized=!1,I.datepicker.uuid=(new Date).getTime(),I.datepicker.version="1.11.0",I.datepicker,I.widget("ui.dialog",{version:"1.11.0",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var a=I(this).css(e).offset().top;0>a&&I(this).css("top",e.top-a)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&I.fn.draggable&&this._makeDraggable(),this.options.resizable&&I.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?I(a):this.document.find(a||"body").eq(0)},_destroy:function(){var g,a=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),g=a.parent.children().eq(a.index),g.length&&g[0]!==this.element[0]?g.before(this.element):a.parent.append(this.element)},widget:function(){return this.uiDialog},disable:I.noop,enable:I.noop,close:function(e){var a,g=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length){try{a=this.document[0].activeElement,a&&"body"!==a.nodeName.toLowerCase()&&I(a).blur()}catch(l){}}this._hide(this.uiDialog,this.options.hide,function(){g._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(l,g){var o=!1,u=this.uiDialog.siblings(".ui-front:visible").map(function(){return +I(this).css("z-index")}).get(),e=Math.max.apply(null,u);return e>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",e+1),o=!0),o&&!g&&this._trigger("focus",l),o},open:function(){var a=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=I(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable(),a._trigger("focus")}),this._trigger("open"),void 0)},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(e){function a(){var l=this.document[0].activeElement,g=this.uiDialog[0]===l||I.contains(this.uiDialog[0],l);g||this._focusTabbable()}e.preventDefault(),a.call(this),this._delay(a)},_createWrapper:function(){this.uiDialog=I("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===I.ui.keyCode.ESCAPE){return e.preventDefault(),this.close(e),void 0}if(e.keyCode===I.ui.keyCode.TAB&&!e.isDefaultPrevented()){var a=this.uiDialog.find(":tabbable"),g=a.filter(":first"),l=a.filter(":last");e.target!==l[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==g[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){l.focus()}),e.preventDefault()):(this._delay(function(){g.focus()}),e.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=I("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){I(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=I("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(g){g.preventDefault(),this.close(g)}}),a=I("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(a),this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=I("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=I("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,a=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),I.isEmptyObject(a)||I.isArray(a)&&!a.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(I.each(a,function(l,o){var u,g;o=I.isFunction(o)?{click:o,text:l}:o,o=I.extend({type:"button"},o),u=o.click,o.click=function(){u.apply(e.element[0],arguments)},g={icons:o.icons,text:o.showText},delete o.icons,delete o.showText,I("<button></button>",o).button(g).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(l){return{position:l.position,offset:l.offset}}var a=this,g=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(l,o){I(this).addClass("ui-dialog-dragging"),a._blockFrames(),a._trigger("dragStart",l,e(o))},drag:function(n,l){a._trigger("drag",n,e(l))},stop:function(N,l){var M=l.offset.left-a.document.scrollLeft(),u=l.offset.top-a.document.scrollTop();g.position={my:"left top",at:"left"+(M>=0?"+":"")+M+" top"+(u>=0?"+":"")+u,of:a.window},I(this).removeClass("ui-dialog-dragging"),a._unblockFrames(),a._trigger("dragStop",N,e(l))}})},_makeResizable:function(){function l(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var g=this,u=this.options,N=u.resizable,e=this.uiDialog.css("position"),M="string"==typeof N?N:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:u.maxWidth,maxHeight:u.maxHeight,minWidth:u.minWidth,minHeight:this._minHeight(),handles:M,start:function(a,o){I(this).addClass("ui-dialog-resizing"),g._blockFrames(),g._trigger("resizeStart",a,l(o))},resize:function(n,a){g._trigger("resize",n,l(a))},stop:function(S,O){var R=g.uiDialog.offset(),Q=R.left-g.document.scrollLeft(),P=R.top-g.document.scrollTop();u.height=g.uiDialog.height(),u.width=g.uiDialog.width(),u.position={my:"left top",at:"left"+(Q>=0?"+":"")+Q+" top"+(P>=0?"+":"")+P,of:g.window},I(this).removeClass("ui-dialog-resizing"),g._unblockFrames(),g._trigger("resizeStop",S,l(O))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._untrackInstance(),this._trackingInstances().unshift(this),this._focusedElement=I(a.target)}})},_untrackInstance:function(){var e=this._trackingInstances(),a=I.inArray(this,e);-1!==a&&e.splice(a,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(e){var a=this,g=!1,l={};I.each(e,function(o,n){a._setOption(o,n),o in a.sizeRelatedOptions&&(g=!0),o in a.resizableRelatedOptions&&(l[o]=n)}),g&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",l)},_setOption:function(o,g){var a,l,u=this.uiDialog;"dialogClass"===o&&u.removeClass(this.options.dialogClass).addClass(g),"disabled"!==o&&(this._super(o,g),"appendTo"===o&&this.uiDialog.appendTo(this._appendTo()),"buttons"===o&&this._createButtons(),"closeText"===o&&this.uiDialogTitlebarClose.button({label:""+g}),"draggable"===o&&(a=u.is(":data(ui-draggable)"),a&&!g&&u.draggable("destroy"),!a&&g&&this._makeDraggable()),"position"===o&&this._position(),"resizable"===o&&(l=u.is(":data(ui-resizable)"),l&&!g&&u.resizable("destroy"),l&&"string"==typeof g&&u.resizable("option","handles",g),l||g===!1||this._makeResizable()),"title"===o&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var n,g,a,l=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),l.minWidth>l.width&&(l.width=l.minWidth),n=this.uiDialog.css({height:"auto",width:l.width}).outerHeight(),g=Math.max(0,l.minHeight-n),a="number"==typeof l.maxHeight?Math.max(0,l.maxHeight-n):"none","auto"===l.height?this.element.css({minHeight:g,maxHeight:a,height:"auto"}):this.element.height(Math.max(0,l.height-n)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=I(this);return I("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return I(a.target).closest(".ui-dialog").length?!0:!!I(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(g){a||this._allowInteraction(g)||(g.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=I("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),I.widget("ui.progressbar",{version:"1.11.0",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=I("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return void 0===a?this.options.value:(this.options.value=this._constrainedValue(a),this._refreshValue(),void 0)},_constrainedValue:function(a){return void 0===a&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(g){var a=g.value;delete g.value,this._super(g),this.options.value=this._constrainedValue(a),this._refreshValue()},_setOption:function(g,a){"max"===g&&(a=Math.max(this.min,a)),"disabled"===g&&this.element.toggleClass("ui-state-disabled",!!a).attr("aria-disabled",a),this._super(g,a)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,a=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(a.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=I("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),I.widget("ui.selectmenu",{version:"1.11.0",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this,a=this.element.attr("tabindex");this.label=I("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(g){this.button.focus(),g.preventDefault()}}),this.element.hide(),this.button=I("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:a||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),I("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=I("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._setOption("width",this.options.width),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var a=this;this.menu=I("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=I("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(l,g){l.preventDefault(),a._select(g.item.data("ui-selectmenu-item"),l)},focus:function(n,g){var l=g.item.data("ui-selectmenu-item");null!=a.focusIndex&&l.index!==a.focusIndex&&(a._trigger("focus",n,{item:l}),a.isOpen||a._select(l,n)),a.focusIndex=l.index,a.button.attr("aria-activedescendant",a.menuItems.eq(l.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return !1},this.menuInstance._isDivider=function(){return !1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this._setOption("width",this.options.width)},_refreshMenu:function(){this.menu.empty();var g,a=this.element.find("option");a.length&&(this._parseOptions(a),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),g=this._getSelectedItem(),this.menuInstance.focus(null,g),this._setAria(g.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(I.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,a){var g=this,l="";I.each(a,function(o,n){n.optgroup!==l&&(I("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(n.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:n.optgroup}).appendTo(e),l=n.optgroup),g._renderItemData(e,n)})},_renderItemData:function(g,a){return this._renderItem(g,a).data("ui-selectmenu-item",a)},_renderItem:function(e,a){var g=I("<li>");return a.disabled&&g.addClass("ui-state-disabled"),this._setText(g,a.label),g.appendTo(e)},_setText:function(g,a){a?g.text(a):g.html("&#160;")},_move:function(o,g){var a,l,u=".ui-menu-item";this.isOpen?a=this.menuItems.eq(this.focusIndex):(a=this.menuItems.eq(this.element[0].selectedIndex),u+=":not(.ui-state-disabled)"),l="first"===o||"last"===o?a["first"===o?"prevAll":"nextAll"](u).eq(-1):a[o+"All"](u).eq(0),l.length&&this.menuInstance.focus(g,l)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_documentClick:{mousedown:function(a){this.isOpen&&(I(a.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(a))}},_buttonEvents:{click:"_toggle",keydown:function(e){var a=!0;switch(e.keyCode){case I.ui.keyCode.TAB:case I.ui.keyCode.ESCAPE:this.close(e),a=!1;break;case I.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case I.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case I.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case I.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case I.ui.keyCode.LEFT:this._move("prev",e);break;case I.ui.keyCode.RIGHT:this._move("next",e);break;case I.ui.keyCode.HOME:case I.ui.keyCode.PAGE_UP:this._move("first",e);break;case I.ui.keyCode.END:case I.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),a=!1}a&&e.preventDefault()}},_selectFocusedItem:function(g){var a=this.menuItems.eq(this.focusIndex);a.hasClass("ui-state-disabled")||this._select(a.data("ui-selectmenu-item"),g)},_select:function(l,g){var a=this.element[0].selectedIndex;this.element[0].selectedIndex=l.index,this._setText(this.buttonText,l.label),this._setAria(l),this._trigger("select",g,{item:l}),l.index!==a&&this._trigger("change",g,{item:l}),this.close(g)},_setAria:function(g){var a=this.menuItems.eq(g.index).attr("id");this.button.attr({"aria-labelledby":a,"aria-activedescendant":a}),this.menu.attr("aria-activedescendant",a)},_setOption:function(g,a){"icons"===g&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(a.button),this._super(g,a),"appendTo"===g&&this.menuWrap.appendTo(this._appendTo()),"disabled"===g&&(this.menuInstance.option("disabled",a),this.button.toggleClass("ui-state-disabled",a).attr("aria-disabled",a),this.element.prop("disabled",a),a?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===g&&(a||(a=this.element.outerWidth()),this.button.outerWidth(a))},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?I(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var a=[];e.each(function(l,o){var u=I(o),g=u.parent("optgroup");a.push({element:u,index:l,value:u.attr("value"),label:u.text(),optgroup:g.attr("label")||"",disabled:g.prop("disabled")||u.prop("disabled")})}),this.items=a},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),I.widget("ui.slider",I.ui.mouse,{version:"1.11.0",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var l,g,u=this.options,N=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",M=[];for(g=u.values&&u.values.length||1,N.length>g&&(N.slice(g).remove(),N=N.slice(0,g)),l=N.length;g>l;l++){M.push(e)}this.handles=N.add(I(M.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(a){I(this).data("ui-slider-handle-index",a)})},_createRange:function(){var e=this.options,a="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:I.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=I("<div></div>").appendTo(this.element),a="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(a+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(T){var O,U,M,R,g,e,P,N,S=this,Q=this.options;return Q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),O={x:T.pageX,y:T.pageY},U=this._normValueFromMouse(O),M=this._valueMax()-this._valueMin()+1,this.handles.each(function(l){var a=Math.abs(U-S.values(l));(M>a||M===a&&(l===S._lastChangedValue||S.values(l)===Q.min))&&(M=a,R=I(this),g=l)}),e=this._start(T,g),e===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,R.addClass("ui-state-active").focus(),P=R.offset(),N=!I(T.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=N?{left:0,top:0}:{left:T.pageX-P.left-R.width()/2,top:T.pageY-P.top-R.height()/2-(parseInt(R.css("borderTopWidth"),10)||0)-(parseInt(R.css("borderBottomWidth"),10)||0)+(parseInt(R.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(T,g,U),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(l){var g={x:l.pageX,y:l.pageY},a=this._normValueFromMouse(g);return this._slide(l,this._handleIndex,a),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(M){var o,l,u,N,g;return"horizontal"===this.orientation?(o=this.elementSize.width,l=M.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(o=this.elementSize.height,l=M.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),u=l/o,u>1&&(u=1),0>u&&(u=0),"vertical"===this.orientation&&(u=1-u),N=this._valueMax()-this._valueMin(),g=this._valueMin()+u*N,this._trimAlignValue(g)},_start:function(l,g){var a={handle:this.handles[g],value:this.value()};return this.options.values&&this.options.values.length&&(a.value=this.values(g),a.values=this.values()),this._trigger("start",l,a)},_slide:function(M,o,l){var u,N,g;this.options.values&&this.options.values.length?(u=this.values(o?0:1),2===this.options.values.length&&this.options.range===!0&&(0===o&&l>u||1===o&&u>l)&&(l=u),l!==this.values(o)&&(N=this.values(),N[o]=l,g=this._trigger("slide",M,{handle:this.handles[o],value:l,values:N}),u=this.values(o?0:1),g!==!1&&this.values(o,l))):l!==this.value()&&(g=this._trigger("slide",M,{handle:this.handles[o],value:l}),g!==!1&&this.value(l))},_stop:function(l,g){var a={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(g),a.values=this.values()),this._trigger("stop",l,a)},_change:function(l,g){if(!this._keySliding&&!this._mouseSliding){var a={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(g),a.values=this.values()),this._lastChangedValue=g,this._trigger("change",l,a)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(l,g){var o,u,e;if(arguments.length>1){return this.options.values[l]=this._trimAlignValue(g),this._refreshValue(),this._change(null,l),void 0}if(!arguments.length){return this._values()}if(!I.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(l):this.value()}for(o=this.options.values,u=arguments[0],e=0;o.length>e;e+=1){o[e]=this._trimAlignValue(u[e]),this._change(null,e)}this._refreshValue()},_setOption:function(e,a){var g,l=0;switch("range"===e&&this.options.range===!0&&("min"===a?(this.options.value=this._values(0),this.options.values=null):"max"===a&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),I.isArray(this.options.values)&&(l=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!a),this._super(e,a),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),g=0;l>g;g+=1){this._change(null,g)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(n){var g,a,l;if(arguments.length){return g=this.options.values[n],g=this._trimAlignValue(g)}if(this.options.values&&this.options.values.length){for(a=this.options.values.slice(),l=0;a.length>l;l+=1){a[l]=this._trimAlignValue(a[l])}return a}return[]},_trimAlignValue:function(n){if(this._valueMin()>=n){return this._valueMin()}if(n>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,a=(n-this._valueMin())%g,l=n-a;return 2*Math.abs(a)>=g&&(l+=a>0?g:-g),parseFloat(l.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var S,O,T,M,Q,g=this.options.range,e=this.options,P=this,N=this._animateOff?!1:e.animate,R={};this.options.values&&this.options.values.length?this.handles.each(function(a){O=100*((P.values(a)-P._valueMin())/(P._valueMax()-P._valueMin())),R["horizontal"===P.orientation?"left":"bottom"]=O+"%",I(this).stop(1,1)[N?"animate":"css"](R,e.animate),P.options.range===!0&&("horizontal"===P.orientation?(0===a&&P.range.stop(1,1)[N?"animate":"css"]({left:O+"%"},e.animate),1===a&&P.range[N?"animate":"css"]({width:O-S+"%"},{queue:!1,duration:e.animate})):(0===a&&P.range.stop(1,1)[N?"animate":"css"]({bottom:O+"%"},e.animate),1===a&&P.range[N?"animate":"css"]({height:O-S+"%"},{queue:!1,duration:e.animate}))),S=O}):(T=this.value(),M=this._valueMin(),Q=this._valueMax(),O=Q!==M?100*((T-M)/(Q-M)):0,R["horizontal"===this.orientation?"left":"bottom"]=O+"%",this.handle.stop(1,1)[N?"animate":"css"](R,e.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[N?"animate":"css"]({width:O+"%"},e.animate),"max"===g&&"horizontal"===this.orientation&&this.range[N?"animate":"css"]({width:100-O+"%"},{queue:!1,duration:e.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[N?"animate":"css"]({height:O+"%"},e.animate),"max"===g&&"vertical"===this.orientation&&this.range[N?"animate":"css"]({height:100-O+"%"},{queue:!1,duration:e.animate}))},_handleEvents:{keydown:function(l){var g,u,N,e,M=I(l.target).data("ui-slider-handle-index");switch(l.keyCode){case I.ui.keyCode.HOME:case I.ui.keyCode.END:case I.ui.keyCode.PAGE_UP:case I.ui.keyCode.PAGE_DOWN:case I.ui.keyCode.UP:case I.ui.keyCode.RIGHT:case I.ui.keyCode.DOWN:case I.ui.keyCode.LEFT:if(l.preventDefault(),!this._keySliding&&(this._keySliding=!0,I(l.target).addClass("ui-state-active"),g=this._start(l,M),g===!1)){return}}switch(e=this.options.step,u=N=this.options.values&&this.options.values.length?this.values(M):this.value(),l.keyCode){case I.ui.keyCode.HOME:N=this._valueMin();break;case I.ui.keyCode.END:N=this._valueMax();break;case I.ui.keyCode.PAGE_UP:N=this._trimAlignValue(u+(this._valueMax()-this._valueMin())/this.numPages);break;case I.ui.keyCode.PAGE_DOWN:N=this._trimAlignValue(u-(this._valueMax()-this._valueMin())/this.numPages);break;case I.ui.keyCode.UP:case I.ui.keyCode.RIGHT:if(u===this._valueMax()){return}N=this._trimAlignValue(u+e);break;case I.ui.keyCode.DOWN:case I.ui.keyCode.LEFT:if(u===this._valueMin()){return}N=this._trimAlignValue(u-e)}this._slide(l,M,N)},keyup:function(e){var a=I(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,a),this._change(e,a),I(e.target).removeClass("ui-state-active"))}}}),I.widget("ui.spinner",{version:"1.11.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},a=this.element;return I.each(["min","max","step"],function(l,g){var o=a.attr(g);void 0!==o&&o.length&&(e[g]=o)}),e},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a),void 0)},mousewheel:function(g,a){if(a){if(!this.spinning&&!this._start(g)){return !1}this._spin((a>0?1:-1)*this.options.step,g),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(g)},100),g.preventDefault()}},"mousedown .ui-spinner-button":function(e){function a(){var l=this.element[0]===this.document[0].activeElement;l||(this.element.focus(),this.previous=g,this._delay(function(){this.previous=g}))}var g;g=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),a.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,a.call(this)}),this._start(e)!==!1&&this._repeat(null,I(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){return I(a.currentTarget).hasClass("ui-state-active")?this._start(a)===!1?!1:(this._repeat(null,I(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(0.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(e){var a=this.options,g=I.ui.keyCode;switch(e.keyCode){case g.UP:return this._repeat(null,1,e),!0;case g.DOWN:return this._repeat(null,-1,e),!0;case g.PAGE_UP:return this._repeat(null,a.page,e),!0;case g.PAGE_DOWN:return this._repeat(null,-a.page,e),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(l,g,a){l=l||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,g,a)},l),this._spin(g*this.options.step,a)},_spin:function(l,g){var a=this.value()||0;this.counter||(this.counter=1),a=this._adjustValue(a+l*this._increment(this.counter)),this.spinning&&this._trigger("spin",g,{value:a})===!1||(this._value(a),this.counter++)},_increment:function(e){var a=this.options.incremental;return a?I.isFunction(a)?a(e):Math.floor(e*e*e/50000-e*e/500+17*e/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(l){var g=""+l,a=g.indexOf(".");return -1===a?0:g.length-a-1},_adjustValue:function(n){var g,a,l=this.options;return g=null!==l.min?l.min:0,a=n-g,a=Math.round(a/l.step)*l.step,n=g+a,n=parseFloat(n.toFixed(this._precision())),null!==l.max&&n>l.max?l.max:null!==l.min&&l.min>n?l.min:n},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(l,g){if("culture"===l||"numberFormat"===l){var a=this._parse(this.element.val());return this.options[l]=g,this.element.val(this._format(a)),void 0}("max"===l||"min"===l||"step"===l)&&"string"==typeof g&&(g=this._parse(g)),"icons"===l&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(g.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(g.down)),this._super(l,g),"disabled"===l&&(this.widget().toggleClass("ui-state-disabled",!!g),this.element.prop("disabled",!!g),this.buttons.button(g?"disable":"enable"))},_setOptions:y(function(a){this._super(a)}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(l,g){var a;""!==l&&(a=this._parse(l),null!==a&&(g||(a=this._adjustValue(a)),l=this._format(a))),this.element.val(l),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:y(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:y(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:y(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:y(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?(y(this._value).call(this,a),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),I.widget("ui.tabs",{version:"1.11.0",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(g){var e,l;g=g.cloneNode(!1),e=g.href.replace(a,""),l=location.href.replace(a,"");try{e=decodeURIComponent(e)}catch(o){}try{l=decodeURIComponent(l)}catch(o){}return g.hash.length>1&&e===l}}(),_create:function(){var e=this,a=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",a.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(g){I(this).is(".ui-state-disabled")&&g.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){I(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),a.active=this._initialActive(),I.isArray(a.disabled)&&(a.disabled=I.unique(a.disabled.concat(I.map(this.tabs.filter(".ui-state-disabled"),function(g){return e.tabs.index(g)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(a.active):I(),this._refresh(),this.active.length&&this.load(a.active)},_initialActive:function(){var e=this.options.active,a=this.options.collapsible,g=location.hash.substring(1);return null===e&&(g&&this.tabs.each(function(l,o){return I(o).attr("aria-controls")===g?(e=l,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=a?!1:0)),!a&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):I()}},_tabKeydown:function(e){var a=I(this.document[0].activeElement).closest("li"),g=this.tabs.index(a),l=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case I.ui.keyCode.RIGHT:case I.ui.keyCode.DOWN:g++;break;case I.ui.keyCode.UP:case I.ui.keyCode.LEFT:l=!1,g--;break;case I.ui.keyCode.END:g=this.anchors.length-1;break;case I.ui.keyCode.HOME:g=0;break;case I.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(g),void 0;case I.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(g===this.options.active?!1:g),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),g=this._focusNextTab(g,l),e.ctrlKey||(a.attr("aria-selected","false"),this.tabs.eq(g).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",g)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===I.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===I.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===I.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,a){function g(){return e>l&&(e=0),0>e&&(e=l),e}for(var l=this.tabs.length-1;-1!==I.inArray(g(),this.options.disabled);){e=a?e+1:e-1}return e},_focusNextTab:function(g,a){return g=this._findNextTab(g,a),this.tabs.eq(g).focus(),g},_setOption:function(g,a){return"active"===g?(this._activate(a),void 0):"disabled"===g?(this._setupDisabled(a),void 0):(this._super(g,a),"collapsible"===g&&(this.element.toggleClass("ui-tabs-collapsible",a),a||this.options.active!==!1||this._activate(0)),"event"===g&&this._setupEvents(a),"heightStyle"===g&&this._setupHeightStyle(a),void 0)},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,a=this.tablist.children(":has(a[href])");e.disabled=I.map(a.filter(".ui-state-disabled"),function(g){return a.index(g)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!I.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=I()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=I()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return I("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=I(),this.anchors.each(function(u,N){var Q,g,P,O=I(N).uniqueId().attr("id"),M=I(N).closest("li"),e=M.attr("aria-controls");a._isLocal(N)?(Q=N.hash,P=Q.substring(1),g=a.element.find(a._sanitizeSelector(Q))):(P=M.attr("aria-controls")||I({}).uniqueId()[0].id,Q="#"+P,g=a.element.find(Q),g.length||(g=a._createPanel(P),g.insertAfter(a.panels[u-1]||a.tablist)),g.attr("aria-live","polite")),g.length&&(a.panels=a.panels.add(g)),e&&M.data("ui-tabs-aria-controls",e),M.attr({"aria-controls":P,"aria-labelledby":O}),g.attr("aria-labelledby",O)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return I("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){I.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var a,g=0;a=this.tabs[g];g++){e===!0||-1!==I.inArray(g,e)?I(a).addClass("ui-state-disabled").attr("aria-disabled","true"):I(a).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=e},_setupEvents:function(e){var a={};e&&I.each(e.split(" "),function(l,g){a[g]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(g){g.preventDefault()}}),this._on(this.anchors,a),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var a,g=this.element.parent();"fill"===e?(a=g.height(),a-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var l=I(this),n=l.css("position");"absolute"!==n&&"fixed"!==n&&(a-=l.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){a-=I(this).outerHeight(!0)}),this.panels.each(function(){I(this).height(Math.max(0,a-I(this).innerHeight()+I(this).height()))}).css("overflow","auto")):"auto"===e&&(a=0,this.panels.each(function(){a=Math.max(a,I(this).height("").height())}).height(a))},_eventHandler:function(S){var O=this.options,T=this.active,M=I(S.currentTarget),Q=M.closest("li"),g=Q[0]===T[0],e=g&&O.collapsible,P=e?I():this._getPanelForTab(Q),N=T.length?this._getPanelForTab(T):I(),R={oldTab:T,oldPanel:N,newTab:e?I():Q,newPanel:P};S.preventDefault(),Q.hasClass("ui-state-disabled")||Q.hasClass("ui-tabs-loading")||this.running||g&&!O.collapsible||this._trigger("beforeActivate",S,R)===!1||(O.active=e?!1:this.tabs.index(Q),this.active=g?I():Q,this.xhr&&this.xhr.abort(),N.length||P.length||I.error("jQuery UI Tabs: Mismatching fragment identifier."),P.length&&this.load(this.tabs.index(Q),S),this._toggle(S,R))},_toggle:function(l,g){function u(){e.running=!1,e._trigger("activate",l,g)}function O(){g.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),N.length&&e.options.show?e._show(N,e.options.show,u):(N.show(),u())}var e=this,N=g.newPanel,M=g.oldPanel;this.running=!0,M.length&&this.options.hide?this._hide(M,this.options.hide,function(){g.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),O()}):(g.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),M.hide(),O()),M.attr("aria-hidden","true"),g.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),N.length&&M.length?g.oldTab.attr("tabIndex",-1):N.length&&this.tabs.filter(function(){return 0===I(this).attr("tabIndex")}).attr("tabIndex",-1),N.attr("aria-hidden","false"),g.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var a,g=this._findActive(e);g[0]!==this.active[0]&&(g.length||(g=this.active),a=g.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:I.noop}))},_findActive:function(a){return a===!1?I():this.tabs.eq(a)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){I.data(this,"ui-tabs-destroy")?I(this).remove():I(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=I(this),a=e.data("ui-tabs-aria-controls");a?e.attr("aria-controls",a).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var a=this.options.disabled;a!==!1&&(void 0===e?a=!1:(e=this._getIndex(e),a=I.isArray(a)?I.map(a,function(g){return g!==e?g:null}):I.map(this.tabs,function(l,g){return g!==e?g:null})),this._setupDisabled(a))},disable:function(e){var a=this.options.disabled;if(a!==!0){if(void 0===e){a=!0}else{if(e=this._getIndex(e),-1!==I.inArray(e,a)){return}a=I.isArray(a)?I.merge([e],a).sort():[e]}this._setupDisabled(a)}},load:function(l,g){l=this._getIndex(l);var u=this,O=this.tabs.eq(l),e=O.find(".ui-tabs-anchor"),N=this._getPanelForTab(O),M={tab:O,panel:N};this._isLocal(e[0])||(this.xhr=I.ajax(this._ajaxSettings(e,g,M)),this.xhr&&"canceled"!==this.xhr.statusText&&(O.addClass("ui-tabs-loading"),N.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){N.html(a),u._trigger("load",g,M)},1)}).complete(function(n,a){setTimeout(function(){"abort"===a&&u.panels.stop(!1,!0),O.removeClass("ui-tabs-loading"),N.removeAttr("aria-busy"),n===u.xhr&&delete u.xhr},1)})))},_ajaxSettings:function(e,a,g){var l=this;return{url:e.attr("href"),beforeSend:function(o,n){return l._trigger("beforeLoad",a,I.extend({jqXHR:o,ajaxSettings:n},g))}}},_getPanelForTab:function(e){var a=I(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}}),I.widget("ui.tooltip",{version:"1.11.0",options:{content:function(){var a=I(this).attr("title")||"";return I("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,a){var g=(e.attr("aria-describedby")||"").split(/\s+/);g.push(a),e.data("ui-tooltip-id",a).attr("aria-describedby",I.trim(g.join(" ")))},_removeDescribedBy:function(e){var a=e.data("ui-tooltip-id"),g=(e.attr("aria-describedby")||"").split(/\s+/),l=I.inArray(a,g);-1!==l&&g.splice(l,1),e.removeData("ui-tooltip-id"),g=I.trim(g.join(" ")),g?e.attr("aria-describedby",g):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=I("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,a){var g=this;return"disabled"===e?(this[a?"_disable":"_enable"](),this.options[e]=a,void 0):(this._super(e,a),"content"===e&&I.each(this.tooltips,function(n,l){g._updateContent(l)}),void 0)},_disable:function(){var a=this;I.each(this.tooltips,function(e,g){var l=I.Event("blur");l.target=l.currentTarget=g[0],a.close(l,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=I(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var a=I(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(e){var a=this,g=I(e?e.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&g.parents().each(function(){var l,n=I(this);n.data("ui-tooltip-open")&&(l=I.Event("blur"),l.target=l.currentTarget=this,a.close(l,!0)),n.attr("title")&&(n.uniqueId(),a.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(g,e))},_updateContent:function(M,o){var l,u=this.options.content,N=this,g=o?o.type:null;return"string"==typeof u?this._open(o,M,u):(l=u.call(M[0],function(a){M.data("ui-tooltip-open")&&N._delay(function(){o&&(o.type=g),this._open(o,M,a)})}),l&&this._open(o,M,l),void 0)},_open:function(Q,N,R){function u(a){M.of=a,P.is(":hidden")||P.position(M)}var P,g,e,O,M=I.extend({},this.options.position);if(R){if(P=this._find(N),P.length){return P.find(".ui-tooltip-content").html(R),void 0}N.is("[title]")&&(Q&&"mouseover"===Q.type?N.attr("title",""):N.removeAttr("title")),P=this._tooltip(N),this._addDescribedBy(N,P.attr("id")),P.find(".ui-tooltip-content").html(R),this.liveRegion.children().hide(),R.clone?(O=R.clone(),O.removeAttr("id").find("[id]").removeAttr("id")):O=R,I("<div>").html(O).appendTo(this.liveRegion),this.options.track&&Q&&/^mouse/.test(Q.type)?(this._on(this.document,{mousemove:u}),u(Q)):P.position(I.extend({of:N},this.options.position)),P.hide(),this._show(P,this.options.show),this.options.show&&this.options.show.delay&&(e=this.delayedShow=setInterval(function(){P.is(":visible")&&(u(M.of),clearInterval(e))},I.fx.interval)),this._trigger("open",Q,{tooltip:P}),g={keyup:function(a){if(a.keyCode===I.ui.keyCode.ESCAPE){var l=I.Event(a);l.currentTarget=N[0],this.close(l,!0)}}},N[0]!==this.element[0]&&(g.remove=function(){this._removeTooltip(P)}),Q&&"mouseover"!==Q.type||(g.mouseleave="close"),Q&&"focusin"!==Q.type||(g.focusout="close"),this._on(!0,N,g)}},close:function(e){var a=this,g=I(e?e.currentTarget:this.element),l=this._find(g);this.closing||(clearInterval(this.delayedShow),g.data("ui-tooltip-title")&&!g.attr("title")&&g.attr("title",g.data("ui-tooltip-title")),this._removeDescribedBy(g),l.stop(!0),this._hide(l,this.options.hide,function(){a._removeTooltip(I(this))}),g.removeData("ui-tooltip-open"),this._off(g,"mouseleave focusout keyup"),g[0]!==this.element[0]&&this._off(g,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&I.each(this.parents,function(n,o){I(o.element).attr("title",o.title),delete a.parents[n]}),this.closing=!0,this._trigger("close",e,{tooltip:l}),this.closing=!1)},_tooltip:function(e){var a=I("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),g=a.uniqueId().attr("id");return I("<div>").addClass("ui-tooltip-content").appendTo(a),a.appendTo(this.document[0].body),this.tooltips[g]=e,a},_find:function(e){var a=e.data("ui-tooltip-id");return a?I("#"+a):I()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;I.each(this.tooltips,function(e,g){var l=I.Event("blur");l.target=l.currentTarget=g[0],a.close(l,!0),I("#"+e).remove(),g.data("ui-tooltip-title")&&(g.attr("title")||g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}});var b="ui-effects-";I.effects={effect:{}},function(T,Y){function Q(o,l,a){var n=U[l.type]||{};return null==o?a||!l.def?null:l.def:(o=n.floor?~~o:parseFloat(o),isNaN(o)?l.def:n.mod?(o+n.mod)%n.mod:0>o?0:o>n.max?n.max:o)}function Z(a){var e=P(),l=e._rgba=[];return a=a.toLowerCase(),S(R,function(ac,u){var ad,ab=u.re.exec(a),aa=ab&&u.parse(ab),n=u.space||"rgba";return aa?(ad=e[n](aa),e[X[n].cache]=ad[X[n].cache],l=e._rgba=ad._rgba,!1):Y}),l.length?("0,0,0,0"===l.join()&&T.extend(l,W.transparent),e):W[a]}function O(n,l,a){return a=(a+1)%1,1>6*a?n+6*(l-n)*a:1>2*a?l:2>3*a?n+6*(l-n)*(2/3-a):n}var W,N="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",g=/^([\-+])=\s*(\d+\.?\d*)/,R=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],P=T.Color=function(e,a,l,o){return new T.Color.fn.parse(e,a,l,o)},X={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},U={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},V=P.support={},M=T("<p>")[0],S=T.each;M.style.cssText="background-color:rgba(1,1,1,.5)",V.rgba=M.style.backgroundColor.indexOf("rgba")>-1,S(X,function(l,a){a.cache="_"+l,a.props.alpha={idx:3,type:"percent",def:1}}),P.fn=T.extend(P.prototype,{parse:function(ac,aa,e,a){if(ac===Y){return this._rgba=[null,null,null,null],this}(ac.jquery||ac.nodeType)&&(ac=T(ac).css(aa),aa=Y);var u=this,ab=T.type(ac),l=this._rgba=[];return aa!==Y&&(ac=[ac,aa,e,a],ab="array"),"string"===ab?this.parse(Z(ac)||W._default):"array"===ab?(S(X.rgba.props,function(o,n){l[n.idx]=Q(ac[n.idx],n)}),this):"object"===ab?(ac instanceof P?S(X,function(o,n){ac[n.cache]&&(u[n.cache]=ac[n.cache].slice())}):S(X,function(o,ad){var n=ad.cache;S(ad.props,function(af,ae){if(!u[n]&&ad.to){if("alpha"===af||null==ac[af]){return}u[n]=ad.to(u._rgba)}u[n][ae.idx]=Q(ac[af],ae,!0)}),u[n]&&0>T.inArray(null,u[n].slice(0,3))&&(u[n][3]=1,ad.from&&(u._rgba=ad.from(u[n])))}),this):Y},is:function(o){var a=P(o),l=!0,u=this;return S(X,function(ab,n){var ac,aa=a[n.cache];return aa&&(ac=u[n.cache]||n.to&&n.to(u._rgba)||[],S(n.props,function(ae,ad){return null!=aa[ad.idx]?l=aa[ad.idx]===ac[ad.idx]:Y})),l}),l},_space:function(){var l=[],a=this;return S(X,function(e,n){a[n.cache]&&l.push(e)}),l.pop()},transition:function(ad,u){var ab=P(ad),af=ab._space(),l=X[af],ae=0===this.alpha()?P("transparent"):this,ac=ae[l.cache]||l.to(ae._rgba),aa=ac.slice();return ab=ab[l.cache],S(l.props,function(aj,al){var ah=al.idx,ak=ac[ah],ag=ab[ah],ai=U[al.type]||{};null!==ag&&(null===ak?aa[ah]=ag:(ai.mod&&(ag-ak>ai.mod/2?ak+=ai.mod:ak-ag>ai.mod/2&&(ak-=ai.mod)),aa[ah]=Q((ag-ak)*u+ak,al)))}),this[af](aa)},blend:function(e){if(1===this._rgba[3]){return this}var a=this._rgba.slice(),l=a.pop(),o=P(e)._rgba;return P(T.map(a,function(u,n){return(1-l)*o[n]+l*u}))},toRgbaString:function(){var e="rgba(",a=T.map(this._rgba,function(n,l){return null==n?l>2?1:0:n});return 1===a[3]&&(a.pop(),e="rgb("),e+a.join()+")"},toHslaString:function(){var e="hsla(",a=T.map(this.hsla(),function(n,l){return null==n&&(n=l>2?1:0),l&&3>l&&(n=Math.round(100*n)+"%"),n});return 1===a[3]&&(a.pop(),e="hsl("),e+a.join()+")"},toHexString:function(e){var a=this._rgba.slice(),l=a.pop();return e&&a.push(~~(255*l)),"#"+T.map(a,function(n){return n=(n||0).toString(16),1===n.length?"0"+n:n}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),P.fn.parse.prototype=P.fn,X.hsla.to=function(ag){if(null==ag[0]||null==ag[1]||null==ag[2]){return[null,null,null,ag[3]]}var ak,ae,al=ag[0]/255,ac=ag[1]/255,ai=ag[2]/255,ab=ag[3],aa=Math.max(al,ac,ai),af=Math.min(al,ac,ai),ad=aa-af,aj=aa+af,ah=0.5*aj;return ak=af===aa?0:al===aa?60*(ac-ai)/ad+360:ac===aa?60*(ai-al)/ad+120:60*(al-ac)/ad+240,ae=0===ad?0:0.5>=ah?ad/aj:ad/(2-aj),[Math.round(ak)%360,ae,ah,null==ab?1:ab]},X.hsla.from=function(ac){if(null==ac[0]||null==ac[1]||null==ac[2]){return[null,null,null,ac[3]]}var u=ac[0]/360,n=ac[1],aa=ac[2],l=ac[3],ad=0.5>=aa?aa*(1+n):aa+n-aa*n,ab=2*aa-ad;return[Math.round(255*O(ab,ad,u+1/3)),Math.round(255*O(ab,ad,u)),Math.round(255*O(ab,ad,u-1/3)),l]},S(X,function(ab,ad){var e=ad.props,ac=ad.cache,aa=ad.to,l=ad.from;P.fn[ab]=function(a){if(aa&&!this[ac]&&(this[ac]=aa(this._rgba)),a===Y){return this[ac].slice()}var af,o=T.type(a),u="array"===o||"object"===o?a:arguments,ae=this[ac].slice();return S(e,function(ah,n){var ag=u["object"===o?ah:n.idx];null==ag&&(ag=ae[n.idx]),ae[n.idx]=Q(ag,n)}),l?(af=P(l(ae)),af[ac]=ae,af):P(ae)},S(e,function(n,a){P.fn[n]||(P.fn[n]=function(aj){var af,ai=T.type(aj),ah="alpha"===n?this._hsla?"hsla":"rgba":ab,ae=this[ah](),ag=ae[a.idx];return"undefined"===ai?ag:("function"===ai&&(aj=aj.call(this,ag),ai=T.type(aj)),null==aj&&a.empty?this:("string"===ai&&(af=g.exec(aj),af&&(aj=ag+parseFloat(af[2])*("+"===af[1]?1:-1))),ae[a.idx]=aj,this[ah](ae)))})})}),P.hook=function(e){var a=e.split(" ");S(a,function(n,l){T.cssHooks[l]={set:function(aa,ae){var u,ad,ac="";if("transparent"!==ae&&("string"!==T.type(ae)||(u=Z(ae)))){if(ae=P(u||ae),!V.rgba&&1!==ae._rgba[3]){for(ad="backgroundColor"===l?aa.parentNode:aa;(""===ac||"transparent"===ac)&&ad&&ad.style;){try{ac=T.css(ad,"backgroundColor"),ad=ad.parentNode}catch(ab){}}ae=ae.blend(ac&&"transparent"!==ac?ac:"_default")}ae=ae.toRgbaString()}try{aa.style[l]=ae}catch(ab){}}},T.fx.step[l]=function(o){o.colorInit||(o.start=P(o.elem,l),o.end=P(o.end),o.colorInit=!0),T.cssHooks[l].set(o.elem,o.start.transition(o.end,o.pos))}})},P.hook(N),T.cssHooks.borderColor={expand:function(l){var a={};return S(["Top","Right","Bottom","Left"],function(e,n){a["border"+n+"Color"]=l}),a}},W=T.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(M){var u,N,O=M.ownerDocument.defaultView?M.ownerDocument.defaultView.getComputedStyle(M,null):M.currentStyle,o={};if(O&&O.length&&O[0]&&O[O[0]]){for(N=O.length;N--;){u=O[N],"string"==typeof O[u]&&(o[I.camelCase(u)]=O[u])}}else{for(u in O){"string"==typeof O[u]&&(o[u]=O[u])}}return o}function a(M,u){var N,n,O={};for(N in u){n=u[N],M[N]!==n&&(l[N]||(I.fx.step[N]||!isNaN(parseFloat(n)))&&(O[N]=n))}return O}var g=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};I.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(o,n){I.fx.step[n]=function(u){("none"!==u.end&&!u.setAttr||1===u.pos&&!u.setAttr)&&(jQuery.style(u.elem,n,u.end),u.setAttr=!0)}}),I.fn.addBack||(I.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}),I.effects.animateClass=function(P,u,O,N){var M=I.speed(u,O,N);return this.queue(function(){var Q,S=I(this),R=S.attr("class")||"",n=M.children?S.find("*").addBack():S;n=n.map(function(){var o=I(this);return{el:o,start:e(this)}}),Q=function(){I.each(g,function(T,o){P[o]&&S[o+"Class"](P[o])})},Q(),n=n.map(function(){return this.end=e(this.el[0]),this.diff=a(this.start,this.end),this}),S.attr("class",R),n=n.map(function(){var T=this,o=I.Deferred(),U=I.extend({},M,{queue:!1,complete:function(){o.resolve(T)}});return this.el.animate(this.diff,U),o.promise()}),I.when.apply(I,n.get()).done(function(){Q(),I.each(arguments,function(){var o=this.el;I.each(this.diff,function(T){o.css(T,"")})}),M.complete.call(S[0])})})},I.fn.extend({addClass:function(n){return function(u,M,N,o){return M?I.effects.animateClass.call(this,{add:u},M,N,o):n.apply(this,arguments)}}(I.fn.addClass),removeClass:function(n){return function(u,M,N,o){return arguments.length>1?I.effects.animateClass.call(this,{remove:u},M,N,o):n.apply(this,arguments)}}(I.fn.removeClass),toggleClass:function(n){return function(M,N,P,u,O){return"boolean"==typeof N||void 0===N?P?I.effects.animateClass.call(this,N?{add:M}:{remove:M},P,u,O):n.apply(this,arguments):I.effects.animateClass.call(this,{toggle:M},N,P,u)}}(I.fn.toggleClass),switchClass:function(M,u,N,O,o){return I.effects.animateClass.call(this,{add:u,remove:M},N,O,o)}})}(),function(){function e(l,g,o,u){return I.isPlainObject(l)&&(g=l,l=l.effect),l={effect:l},null==g&&(g={}),I.isFunction(g)&&(u=g,o=null,g={}),("number"==typeof g||I.fx.speeds[g])&&(u=o,o=g,g={}),I.isFunction(o)&&(u=o,o=null),g&&I.extend(l,g),o=o||g.duration,l.duration=I.fx.off?0:"number"==typeof o?o:o in I.fx.speeds?I.fx.speeds[o]:I.fx.speeds._default,l.complete=u||g.complete,l}function a(g){return !g||"number"==typeof g||I.fx.speeds[g]?!0:"string"!=typeof g||I.effects.effect[g]?I.isFunction(g)?!0:"object"!=typeof g||g.effect?!1:!0:!0}I.extend(I.effects,{version:"1.11.0",save:function(n,l){for(var g=0;l.length>g;g++){null!==l[g]&&n.data(b+l[g],n[0].style[l[g]])}},restore:function(o,l){var g,n;for(n=0;l.length>n;n++){null!==l[n]&&(g=o.data(b+l[n]),void 0===g&&(g=""),o.css(l[n],g))}},setMode:function(l,g){return"toggle"===g&&(g=l.is(":hidden")?"show":"hide"),g},getBaseline:function(o,l){var g,n;switch(o[0]){case"top":g=0;break;case"middle":g=0.5;break;case"bottom":g=1;break;default:g=o[0]/l.height}switch(o[1]){case"left":n=0;break;case"center":n=0.5;break;case"right":n=1;break;default:n=o[1]/l.width}return{x:n,y:g}},createWrapper:function(u){if(u.parent().is(".ui-effects-wrapper")){return u.parent()}var l={width:u.outerWidth(!0),height:u.outerHeight(!0),"float":u.css("float")},M=I("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),O={width:u.width(),height:u.height()},g=document.activeElement;try{g.id}catch(N){g=document.body}return u.wrap(M),(u[0]===g||I.contains(u[0],g))&&I(g).focus(),M=u.parent(),"static"===u.css("position")?(M.css({position:"relative"}),u.css({position:"relative"})):(I.extend(l,{position:u.css("position"),zIndex:u.css("z-index")}),I.each(["top","left","bottom","right"],function(o,n){l[n]=u.css(n),isNaN(parseInt(l[n],10))&&(l[n]="auto")}),u.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),u.css(O),M.css(l).show()},removeWrapper:function(l){var g=document.activeElement;return l.parent().is(".ui-effects-wrapper")&&(l.parent().replaceWith(l),(l[0]===g||I.contains(l[0],g))&&I(g).focus()),l},setTransition:function(l,g,o,u){return u=u||{},I.each(g,function(N,M){var n=l.cssUnit(M);n[0]>0&&(u[M]=n[0]*o+n[1])}),u}}),I.fn.extend({effect:function(){function l(P){function O(){I.isFunction(o)&&o.call(R[0]),I.isFunction(P)&&P()}var R=I(this),o=u.complete,Q=u.mode;(R.is(":hidden")?"hide"===Q:"show"===Q)?(R[Q](),O()):M.call(R[0],u,O)}var u=e.apply(this,arguments),N=u.mode,g=u.queue,M=I.effects.effect[u.effect];return I.fx.off||!M?N?this[N](u.duration,u.complete):this.each(function(){u.complete&&u.complete.call(this)}):g===!1?this.each(l):this.queue(g||"fx",l)},show:function(g){return function(l){if(a(l)){return g.apply(this,arguments)}var o=e.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(I.fn.show),hide:function(g){return function(l){if(a(l)){return g.apply(this,arguments)}var o=e.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(I.fn.hide),toggle:function(g){return function(l){if(a(l)||"boolean"==typeof l){return g.apply(this,arguments)}var o=e.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(I.fn.toggle),cssUnit:function(l){var g=this.css(l),n=[];return I.each(["em","px","%","pt"],function(u,o){g.indexOf(o)>0&&(n=[parseFloat(g),o])}),n}})}(),function(){var a={};I.each(["Quad","Cubic","Quart","Quint","Expo"],function(l,g){a[g]=function(e){return Math.pow(e,l+2)}}),I.extend(a,{Sine:function(g){return 1-Math.cos(g*Math.PI/2)},Circ:function(g){return 1-Math.sqrt(1-g*g)},Elastic:function(g){return 0===g||1===g?g:-Math.pow(2,8*(g-1))*Math.sin((80*(g-1)-7.5)*Math.PI/15)},Back:function(g){return g*g*(3*g-2)},Bounce:function(n){for(var l,g=4;((l=Math.pow(2,--g))-1)/11>n;){}return 1/Math.pow(4,3-g)-7.5625*Math.pow((3*l-2)/22-n,2)}}),I.each(a,function(g,e){I.easing["easeIn"+g]=e,I.easing["easeOut"+g]=function(l){return 1-e(1-l)},I.easing["easeInOut"+g]=function(l){return 0.5>l?e(2*l)/2:1-e(-2*l+2)/2}})}(),I.effects,I.effects.effect.blind=function(aa,R){var ab,O,X,N=I(this),e=/up|down|vertical/,S=/up|left|vertical|horizontal/,Q=["position","top","bottom","left","right","height","width"],Z=I.effects.setMode(N,aa.mode||"hide"),V=aa.direction||"up",W=e.test(V),M=W?"height":"width",U=W?"top":"left",P=S.test(V),T={},Y="show"===Z;N.parent().is(".ui-effects-wrapper")?I.effects.save(N.parent(),Q):I.effects.save(N,Q),N.show(),ab=I.effects.createWrapper(N).css({overflow:"hidden"}),O=ab[M](),X=parseFloat(ab.css(U))||0,T[M]=Y?O:0,P||(N.css(W?"bottom":"right",0).css(W?"top":"left","auto").css({position:"absolute"}),T[U]=Y?X:O+X),Y&&(ab.css(M,0),P||ab.css(U,X+O)),ab.animate(T,{duration:aa.duration,easing:aa.easing,queue:!1,complete:function(){"hide"===Z&&N.hide(),I.effects.restore(N,Q),I.effects.removeWrapper(N),R()}})},I.effects.effect.drop=function(T,O){var U,M=I(this),R=["position","top","bottom","left","right","opacity","height","width"],g=I.effects.setMode(M,T.mode||"hide"),e="show"===g,P=T.direction||"left",N="up"===P||"down"===P?"top":"left",S="up"===P||"left"===P?"pos":"neg",Q={opacity:e?1:0};I.effects.save(M,R),M.show(),I.effects.createWrapper(M),U=T.distance||M["top"===N?"outerHeight":"outerWidth"](!0)/2,e&&M.css("opacity",0).css(N,"pos"===S?-U:U),Q[N]=(e?"pos"===S?"+=":"-=":"pos"===S?"-=":"+=")+U,M.animate(Q,{queue:!1,duration:T.duration,easing:T.easing,complete:function(){"hide"===g&&M.hide(),I.effects.restore(M,R),I.effects.removeWrapper(M),O()}})},I.effects.effect.fade=function(e,a){var g=I(this),l=I.effects.setMode(g,e.mode||"toggle");g.animate({opacity:l},{queue:!1,duration:e.duration,easing:e.easing,complete:a})},I.effects.effect.highlight=function(l,g){var u=I(this),N=["backgroundImage","backgroundColor","opacity"],e=I.effects.setMode(u,l.mode||"show"),M={backgroundColor:u.css("backgroundColor")};"hide"===e&&(M.opacity=0),I.effects.save(u,N),u.show().css({backgroundImage:"none",backgroundColor:l.color||"#ffff99"}).animate(M,{queue:!1,duration:l.duration,easing:l.easing,complete:function(){"hide"===e&&u.hide(),I.effects.restore(u,N),g()}})},I.effects.effect.transfer=function(U,O){var V=I(this),M=I(U.to),S="fixed"===M.css("position"),g=I("body"),e=S?g.scrollTop():0,P=S?g.scrollLeft():0,N=M.offset(),T={top:N.top-e,left:N.left-P,height:M.innerHeight(),width:M.innerWidth()},Q=V.offset(),R=I("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(U.className).css({top:Q.top-e,left:Q.left-P,height:V.innerHeight(),width:V.innerWidth(),position:S?"fixed":"absolute"}).animate(T,U.duration,U.easing,function(){R.remove(),O()})}});
/*!
Chosen, a Select Box Enhancer for jQuery and Prototype
by Patrick Filler for Harvest, http://getharvest.com

Version 1.1.0
Full source at https://github.com/harvesthq/chosen
Copyright (c) 2011 Harvest http://getharvest.com

MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
This file is generated by `grunt build`, do not edit it by hand.
*/
(function(){var k,a,l,g,j,b={}.hasOwnProperty,e=function(u,o){for(var n in o){if(b.call(o,n)){u[n]=o[n]}}function q(){this.constructor=u}q.prototype=o.prototype;u.prototype=new q();u.__super__=o.prototype;return u};g=(function(){function n(){this.options_index=0;this.parsed=[]}n.prototype.add_node=function(o){if(o.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(o)}else{return this.add_option(o)}};n.prototype.add_group=function(B){var A,u,z,q,y,o;A=this.parsed.length;this.parsed.push({array_index:A,group:true,label:this.escapeExpression(B.label),children:0,disabled:B.disabled});y=B.childNodes;o=[];for(z=0,q=y.length;z<q;z++){u=y[z];o.push(this.add_option(u,A,B.disabled))}return o};n.prototype.add_option=function(q,u,o){if(q.nodeName.toUpperCase()==="OPTION"){if(q.text!==""){if(u!=null){this.parsed[u].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:q.value,text:q.text,html:q.innerHTML,selected:q.selected,disabled:o===true?o:q.disabled,group_array_index:u,classes:q.className,style:q.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};n.prototype.escapeExpression=function(u){var q,o;if((u==null)||u===false){return""}if(!/[\&\<\>\"\'\`]/.test(u)){return u}q={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};o=/&(?!\w+;)|[\<\>\"\'\`]/g;return u.replace(o,function(y){return q[y]||"&amp;"})};return n})();g.select_to_array=function(n){var z,y,u,o,q;y=new g();q=n.childNodes;for(u=0,o=q.length;u<o;u++){z=q[u];y.add_node(z)}return y.parsed};a=(function(){function n(o,q){this.form_field=o;this.options=q!=null?q:{};if(!n.browser_is_supported()){return}this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers()}n.prototype.set_default_values=function(){var o=this;this.click_test_action=function(q){return o.test_active_click(q)};this.activate_action=function(q){return o.activate_field(q)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.group_search=this.options.group_search!=null?this.options.group_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:true;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||false;this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:true;return this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:true};n.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else{if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text}}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text};n.prototype.mouse_enter=function(){return this.mouse_on_container=true};n.prototype.mouse_leave=function(){return this.mouse_on_container=false};n.prototype.input_focus=function(o){var q=this;if(this.is_multiple){if(!this.active_field){return setTimeout((function(){return q.container_mousedown()}),50)}}else{if(!this.active_field){return this.activate_field()}}};n.prototype.input_blur=function(o){var q=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return q.blur_test()}),100)}};n.prototype.results_option_build=function(q){var u,A,z,o,y;u="";y=this.results_data;for(z=0,o=y.length;z<o;z++){A=y[z];if(A.group){u+=this.result_add_group(A)}else{u+=this.result_add_option(A)}if(q!=null?q.first:void 0){if(A.selected&&this.is_multiple){this.choice_build(A)}else{if(A.selected&&!this.is_multiple){this.single_set_selected_text(A.text)}}}}return u};n.prototype.result_add_option=function(u){var q,o;if(!u.search_match){return""}if(!this.include_option_in_results(u)){return""}q=[];if(!u.disabled&&!(u.selected&&this.is_multiple)){q.push("active-result")}if(u.disabled&&!(u.selected&&this.is_multiple)){q.push("disabled-result")}if(u.selected){q.push("result-selected")}if(u.group_array_index!=null){q.push("group-option")}if(u.classes!==""){q.push(u.classes)}o=document.createElement("li");o.className=q.join(" ");o.style.cssText=u.style;o.setAttribute("data-option-array-index",u.array_index);o.innerHTML=u.search_text;return this.outerHTML(o)};n.prototype.result_add_group=function(q){var o;if(!(q.search_match||q.group_match)){return""}if(!(q.active_options>0)){return""}o=document.createElement("li");o.className="group-result";o.innerHTML=q.search_text;return this.outerHTML(o)};n.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.results_build();if(this.results_showing){return this.winnow_results()}};n.prototype.reset_single_select_options=function(){var o,z,u,y,q;y=this.results_data;q=[];for(z=0,u=y.length;z<u;z++){o=y[z];if(o.selected){q.push(o.selected=false)}else{q.push(void 0)}}return q};n.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};n.prototype.results_search=function(o){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};n.prototype.winnow_results=function(){var H,A,D,E,z,o,G,B,F,q,u,C,y;this.no_results_clear();z=0;G=this.get_search_text();H=G.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");E=this.search_contains?"":"^";D=new RegExp(E+H,"i");q=new RegExp(H,"i");y=this.results_data;for(u=0,C=y.length;u<C;u++){A=y[u];A.search_match=false;o=null;if(this.include_option_in_results(A)){if(A.group){A.group_match=false;A.active_options=0}if((A.group_array_index!=null)&&this.results_data[A.group_array_index]){o=this.results_data[A.group_array_index];if(o.active_options===0&&o.search_match){z+=1}o.active_options+=1}if(!(A.group&&!this.group_search)){A.search_text=A.group?A.label:A.html;A.search_match=this.search_string_match(A.search_text,D);if(A.search_match&&!A.group){z+=1}if(A.search_match){if(G.length){B=A.search_text.search(q);F=A.search_text.substr(0,B+G.length)+"</em>"+A.search_text.substr(B+G.length);A.search_text=F.substr(0,B)+"<em>"+F.substr(B)}if(o!=null){o.group_match=true}}else{if((A.group_array_index!=null)&&this.results_data[A.group_array_index].search_match){A.search_match=true}}}}}this.result_clear_highlight();if(z<1&&G.length){this.update_results_content("");return this.no_results(G)}else{this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight()}};n.prototype.search_string_match=function(A,u){var q,z,y,o;if(u.test(A)){return true}else{if(this.enable_split_word_search&&(A.indexOf(" ")>=0||A.indexOf("[")===0)){z=A.replace(/\[|\]/g,"").split(" ");if(z.length){for(y=0,o=z.length;y<o;y++){q=z[y];if(u.test(q)){return true}}}}}};n.prototype.choices_count=function(){var q,y,o,u;if(this.selected_option_count!=null){return this.selected_option_count}this.selected_option_count=0;u=this.form_field.options;for(y=0,o=u.length;y<o;y++){q=u[y];if(q.selected){this.selected_option_count+=1}}return this.selected_option_count};n.prototype.choices_click=function(o){o.preventDefault();if(!(this.results_showing||this.is_disabled)){return this.results_show()}};n.prototype.keyup_checker=function(o){var u,q;u=(q=o.which)!=null?q:o.keyCode;this.search_field_scale();switch(u){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}else{if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}}break;case 13:o.preventDefault();if(this.results_showing){return this.result_select(o)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};n.prototype.clipboard_event_checker=function(o){var q=this;return setTimeout((function(){return q.results_search()}),50)};n.prototype.container_width=function(){if(this.options.width!=null){return this.options.width}else{return""+this.form_field.offsetWidth+"px"}};n.prototype.include_option_in_results=function(o){if(this.is_multiple&&(!this.display_selected_options&&o.selected)){return false}if(!this.display_disabled_options&&o.disabled){return false}if(o.empty){return false}return true};n.prototype.search_results_touchstart=function(o){this.touch_started=true;return this.search_results_mouseover(o)};n.prototype.search_results_touchmove=function(o){this.touch_started=false;return this.search_results_mouseout(o)};n.prototype.search_results_touchend=function(o){if(this.touch_started){return this.search_results_mouseup(o)}};n.prototype.outerHTML=function(q){var o;if(q.outerHTML){return q.outerHTML}o=document.createElement("div");o.appendChild(q);return o.innerHTML};n.browser_is_supported=function(){if(window.navigator.appName==="Microsoft Internet Explorer"){return document.documentMode>=8}if(/iP(od|hone)/i.test(window.navigator.userAgent)){return false}if(/Android/i.test(window.navigator.userAgent)){if(/Mobile/i.test(window.navigator.userAgent)){return false}}return true};n.default_multiple_text="Select Some Options";n.default_single_text="Select an Option";n.default_no_result_text="No results match";return n})();k=jQuery;k.fn.extend({chosen:function(n){if(!a.browser_is_supported()){return this}return this.each(function(q){var u,o;u=k(this);o=u.data("chosen");if(n==="destroy"&&o){o.destroy()}else{if(!o){u.data("chosen",new l(this,n))}}})}});l=(function(n){e(o,n);function o(){j=o.__super__.constructor.apply(this,arguments);return j}o.prototype.setup=function(){this.form_field_jq=k(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")};o.prototype.set_up_html=function(){var q,u;q=["chosen-container"];q.push("chosen-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){q.push(this.form_field.className)}if(this.is_rtl){q.push("chosen-rtl")}u={"class":q.join(" "),style:"width: "+(this.container_width())+";",title:this.form_field.title};if(this.form_field.id.length){u.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"}this.container=k("<div />",u);if(this.is_multiple){this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>')}else{this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>')}this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chosen-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chosen-search").first();this.selected_item=this.container.find(".chosen-single").first()}this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("chosen:ready",{chosen:this})};o.prototype.register_observers=function(){var q=this;this.container.bind("mousedown.chosen",function(u){q.container_mousedown(u)});this.container.bind("mouseup.chosen",function(u){q.container_mouseup(u)});this.container.bind("mouseenter.chosen",function(u){q.mouse_enter(u)});this.container.bind("mouseleave.chosen",function(u){q.mouse_leave(u)});this.search_results.bind("mouseup.chosen",function(u){q.search_results_mouseup(u)});this.search_results.bind("mouseover.chosen",function(u){q.search_results_mouseover(u)});this.search_results.bind("mouseout.chosen",function(u){q.search_results_mouseout(u)});this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(u){q.search_results_mousewheel(u)});this.search_results.bind("touchstart.chosen",function(u){q.search_results_touchstart(u)});this.search_results.bind("touchmove.chosen",function(u){q.search_results_touchmove(u)});this.search_results.bind("touchend.chosen",function(u){q.search_results_touchend(u)});this.form_field_jq.bind("chosen:updated.chosen",function(u){q.results_update_field(u)});this.form_field_jq.bind("chosen:activate.chosen",function(u){q.activate_field(u)});this.form_field_jq.bind("chosen:open.chosen",function(u){q.container_mousedown(u)});this.form_field_jq.bind("chosen:close.chosen",function(u){q.input_blur(u)});this.search_field.bind("blur.chosen",function(u){q.input_blur(u)});this.search_field.bind("keyup.chosen",function(u){q.keyup_checker(u)});this.search_field.bind("keydown.chosen",function(u){q.keydown_checker(u)});this.search_field.bind("focus.chosen",function(u){q.input_focus(u)});this.search_field.bind("cut.chosen",function(u){q.clipboard_event_checker(u)});this.search_field.bind("paste.chosen",function(u){q.clipboard_event_checker(u)});if(this.is_multiple){return this.search_choices.bind("click.chosen",function(u){q.choices_click(u)})}else{return this.container.bind("click.chosen",function(u){u.preventDefault()})}};o.prototype.destroy=function(){k(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);if(this.search_field[0].tabIndex){this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex}this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};o.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chosen-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus.chosen",this.activate_action)}return this.close_field()}else{this.container.removeClass("chosen-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus.chosen",this.activate_action)}}};o.prototype.container_mousedown=function(q){if(!this.is_disabled){if(q&&q.type==="mousedown"&&!this.results_showing){q.preventDefault()}if(!((q!=null)&&(k(q.target)).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}k(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action);this.results_show()}else{if(!this.is_multiple&&q&&((k(q.target)[0]===this.selected_item[0])||k(q.target).parents("a.chosen-single").length)){q.preventDefault();this.results_toggle()}}return this.activate_field()}}};o.prototype.container_mouseup=function(q){if(q.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(q)}};o.prototype.search_results_mousewheel=function(q){var u;if(q.originalEvent){u=-q.originalEvent.wheelDelta||q.originalEvent.detail}if(u!=null){q.preventDefault();if(q.type==="DOMMouseScroll"){u=u*40}return this.search_results.scrollTop(u+this.search_results.scrollTop())}};o.prototype.blur_test=function(q){if(!this.active_field&&this.container.hasClass("chosen-container-active")){return this.close_field()}};o.prototype.close_field=function(){k(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};o.prototype.activate_field=function(){this.container.addClass("chosen-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};o.prototype.test_active_click=function(q){var u;u=k(q.target).closest(".chosen-container");if(u.length&&this.container[0]===u[0]){return this.active_field=true}else{return this.close_field()}};o.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=g.select_to_array(this.form_field);if(this.is_multiple){this.search_choices.find("li.search-choice").remove()}else{if(!this.is_multiple){this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.search_field[0].readOnly=true;this.container.addClass("chosen-container-single-nosearch")}else{this.search_field[0].readOnly=false;this.container.removeClass("chosen-container-single-nosearch")}}}this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=false};o.prototype.result_do_highlight=function(u){var B,A,y,z,q;if(u.length){this.result_clear_highlight();this.result_highlight=u;this.result_highlight.addClass("highlighted");y=parseInt(this.search_results.css("maxHeight"),10);q=this.search_results.scrollTop();z=y+q;A=this.result_highlight.position().top+this.search_results.scrollTop();B=A+this.result_highlight.outerHeight();if(B>=z){return this.search_results.scrollTop((B-y)>0?B-y:0)}else{if(A<q){return this.search_results.scrollTop(A)}}}};o.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};o.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}this.container.addClass("chosen-with-drop");this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());this.winnow_results();return this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this})};o.prototype.update_results_content=function(q){return this.search_results.html(q)};o.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chosen-with-drop");this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})}return this.results_showing=false};o.prototype.set_tab_index=function(u){var q;if(this.form_field.tabIndex){q=this.form_field.tabIndex;this.form_field.tabIndex=-1;return this.search_field[0].tabIndex=q}};o.prototype.set_label_behavior=function(){var q=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=k("label[for='"+this.form_field.id+"']")}if(this.form_field_label.length>0){return this.form_field_label.bind("click.chosen",function(u){if(q.is_multiple){return q.container_mousedown(u)}else{return q.activate_field()}})}};o.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};o.prototype.search_results_mouseup=function(q){var u;u=k(q.target).hasClass("active-result")?k(q.target):k(q.target).parents(".active-result").first();if(u.length){this.result_highlight=u;this.result_select(q);return this.search_field.focus()}};o.prototype.search_results_mouseover=function(q){var u;u=k(q.target).hasClass("active-result")?k(q.target):k(q.target).parents(".active-result").first();if(u){return this.result_do_highlight(u)}};o.prototype.search_results_mouseout=function(q){if(k(q.target).hasClass("active-result"||k(q.target).parents(".active-result").first())){return this.result_clear_highlight()}};o.prototype.choice_build=function(u){var q,y,z=this;q=k("<li />",{"class":"search-choice"}).html("<span>"+u.html+"</span>");if(u.disabled){q.addClass("search-choice-disabled")}else{y=k("<a />",{"class":"search-choice-close","data-option-array-index":u.array_index});y.bind("click.chosen",function(A){return z.choice_destroy_link_click(A)});q.append(y)}return this.search_container.before(q)};o.prototype.choice_destroy_link_click=function(q){q.preventDefault();q.stopPropagation();if(!this.is_disabled){return this.choice_destroy(k(q.target))}};o.prototype.choice_destroy=function(q){if(this.result_deselect(q[0].getAttribute("data-option-array-index"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide()}q.parents("li").first().remove();return this.search_field_scale()}};o.prototype.results_reset=function(){this.reset_single_select_options();this.form_field.options[0].selected=true;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};o.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};o.prototype.result_select=function(q){var y,u;if(this.result_highlight){y=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}if(this.is_multiple){y.removeClass("active-result")}else{this.reset_single_select_options()}u=this.results_data[y[0].getAttribute("data-option-array-index")];u.selected=true;this.form_field.options[u.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(u)}else{this.single_set_selected_text(u.text)}if(!((q.metaKey||q.ctrlKey)&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{selected:this.form_field.options[u.options_index].value})}this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale()}};o.prototype.single_set_selected_text=function(q){if(q==null){q=this.default_text}if(q===this.default_text){this.selected_item.addClass("chosen-default")}else{this.single_deselect_control_build();this.selected_item.removeClass("chosen-default")}return this.selected_item.find("span").text(q)};o.prototype.result_deselect=function(u){var q;q=this.results_data[u];if(!this.form_field.options[q.options_index].disabled){q.selected=false;this.form_field.options[q.options_index].selected=false;this.selected_option_count=null;this.result_clear_highlight();if(this.results_showing){this.winnow_results()}this.form_field_jq.trigger("change",{deselected:this.form_field.options[q.options_index].value});this.search_field_scale();return true}else{return false}};o.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return}if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}return this.selected_item.addClass("chosen-single-with-deselect")};o.prototype.get_search_text=function(){if(this.search_field.val()===this.default_text){return""}else{return k("<div/>").text(k.trim(this.search_field.val())).html()}};o.prototype.winnow_results_set_highlight=function(){var q,u;u=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];q=u.length?u.first():this.search_results.find(".active-result").first();if(q!=null){return this.result_do_highlight(q)}};o.prototype.no_results=function(q){var u;u=k('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');u.find("span").first().html(q);this.search_results.append(u);return this.form_field_jq.trigger("chosen:no_results",{chosen:this})};o.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};o.prototype.keydown_arrow=function(){var q;if(this.results_showing&&this.result_highlight){q=this.result_highlight.nextAll("li.active-result").first();if(q){return this.result_do_highlight(q)}}else{return this.results_show()}};o.prototype.keyup_arrow=function(){var q;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else{if(this.result_highlight){q=this.result_highlight.prevAll("li.active-result");if(q.length){return this.result_do_highlight(q.first())}else{if(this.choices_count()>0){this.results_hide()}return this.result_clear_highlight()}}}};o.prototype.keydown_backstroke=function(){var q;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{q=this.search_container.siblings("li.search-choice").last();if(q.length&&!q.hasClass("search-choice-disabled")){this.pending_backstroke=q;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};o.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};o.prototype.keydown_checker=function(u){var y,q;y=(q=u.which)!=null?q:u.keyCode;this.search_field_scale();if(y!==8&&this.pending_backstroke){this.clear_backstroke()}switch(y){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(u)}this.mouse_on_container=false;break;case 13:u.preventDefault();break;case 38:u.preventDefault();this.keyup_arrow();break;case 40:u.preventDefault();this.keydown_arrow();break}};o.prototype.search_field_scale=function(){var q,A,z,u,D,E,C,y,B;if(this.is_multiple){z=0;C=0;D="position:absolute; left: -1000px; top: -1000px; display:none;";E=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(y=0,B=E.length;y<B;y++){u=E[y];D+=u+":"+this.search_field.css(u)+";"}q=k("<div />",{style:D});q.text(this.search_field.val());k("body").append(q);C=q.width()+25;q.remove();A=this.container.outerWidth();if(C>A-10){C=A-10}return this.search_field.css({width:C+"px"})}};return o})(a)}).call(this);
/*!
 * FullCalendar v1.6.1
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(aD,G){var W={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"};var ac={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var aJ=aD.fullCalendar={version:"1.6.1"};var ao=aJ.views={};aD.fn.fullCalendar=function(aV){if(typeof aV=="string"){var aU=Array.prototype.slice.call(arguments,1);var aW;this.each(function(){var aY=aD.data(this,"fullCalendar");if(aY&&aD.isFunction(aY[aV])){var aX=aY[aV].apply(aY,aU);if(aW===G){aW=aX}if(aV=="destroy"){aD.removeData(this,"fullCalendar")}}});if(aW!==G){return aW}return this}var aT=aV.eventSources||[];delete aV.eventSources;if(aV.events){aT.push(aV.events);delete aV.events}aV=aD.extend(true,{},W,(aV.isRTL||aV.isRTL===G&&W.isRTL)?ac:{},aV);this.each(function(aZ,aX){var aY=aD(aX);var a0=new D(aY,aV,aT);aY.data("fullCalendar",a0);a0.render()});return this};function au(aT){aD.extend(true,W,aT)}function D(bb,bi,bl){var bA=this;bA.options=bi;bA.render=br;bA.destroy=bC;bA.refetchEvents=a5;bA.reportEvents=a9;bA.reportEventChange=bE;bA.rerenderEvents=aX;bA.changeView=a2;bA.select=bB;bA.unselect=a4;bA.prev=bn;bA.next=aW;bA.prevYear=bD;bA.nextYear=aU;bA.today=bc;bA.gotoDate=bq;bA.incrementDate=bf;bA.formatDate=function(bL,bK){return L(bL,bK,bi)};bA.formatDates=function(bM,bL,bK){return n(bM,bL,bK,bi)};bA.getDate=bg;bA.getView=bm;bA.option=bx;bA.trigger=bp;C.call(bA,bi,bl);var aT=bA.isFetchNeeded;var bH=bA.fetchEvents;var by=bb[0];var aY;var bs;var a7;var bJ;var a6;var bI={};var bo;var a0;var a3;var bt=0;var bz=0;var bF=new Date();var bk=[];var aZ;J(bF,bi.year,bi.month,bi.date);function br(bK){if(!a7){bj()}else{bu();bG();aV();bh(bK)}}function bj(){bJ=bi.theme?"ui":"fc";bb.addClass("fc");if(bi.isRTL){bb.addClass("fc-rtl")}else{bb.addClass("fc-ltr")}if(bi.theme){bb.addClass("ui-widget")}a7=aD("<div class='fc-content' style='position:relative'/>").prependTo(bb);aY=new ad(bA,bi);bs=aY.render();if(bs){bb.prepend(bs)}a2(bi.defaultView);aD(window).resize(a8);if(!ba()){a1()}}function a1(){setTimeout(function(){if(!a6.start&&ba()){bh()}},0)}function bC(){aD(window).unbind("resize",a8);aY.destroy();a7.remove();bb.removeClass("fc fc-rtl ui-widget")}function bv(){return by.offsetWidth!==0}function ba(){return aD("body")[0].offsetWidth!==0}function a2(bM){if(!a6||bM!=a6.name){bz++;a4();var bL=a6;var bK;if(bL){(bL.beforeHide||aB)();T(a7,a7.height());bL.element.hide()}else{T(a7,1)}a7.css("overflow","hidden");a6=bI[bM];if(a6){a6.element.show()}else{a6=bI[bM]=new ao[bM](bK=a3=aD("<div class='fc-view fc-view-"+bM+"' style='position:absolute'/>").appendTo(a7),bA)}if(bL){aY.deactivateButton(bL.name)}aY.activateButton(bM);bh();a7.css("overflow","");if(bL){T(a7,1)}if(!bK){(a6.afterShow||aB)()}bz--}}function bh(bM){if(bv()){bz++;a4();if(a0===G){bu()}var bL=false;if(!a6.start||bM||bF<a6.start||bF>=a6.end){a6.render(bF,bM||0);bw(true);bL=true}else{if(a6.sizeDirty){a6.clearEvents();bw();bL=true}else{if(a6.eventsDirty){a6.clearEvents();bL=true}}}a6.sizeDirty=false;a6.eventsDirty=false;be(bL);bo=bb.outerWidth();aY.updateTitle(a6.title);var bK=new Date();if(bK>=a6.start&&bK<a6.end){aY.disableButton("today")}else{aY.enableButton("today")}bz--;a6.trigger("viewDisplay",by)}}function bd(){bG();if(bv()){bu();bw();a4();a6.clearEvents();a6.renderEvents(bk);a6.sizeDirty=false}}function bG(){aD.each(bI,function(bK,bL){bL.sizeDirty=true})}function bu(){if(bi.contentHeight){a0=bi.contentHeight}else{if(bi.height){a0=bi.height-(bs?bs.height():0)-P(a7)}else{a0=Math.round(a7.width()/Math.max(bi.aspectRatio,0.5))}}}function bw(bK){bz++;a6.setHeight(a0,bK);if(a3){a3.css("position","relative");a3=null}a6.setWidth(a7.width(),bK);bz--}function a8(){if(!bz){if(a6.start){var bK=++bt;setTimeout(function(){if(bK==bt&&!bz&&bv()){if(bo!=(bo=bb.outerWidth())){bz++;bd();a6.trigger("windowResize",by);bz--}}},200)}else{a1()}}}function be(bK){if(!bi.lazyFetching||aT(a6.visStart,a6.visEnd)){a5()}else{if(bK){aX()}}}function a5(){bH(a6.visStart,a6.visEnd)}function a9(bK){bk=bK;aX()}function bE(bK){aX(bK)}function aX(bK){aV();if(bv()){a6.clearEvents();a6.renderEvents(bk,bK);a6.eventsDirty=false}}function aV(){aD.each(bI,function(bK,bL){bL.eventsDirty=true})}function bB(bM,bK,bL){a6.select(bM,bK,bL===G?true:bL)}function a4(){if(a6){a6.unselect()}}function bn(){bh(-1)}function aW(){bh(1)}function bD(){at(bF,-1);bh()}function aU(){at(bF,1);bh()}function bc(){bF=new Date();bh()}function bq(bL,bM,bK){if(bL instanceof Date){bF=X(bL)}else{J(bF,bL,bM,bK)}bh()}function bf(bL,bK,bM){if(bL!==G){at(bF,bL)}if(bK!==G){z(bF,bK)}if(bM!==G){aL(bF,bM)}bh()}function bg(){return X(bF)}function bm(){return a6}function bx(bK,bL){if(bL===G){return bi[bK]}if(bK=="height"||bK=="contentHeight"||bK=="aspectRatio"){bi[bK]=bL;bd()}}function bp(bK,bL){if(bi[bK]){return bi[bK].apply(bL||by,Array.prototype.slice.call(arguments,2))}}if(bi.droppable){aD(document).bind("dragstart",function(bM,bN){var bK=bM.target;var bO=aD(bK);if(!bO.parents(".fc").length){var bL=bi.dropAccept;if(aD.isFunction(bL)?bL.call(bK,bO):bO.is(bL)){aZ=bK;a6.dragStart(aZ,bM,bN)}}}).bind("dragstop",function(bK,bL){if(aZ){a6.dragStop(aZ,bK,bL);aZ=null}})}}function ad(aW,a5){var a4=this;a4.render=aU;a4.destroy=a0;a4.updateTitle=aY;a4.activateButton=aT;a4.deactivateButton=a2;a4.disableButton=aV;a4.enableButton=aZ;var aX=aD([]);var a1;function aU(){a1=a5.theme?"ui":"fc";var a6=a5.header;if(a6){aX=aD("<table class='fc-header' style='width:100%'/>").append(aD("<tr/>").append(a3("left")).append(a3("center")).append(a3("right")));return aX}}function a0(){aX.remove()}function a3(a6){var a8=aD("<td class='fc-header-"+a6+"'/>");var a7=a5.header[a6];if(a7){aD.each(a7.split(" "),function(ba){if(ba>0){a8.append("<span class='fc-header-space'/>")}var a9;aD.each(this.split(","),function(bd,bc){if(bc=="title"){a8.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");if(a9){a9.addClass(a1+"-corner-right")}a9=null}else{var bb;if(aW[bc]){bb=aW[bc]}else{if(ao[bc]){bb=function(){be.removeClass(a1+"-state-hover");aW.changeView(bc)}}}if(bb){var bf=a5.theme?O(a5.buttonIcons,bc):null;var bg=O(a5.buttonText,bc);var be=aD("<span class='fc-button fc-button-"+bc+" "+a1+"-state-default'>"+(bf?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+bf+"'/></span>":bg)+"</span>").click(function(){if(!be.hasClass(a1+"-state-disabled")){bb()}}).mousedown(function(){be.not("."+a1+"-state-active").not("."+a1+"-state-disabled").addClass(a1+"-state-down")}).mouseup(function(){be.removeClass(a1+"-state-down")}).hover(function(){be.not("."+a1+"-state-active").not("."+a1+"-state-disabled").addClass(a1+"-state-hover")},function(){be.removeClass(a1+"-state-hover").removeClass(a1+"-state-down")}).appendTo(a8);aS(be);if(!a9){be.addClass(a1+"-corner-left")}a9=be}}});if(a9){a9.addClass(a1+"-corner-right")}})}return a8}function aY(a6){aX.find("h2").html(a6)}function aT(a6){aX.find("span.fc-button-"+a6).addClass(a1+"-state-active")}function a2(a6){aX.find("span.fc-button-"+a6).removeClass(a1+"-state-active")}function aV(a6){aX.find("span.fc-button-"+a6).addClass(a1+"-state-disabled")}function aZ(a6){aX.find("span.fc-button-"+a6).removeClass(a1+"-state-disabled")}}aJ.sourceNormalizers=[];aJ.sourceFetchers=[];var u={dataType:"json",cache:false};var ag=1;function C(aZ,a7){var a9=this;a9.isFetchNeeded=a1;a9.fetchEvents=a8;a9.addEventSource=aW;a9.removeEventSource=aX;a9.updateEvent=bc;a9.renderEvent=a5;a9.removeEvents=bo;a9.clientEvents=bi;a9.normalizeEvent=a4;var bb=a9.trigger;var aT=a9.getView;var be=a9.reportEvents;var bg={events:[]};var aU=[bg];var bl,bh;var aV=0;var bm=0;var bk=0;var ba=[];for(var bj=0;bj<a7.length;bj++){bd(a7[bj])}function a1(bq,bp){return !bl||bq<bl||bp>bh}function a8(bt,bq){bl=bt;bh=bq;ba=[];var bs=++aV;var bp=aU.length;bm=bp;for(var br=0;br<bp;br++){a0(aU[br],bs)}}function a0(bq,bp){bf(bq,function(bs){if(bp==aV){if(bs){if(aZ.eventDataTransform){bs=aD.map(bs,aZ.eventDataTransform)}if(bq.eventDataTransform){bs=aD.map(bs,bq.eventDataTransform)}for(var br=0;br<bs.length;br++){bs[br].source=bq;a4(bs[br])}ba=ba.concat(bs)}bm--;if(!bm){be(ba)}}})}function bf(bp,bz){var bu;var by=aJ.sourceFetchers;var bw;for(bu=0;bu<by.length;bu++){bw=by[bu](bp,bl,bh,bz);if(bw===true){return}else{if(typeof bw=="object"){bf(bw,bz);return}}}var bB=bp.events;if(bB){if(aD.isFunction(bB)){a3();bB(X(bl),X(bh),function(bC){bz(bC);bn()})}else{if(aD.isArray(bB)){bz(bB)}else{bz()}}}else{var bq=bp.url;if(bq){var bA=bp.success;var bx=bp.error;var br=bp.complete;var bt=aD.extend({},bp.data||{});var bv=aR(bp.startParam,aZ.startParam);var bs=aR(bp.endParam,aZ.endParam);if(bv){bt[bv]=Math.round(+bl/1000)}if(bs){bt[bs]=Math.round(+bh/1000)}a3();aD.ajax(aD.extend({},u,bp,{data:bt,success:function(bD){bD=bD||[];var bC=S(bA,this,arguments);if(aD.isArray(bC)){bD=bC}bz(bD)},error:function(){S(bx,this,arguments);bz()},complete:function(){S(br,this,arguments);bn()}}))}else{bz()}}}function aW(bp){bp=bd(bp);if(bp){bm++;a0(bp,aV)}}function bd(bp){if(aD.isFunction(bp)||aD.isArray(bp)){bp={events:bp}}else{if(typeof bp=="string"){bp={url:bp}}}if(typeof bp=="object"){a6(bp);aU.push(bp);return bp}}function aX(bp){aU=aD.grep(aU,function(bq){return !a2(bq,bp)});ba=aD.grep(ba,function(bq){return !a2(bq.source,bp)});be(ba)}function bc(bu){var bs,bq=ba.length,bv,bp=aT().defaultEventEnd,bt=bu.start-bu._start,br=bu.end?(bu.end-(bu._end||bp(bu))):0;for(bs=0;bs<bq;bs++){bv=ba[bs];if(bv._id==bu._id&&bv!=bu){bv.start=new Date(+bv.start+bt);if(bu.end){if(bv.end){bv.end=new Date(+bv.end+br)}else{bv.end=new Date(+bp(bv)+br)}}else{bv.end=null}bv.title=bu.title;bv.url=bu.url;bv.allDay=bu.allDay;bv.className=bu.className;bv.editable=bu.editable;bv.color=bu.color;bv.backgroudColor=bu.backgroudColor;bv.borderColor=bu.borderColor;bv.textColor=bu.textColor;a4(bv)}}a4(bu);be(ba)}function a5(bq,bp){a4(bq);if(!bq.source){if(bp){bg.events.push(bq);bq.source=bg}ba.push(bq)}be(ba)}function bo(bq){if(!bq){ba=[];for(var bp=0;bp<aU.length;bp++){if(aD.isArray(aU[bp].events)){aU[bp].events=[]}}}else{if(!aD.isFunction(bq)){var br=bq+"";bq=function(bs){return bs._id==br}}ba=aD.grep(ba,bq,true);for(var bp=0;bp<aU.length;bp++){if(aD.isArray(aU[bp].events)){aU[bp].events=aD.grep(aU[bp].events,bq,true)}}}be(ba)}function bi(bp){if(aD.isFunction(bp)){return aD.grep(ba,bp)}else{if(bp){bp+="";return aD.grep(ba,function(bq){return bq._id==bp})}}return ba}function a3(){if(!bk++){bb("loading",null,true)}}function bn(){if(!--bk){bb("loading",null,false)}}function a4(bq){var br=bq.source||{};var bp=aR(br.ignoreTimezone,aZ.ignoreTimezone);bq._id=bq._id||(bq.id===G?"_fc"+ag++:bq.id+"");if(bq.date){if(!bq.start){bq.start=bq.date}delete bq.date}bq._start=X(bq.start=ak(bq.start,bp));bq.end=ak(bq.end,bp);if(bq.end&&bq.end<=bq.start){bq.end=null}bq._end=bq.end?X(bq.end):null;if(bq.allDay===G){bq.allDay=aR(br.allDayDefault,aZ.allDayDefault)}if(bq.className){if(typeof bq.className=="string"){bq.className=bq.className.split(/\s+/)}}else{bq.className=[]}}function a6(br){if(br.className){if(typeof br.className=="string"){br.className=br.className.split(/\s+/)}}else{br.className=[]}var bq=aJ.sourceNormalizers;for(var bp=0;bp<bq.length;bp++){bq[bp](br)}}function a2(bq,bp){return bq&&bp&&aY(bq)==aY(bp)}function aY(bp){return((typeof bp=="object")?(bp.events||bp.url):"")||bp}}aJ.addDays=aL;aJ.cloneDate=X;aJ.parseDate=ak;aJ.parseISO8601=y;aJ.parseTime=aP;aJ.formatDate=L;aJ.formatDates=n;var aa=["sun","mon","tue","wed","thu","fri","sat"],aF=86400000,av=3600000,af=60000;function at(aU,aV,aT){aU.setFullYear(aU.getFullYear()+aV);if(!aT){b(aU)}return aU}function z(aW,aX,aV){if(+aW){var aT=aW.getMonth()+aX,aU=X(aW);aU.setDate(1);aU.setMonth(aT);aW.setMonth(aT);if(!aV){b(aW)}while(aW.getMonth()!=aU.getMonth()){aW.setDate(aW.getDate()+(aW<aU?1:-1))}}return aW}function aL(aW,aX,aV){if(+aW){var aT=aW.getDate()+aX,aU=X(aW);aU.setHours(9);aU.setDate(aT);aW.setDate(aT);if(!aV){b(aW)}aN(aW,aU)}return aW}function aN(aU,aT){if(+aU){while(aU.getDate()!=aT.getDate()){aU.setTime(+aU+(aU<aT?1:-1)*av)}}}function l(aT,aU){aT.setMinutes(aT.getMinutes()+aU);return aT}function b(aT){aT.setHours(0);aT.setMinutes(0);aT.setSeconds(0);aT.setMilliseconds(0);return aT}function X(aT,aU){if(aU){return b(new Date(+aT))}return new Date(+aT)}function g(){var aT=0,aU;do{aU=new Date(1970,aT++,1)}while(aU.getHours());return aU}function aQ(aT,aU,aV){aU=aU||1;while(!aT.getDay()||(aV&&aT.getDay()==1||!aV&&aT.getDay()==6)){aL(aT,aU)}return aT}function aI(aU,aT){return Math.round((X(aU,true)-X(aT,true))/aF)}function J(aU,aW,aT,aV){if(aW!==G&&aW!=aU.getFullYear()){aU.setDate(1);aU.setMonth(0);aU.setFullYear(aW)}if(aT!==G&&aT!=aU.getMonth()){aU.setDate(1);aU.setMonth(aT)}if(aV!==G){aU.setDate(aV)}}function ak(aU,aT){if(typeof aU=="object"){return aU}if(typeof aU=="number"){return new Date(aU*1000)}if(typeof aU=="string"){if(aU.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(aU)*1000)}if(aT===G){aT=true}return y(aU,aT)||(aU?new Date(aU):null)}return null}function y(aX,aU){var aT=aX.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!aT){return null}var aW=new Date(aT[1],0,1);if(aU||!aT[13]){var aV=new Date(aT[1],0,1,9,0);if(aT[3]){aW.setMonth(aT[3]-1);aV.setMonth(aT[3]-1)}if(aT[5]){aW.setDate(aT[5]);aV.setDate(aT[5])}aN(aW,aV);if(aT[7]){aW.setHours(aT[7])}if(aT[8]){aW.setMinutes(aT[8])}if(aT[10]){aW.setSeconds(aT[10])}if(aT[12]){aW.setMilliseconds(Number("0."+aT[12])*1000)}aN(aW,aV)}else{aW.setUTCFullYear(aT[1],aT[3]?aT[3]-1:0,aT[5]||1);aW.setUTCHours(aT[7]||0,aT[8]||0,aT[10]||0,aT[12]?Number("0."+aT[12])*1000:0);if(aT[14]){var aY=Number(aT[16])*60+(aT[18]?Number(aT[18]):0);aY*=aT[15]=="-"?1:-1;aW=new Date(+aW+(aY*60*1000))}}return aW}function aP(aV){if(typeof aV=="number"){return aV*60}if(typeof aV=="object"){return aV.getHours()*60+aV.getMinutes()}var aT=aV.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(aT){var aU=parseInt(aT[1],10);if(aT[3]){aU%=12;if(aT[3].toLowerCase().charAt(0)=="p"){aU+=12}}return aU*60+(aT[2]?parseInt(aT[2],10):0)}}function L(aU,aV,aT){return n(aU,null,aV,aT)}function n(a5,a4,a3,a6){a6=a6||W;var aU=a5,aW=a4,aX,aY=a3.length,a0,aV,a2,aZ="";for(aX=0;aX<aY;aX++){a0=a3.charAt(aX);if(a0=="'"){for(aV=aX+1;aV<aY;aV++){if(a3.charAt(aV)=="'"){if(aU){if(aV==aX+1){aZ+="'"}else{aZ+=a3.substring(aX+1,aV)}aX=aV}break}}}else{if(a0=="("){for(aV=aX+1;aV<aY;aV++){if(a3.charAt(aV)==")"){var aT=L(aU,a3.substring(aX+1,aV),a6);if(parseInt(aT.replace(/\D/,""),10)){aZ+=aT}aX=aV;break}}}else{if(a0=="["){for(aV=aX+1;aV<aY;aV++){if(a3.charAt(aV)=="]"){var a1=a3.substring(aX+1,aV);var aT=L(aU,a1,a6);if(aT!=L(aW,a1,a6)){aZ+=aT}aX=aV;break}}}else{if(a0=="{"){aU=a4;aW=a5}else{if(a0=="}"){aU=a5;aW=a4}else{for(aV=aY;aV>aX;aV--){if(a2=aH[a3.substring(aX,aV)]){if(aU){aZ+=a2(aU,a6)}aX=aV-1;break}}if(aV==aX){if(aU){aZ+=a0}}}}}}}}return aZ}var aH={s:function(aT){return aT.getSeconds()},ss:function(aT){return al(aT.getSeconds())},m:function(aT){return aT.getMinutes()},mm:function(aT){return al(aT.getMinutes())},h:function(aT){return aT.getHours()%12||12},hh:function(aT){return al(aT.getHours()%12||12)},H:function(aT){return aT.getHours()},HH:function(aT){return al(aT.getHours())},d:function(aT){return aT.getDate()},dd:function(aT){return al(aT.getDate())},ddd:function(aU,aT){return aT.dayNamesShort[aU.getDay()]},dddd:function(aU,aT){return aT.dayNames[aU.getDay()]},M:function(aT){return aT.getMonth()+1},MM:function(aT){return al(aT.getMonth()+1)},MMM:function(aU,aT){return aT.monthNamesShort[aU.getMonth()]},MMMM:function(aU,aT){return aT.monthNames[aU.getMonth()]},yy:function(aT){return(aT.getFullYear()+"").substring(2)},yyyy:function(aT){return aT.getFullYear()},t:function(aT){return aT.getHours()<12?"a":"p"},tt:function(aT){return aT.getHours()<12?"am":"pm"},T:function(aT){return aT.getHours()<12?"A":"P"},TT:function(aT){return aT.getHours()<12?"AM":"PM"},u:function(aT){return L(aT,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(aU){var aT=aU.getDate();if(aT>10&&aT<20){return"th"}return["st","nd","rd"][aT%10-1]||"th"},w:function(aU,aT){return aT.weekNumberCalculation(aU)},W:function(aT){return H(aT)}};aJ.dateFormatters=aH;function H(aT){var aU;var aV=new Date(aT.getTime());aV.setDate(aV.getDate()+4-(aV.getDay()||7));aU=aV.getTime();aV.setMonth(0);aV.setDate(1);return Math.floor(Math.round((aU-aV)/86400000)/7)+1}aJ.applyAll=S;function ay(aT){if(aT.end){return B(aT.end,aT.allDay)}else{return aL(X(aT.start),1)}}function B(aT,aU){aT=X(aT);return aU||aT.getHours()||aT.getMinutes()?aL(aT,1):b(aT)}function E(aU,aT){return(aT.msLength-aU.msLength)*100+(aU.event.start-aT.event.start)}function Y(aU,aT){return aU.end>aT.start&&aU.start<aT.end}function am(a5,aZ,aV,aY){var aW=[],a0,a2=a5.length,aU,a3,a1,a4,a6,aT,aX;for(a0=0;a0<a2;a0++){aU=a5[a0];a3=aU.start;a1=aZ[a0];if(a1>aV&&a3<aY){if(a3<aV){a4=X(aV);aT=false}else{a4=a3;aT=true}if(a1>aY){a6=X(aY);aX=false}else{a6=a1;aX=true}aW.push({event:aU,start:a4,end:a6,isStart:aT,isEnd:aX,msLength:a6-a4})}}return aW.sort(E)}function ar(aV){var aZ=[],aY,aT=aV.length,aU,aX,a0,aW;for(aY=0;aY<aT;aY++){aU=aV[aY];aX=0;while(true){a0=false;if(aZ[aX]){for(aW=0;aW<aZ[aX].length;aW++){if(Y(aZ[aX][aW],aU)){a0=true;break}}}if(a0){aX++}else{break}}if(aZ[aX]){aZ[aX].push(aU)}else{aZ[aX]=[aU]}}return aZ}function F(aU,aT,aV){aU.unbind("mouseover").mouseover(function(aZ){var aY=aZ.target,a0,aX,aW;while(aY!=this){a0=aY;aY=aY.parentNode}if((aX=a0._fci)!==G){a0._fci=G;aW=aT[aX];aV(aW.event,aW.element,aW);aD(aZ.target).trigger(aZ)}aZ.stopPropagation()})}function aE(aV,aW,aT){for(var aU=0,aX;aU<aV.length;aU++){aX=aD(aV[aU]);aX.width(Math.max(0,aW-k(aX,aT)))}}function aj(aW,aT,aU){for(var aV=0,aX;aV<aW.length;aV++){aX=aD(aW[aV]);aX.height(Math.max(0,aT-P(aX,aU)))}}function k(aU,aT){return aq(aU)+A(aU)+(aT?ap(aU):0)}function aq(aT){return(parseFloat(aD.css(aT[0],"paddingLeft",true))||0)+(parseFloat(aD.css(aT[0],"paddingRight",true))||0)}function ap(aT){return(parseFloat(aD.css(aT[0],"marginLeft",true))||0)+(parseFloat(aD.css(aT[0],"marginRight",true))||0)}function A(aT){return(parseFloat(aD.css(aT[0],"borderLeftWidth",true))||0)+(parseFloat(aD.css(aT[0],"borderRightWidth",true))||0)}function P(aU,aT){return I(aU)+aA(aU)+(aT?o(aU):0)}function I(aT){return(parseFloat(aD.css(aT[0],"paddingTop",true))||0)+(parseFloat(aD.css(aT[0],"paddingBottom",true))||0)}function o(aT){return(parseFloat(aD.css(aT[0],"marginTop",true))||0)+(parseFloat(aD.css(aT[0],"marginBottom",true))||0)}function aA(aT){return(parseFloat(aD.css(aT[0],"borderTopWidth",true))||0)+(parseFloat(aD.css(aT[0],"borderBottomWidth",true))||0)}function T(aU,aT){aT=(typeof aT=="number"?aT+"px":aT);aU.each(function(aW,aV){aV.style.cssText+=";min-height:"+aT+";_height:"+aT})}function aB(){}function ah(aU,aT){return aU-aT}function aC(aT){return Math.max.apply(Math,aT)}function al(aT){return(aT<10?"0":"")+aT}function O(aX,aT){if(aX[aT]!==G){return aX[aT]}var aW=aT.split(/(?=[A-Z])/),aV=aW.length-1,aU;for(;aV>=0;aV--){aU=aX[aW[aV].toLowerCase()];if(aU!==G){return aU}}return aX[""]}function aO(aT){return aT.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function R(aT){return aT.id+"/"+aT.className+"/"+aT.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function aS(aT){aT.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function e(aT){aT.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function V(aT,aU){aT.each(function(aV,aW){aW.className=aW.className.replace(/^fc-\w*/,"fc-"+aa[aU.getDay()])})}function ab(aU,aV){var aT=aU.source||{};var a0=aU.color;var aY=aT.color;var aX=aV("eventColor");var a1=aU.backgroundColor||a0||aT.backgroundColor||aY||aV("eventBackgroundColor")||aX;var aW=aU.borderColor||a0||aT.borderColor||aY||aV("eventBorderColor")||aX;var a2=aU.textColor||aT.textColor||aV("eventTextColor");var aZ=[];if(a1){aZ.push("background-color:"+a1)}if(aW){aZ.push("border-color:"+aW)}if(a2){aZ.push("color:"+a2)}return aZ.join(";")}function S(aW,aX,aU){if(aD.isFunction(aW)){aW=[aW]}if(aW){var aV;var aT;for(aV=0;aV<aW.length;aV++){aT=aW[aV].apply(aX,aU)||aT}return aT}}function aR(){for(var aT=0;aT<arguments.length;aT++){if(arguments[aT]!==G){return arguments[aT]}}}ao.month=an;function an(aW,aZ){var aV=this;aV.render=aX;K.call(aV,aW,aZ,"month");var aU=aV.opt;var aT=aV.renderBasic;var aY=aZ.formatDate;function aX(a3,a7){if(a7){z(a3,a7);a3.setDate(1)}var a1=X(a3,true);a1.setDate(1);var a4=z(X(a1),1);var a8=X(a1);var a5=X(a4);var a0=aU("firstDay");var a2=aU("weekends")?0:1;if(a2){aQ(a8);aQ(a5,-1,true)}aL(a8,-((a8.getDay()-Math.max(a0,a2)+7)%7));aL(a5,(7-a5.getDay()+Math.max(a0,a2))%7);var a6=Math.round((a5-a8)/(aF*7));if(aU("weekMode")=="fixed"){aL(a5,(6-a6)*7);a6=6}aV.title=aY(a1,aU("titleFormat"));aV.start=a1;aV.end=a4;aV.visStart=a8;aV.visEnd=a5;aT(a6,a2?5:7,true)}}ao.basicWeek=aK;function aK(aX,aZ){var aW=this;aW.render=aY;K.call(aW,aX,aZ,"basicWeek");var aV=aW.opt;var aU=aW.renderBasic;var aT=aZ.formatDates;function aY(a4,a6){if(a6){aL(a4,a6*7)}var a5=aL(X(a4),-((a4.getDay()-aV("firstDay")+7)%7));var a2=aL(X(a5),7);var a1=X(a5);var a0=X(a2);var a3=aV("weekends");if(!a3){aQ(a1);aQ(a0,-1,true)}aW.title=aT(a1,aL(X(a0),-1),aV("titleFormat"));aW.start=a5;aW.end=a2;aW.visStart=a1;aW.visEnd=a0;aU(1,a3?7:5,false)}}ao.basicDay=U;function U(aW,aZ){var aV=this;aV.render=aX;K.call(aV,aW,aZ,"basicDay");var aU=aV.opt;var aT=aV.renderBasic;var aY=aZ.formatDate;function aX(a0,a1){if(a1){aL(a0,a1);if(!aU("weekends")){aQ(a0,a1<0?-1:1)}}aV.title=aY(a0,aU("titleFormat"));aV.start=aV.visStart=X(a0,true);aV.end=aV.visEnd=aL(X(aV.start),1);aT(1,1,false)}}au({weekMode:"fixed"});function K(bb,bF,a2){var bE=this;bE.renderBasic=bw;bE.setHeight=bC;bE.setWidth=bN;bE.renderDayOverlay=bt;bE.defaultSelectionEnd=bs;bE.renderSelection=bG;bE.clearSelection=aT;bE.reportDayClick=a9;bE.dragStart=aV;bE.dragStop=a3;bE.defaultEventEnd=bU;bE.getHoverListener=function(){return aW};bE.colContentLeft=bB;bE.colContentRight=by;bE.dayOfWeekCol=bn;bE.dateCell=bz;bE.cellDate=bT;bE.cellIsAllDay=function(){return true};bE.allDayRow=a8;bE.allDayBounds=bK;bE.getRowCnt=function(){return bk};bE.getColCnt=function(){return aY};bE.getColWidth=function(){return bo};bE.getDaySegmentContainer=function(){return a6};aM.call(bE,bb,bF,a2);a.call(bE);ax.call(bE);aw.call(bE);var bg=bE.opt;var bu=bE.trigger;var br=bE.clearEvents;var bQ=bE.renderOverlay;var a1=bE.clearOverlays;var bA=bE.daySelectionMousedown;var bD=bF.formatDate;var bi;var ba;var a4;var bm;var a0;var bc;var bp;var bx;var a6;var bR;var bW;var bo;var a5;var bk,aY;var bI;var aW;var bL;var bH,bV,bS;var bj;var bf;var bX;var aZ;var be;var bJ;var bq;aS(bb.addClass("fc-grid"));function bw(bZ,b1,bY){bk=bZ;aY=b1;bO();var b0=!bm;if(b0){aU()}else{br()}bl(bY)}function bO(){bH=bg("isRTL");if(bH){bV=-1;bS=aY-1}else{bV=1;bS=0}bj=bg("firstDay");bf=bg("weekends")?0:1;bX=bg("theme")?"ui":"fc";aZ=bg("columnFormat");be=bg("weekNumbers");bJ=bg("weekNumberTitle");if(bg("weekNumberCalculation")!="iso"){bq="w"}else{bq="W"}}function aU(){a6=aD("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bb)}function bl(b7){var b3="";var b2,b1;var bY=bX+"-widget-header";var bZ=bX+"-widget-content";var b4=bE.start.getMonth();var b5=b(new Date());var b0;var b6;var b8;b3+="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";if(be){b3+="<th class='fc-week-number "+bY+"'/>"}for(b2=0;b2<aY;b2++){b0=bh(0,b2);b3+="<th class='fc-day-header fc-"+aa[b0.getDay()]+" "+bY+"'/>"}b3+="</tr></thead><tbody>";for(b2=0;b2<bk;b2++){b3+="<tr class='fc-week'>";if(be){b3+="<td class='fc-week-number "+bZ+"'><div/></td>"}for(b1=0;b1<aY;b1++){b0=bh(b2,b1);b6=["fc-day","fc-"+aa[b0.getDay()],bZ];if(b0.getMonth()!=b4){b6.push("fc-other-month")}if(+b0==+b5){b6.push("fc-today");b6.push(bX+"-state-highlight")}b3+="<td class='"+b6.join(" ")+"' data-date='"+bD(b0,"yyyy-MM-dd")+"'><div>";if(b7){b3+="<div class='fc-day-number'>"+b0.getDate()+"</div>"}b3+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}b3+="</tr>"}b3+="</tbody></table>";a7();if(bi){bi.remove()}bi=aD(b3).appendTo(bb);ba=bi.find("thead");a4=ba.find(".fc-day-header");bm=bi.find("tbody");a0=bm.find("tr");bc=bm.find(".fc-day");bp=a0.find("td:first-child");bx=a0.eq(0).find(".fc-day-content > div");e(ba.add(ba.find("tr")));e(a0);a0.eq(0).addClass("fc-first");a0.filter(":last").addClass("fc-last");if(be){ba.find(".fc-week-number").text(bJ)}a4.each(function(ca,cb){var b9=bv(ca);aD(cb).text(bD(b9,aZ))});if(be){bm.find(".fc-week-number > div").each(function(ca,cb){var b9=bh(ca,0);aD(cb).text(bD(b9,bq))})}bc.each(function(ca,cb){var b9=bv(ca);bu("dayRender",bE,b9,aD(cb))});aX(bc)}function bC(bZ){bW=bZ;var b2=bW-ba.height();var b1;var b0;var bY;if(bg("weekMode")=="variable"){b1=b0=Math.floor(b2/(bk==1?2:6))}else{b1=Math.floor(b2/bk);b0=b2-b1*(bk-1)}bp.each(function(b3,b4){if(b3<bk){bY=aD(b4);T(bY.find("> div"),(b3==bk-1?b0:b1)-P(bY))}});bd()}function bN(bY){bR=bY;bL.clear();a5=0;if(be){a5=ba.find("th.fc-week-number").outerWidth()}bo=Math.floor((bR-a5)/aY);aE(a4.slice(0,-1),bo)}function aX(bY){bY.click(bP).mousedown(bA)}function bP(bZ){if(!bg("selectable")){var bY=y(aD(this).data("date"));bu("dayClick",this,bY,true,bZ)}}function bt(b3,b7,b1){if(b1){bI.build()}var bY=X(bE.visStart);var b4=aL(X(bY),aY);for(var b0=0;b0<bk;b0++){var b2=new Date(Math.max(bY,b3));var b6=new Date(Math.min(b4,b7));if(b2<b6){var bZ,b5;if(bH){bZ=aI(b6,bY)*bV+bS+1;b5=aI(b2,bY)*bV+bS+1}else{bZ=aI(b2,bY);b5=aI(b6,bY)}aX(bM(b0,bZ,b0,b5-1))}aL(bY,7);aL(b4,7)}}function bM(b1,b2,bZ,b0){var bY=bI.rect(b1,b2,bZ,b0,bb);return bQ(bY,bb)}function bs(bY,bZ){return X(bY)}function bG(bY,b0,bZ){bt(bY,aL(X(b0),1),true)}function aT(){a1()}function a9(b0,b2,b1){var bY=bz(b0);var bZ=bc[bY.row*aY+bY.col];bu("dayClick",bZ,b0,b2,b1)}function aV(b0,bY,bZ){aW.start(function(b1){a1();if(b1){bM(b1.row,b1.col,b1.row,b1.col)}},bY)}function a3(b2,bZ,b0){var bY=aW.stop();a1();if(bY){var b1=bT(bY);bu("drop",b2,b1,true,bZ,b0)}}function bU(bY){return X(bY.start)}bI=new Z(function(bY,b1){var b0,b2,bZ;a4.each(function(b4,b3){b0=aD(b3);b2=b0.offset().left;if(b4){bZ[1]=b2}bZ=[b2];b1[b4]=bZ});bZ[1]=b2+b0.outerWidth();a0.each(function(b4,b3){if(b4<bk){b0=aD(b3);b2=b0.offset().top;if(b4){bZ[1]=b2}bZ=[b2];bY[b4]=bZ}});bZ[1]=b2+b0.outerHeight()});aW=new az(bI);bL=new q(function(bY){return bx.eq(bY)});function bB(bY){return bL.left(bY)}function by(bY){return bL.right(bY)}function bz(bY){return{row:Math.floor(aI(bY,bE.visStart)/7),col:bn(bY.getDay())}}function bT(bY){return bh(bY.row,bY.col)}function bh(bZ,bY){return aL(X(bE.visStart),bZ*7+bY*bV+bS)}function bv(bY){return bh(Math.floor(bY/aY),bY%aY)}function bn(bY){return((bY-Math.max(bj,bf)+aY)%aY)*bV+bS}function a8(bY){return a0.eq(bY)}function bK(bY){var bZ=0;if(be){bZ+=a5}return{left:bZ,right:bR}}function a7(){T(bb,bb.height())}function bd(){T(bb,1)}}function aw(){var a4=this;a4.renderEvents=aZ;a4.compileDaySegs=a3;a4.clearEvents=a2;a4.bindDaySeg=aY;ai.call(a4);var aV=a4.opt;var a6=a4.trigger;var ba=a4.isEventDraggable;var bc=a4.isEventResizable;var bb=a4.reportEvents;var bf=a4.reportEventClear;var aU=a4.eventElementHandlers;var bd=a4.showEvents;var aT=a4.hideEvents;var a8=a4.eventDrop;var bg=a4.getDaySegmentContainer;var be=a4.getHoverListener;var a1=a4.renderDayOverlay;var a7=a4.clearOverlays;var aX=a4.getRowCnt;var a9=a4.getColCnt;var a5=a4.renderDaySegs;var a0=a4.resizableDayEvent;function aZ(bi,bh){bb(bi);a5(a3(bi),bh);a6("eventAfterAllRender")}function a2(){bf();bg().empty()}function a3(bs){var bp=aX(),br=a9(),bj=X(a4.visStart),bh=aL(X(bj),br),bq=aD.map(bs,ay),bo,bt,bn,bi,bl,bm,bk=[];for(bo=0;bo<bp;bo++){bt=ar(am(bs,bq,bj,bh));for(bn=0;bn<bt.length;bn++){bi=bt[bn];for(bl=0;bl<bi.length;bl++){bm=bi[bl];bm.row=bo;bm.level=bn;bk.push(bm)}}aL(bj,7);aL(bh,7)}return bk}function aY(bj,bi,bh){if(ba(bj)){aW(bj,bi)}if(bh.isEnd&&bc(bj)){a0(bj,bi,bh)}aU(bj,bi)}function aW(bk,bj){var bi=be();var bh;bj.draggable({zIndex:9,delay:50,opacity:aV("dragOpacity"),revertDuration:aV("dragRevertDuration"),start:function(bl,bm){a6("eventDragStart",bj,bk,bl,bm);aT(bk,bj);bi.start(function(bo,bn,bp,bq){bj.draggable("option","revert",!bo||!bp&&!bq);a7();if(bo){bh=bp*7+bq*(aV("isRTL")?-1:1);a1(aL(X(bk.start),bh),aL(ay(bk),bh))}else{bh=0}},bl,"drag")},stop:function(bl,bm){bi.stop();a7();a6("eventDragStop",bj,bk,bl,bm);if(bh){a8(this,bk,bh,0,bk.allDay,bl,bm)}else{bj.css("filter","");bd(bk,bj)}}})}}ao.agendaWeek=j;function j(aX,aZ){var aW=this;aW.render=aY;Q.call(aW,aX,aZ,"agendaWeek");var aV=aW.opt;var aU=aW.renderAgenda;var aT=aZ.formatDates;function aY(a4,a6){if(a6){aL(a4,a6*7)}var a5=aL(X(a4),-((a4.getDay()-aV("firstDay")+7)%7));var a2=aL(X(a5),7);var a1=X(a5);var a0=X(a2);var a3=aV("weekends");if(!a3){aQ(a1);aQ(a0,-1,true)}aW.title=aT(a1,aL(X(a0),-1),aV("titleFormat"));aW.start=a5;aW.end=a2;aW.visStart=a1;aW.visEnd=a0;aU(a3?7:5)}}ao.agendaDay=aG;function aG(aW,aZ){var aV=this;aV.render=aX;Q.call(aV,aW,aZ,"agendaDay");var aU=aV.opt;var aT=aV.renderAgenda;var aY=aZ.formatDate;function aX(a1,a3){if(a3){aL(a1,a3);if(!aU("weekends")){aQ(a1,a3<0?-1:1)}}var a2=X(a1,true);var a0=aL(X(a2),1);aV.title=aY(a1,aU("titleFormat"));aV.start=aV.visStart=a2;aV.end=aV.visEnd=a0;aT(1)}}au({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});function Q(cn,bb,bp){var bm=this;bm.renderAgenda=a5;bm.setWidth=bA;bm.setHeight=bw;bm.beforeHide=bu;bm.afterShow=cc;bm.defaultEventEnd=b6;bm.timePosition=cq;bm.dayOfWeekCol=a6;bm.dateCell=ch;bm.cellDate=aX;bm.cellIsAllDay=cg;bm.allDayRow=bS;bm.allDayBounds=bE;bm.getHoverListener=function(){return cl};bm.colContentLeft=cr;bm.colContentRight=a2;bm.getDaySegmentContainer=function(){return bh};bm.getSlotSegmentContainer=function(){return a0};bm.getMinMinute=function(){return bs};bm.getMaxMinute=function(){return aV};bm.getBodyContent=function(){return bR};bm.getRowCnt=function(){return 1};bm.getColCnt=function(){return bU};bm.getColWidth=function(){return a3};bm.getSnapHeight=function(){return ci};bm.getSnapMinutes=function(){return bF};bm.defaultSelectionEnd=bz;bm.renderDayOverlay=aY;bm.renderSelection=cf;bm.clearSelection=b9;bm.reportDayClick=bk;bm.dragStart=a4;bm.dragStop=co;aM.call(bm,cn,bb,bp);a.call(bm);ax.call(bm);ae.call(bm);var bP=bm.opt;var bT=bm.trigger;var bO=bm.clearEvents;var bD=bm.renderOverlay;var aW=bm.clearOverlays;var bG=bm.reportSelection;var cd=bm.unselect;var bL=bm.daySelectionMousedown;var bd=bm.slotSegHtml;var bi=bb.formatDate;var b3;var cj;var b8;var b7;var bo;var aZ;var b5;var b1;var cp;var bh;var ck;var cb;var bB;var bR;var a0;var a7;var b0;var bt;var bj;var a1;var bI;var bY;var bx;var a3;var bM;var bV;var bF;var bc;var ci;var bU;var bZ;var bW;var cl;var bJ;var bq={};var aT;var bC;var bv;var bN;var aU,bf,be;var bs,aV;var a9;var b4;var bQ;var bH;aS(cn.addClass("fc-agenda"));function a5(cs){bU=cs;bX();if(!b3){bn()}else{bO()}ba()}function bX(){bC=bP("theme")?"ui":"fc";bN=bP("weekends")?0:1;bv=bP("firstDay");if(aU=bP("isRTL")){bf=-1;be=bU-1}else{bf=1;be=0}bs=aP(bP("minTime"));aV=aP(bP("maxTime"));a9=bP("columnFormat");b4=bP("weekNumbers");bQ=bP("weekNumberTitle");if(bP("weekNumberCalculation")!="iso"){bH="w"}else{bH="W"}bF=bP("snapMinutes")||bP("slotMinutes")}function bn(){var cx=bC+"-widget-header";var cs=bC+"-widget-content";var cw;var cv;var cz;var cy;var cu;var ct=bP("slotMinutes")%15==0;cw="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr>";if(b4){cw+="<th class='fc-agenda-axis fc-week-number "+cx+"'/>"}else{cw+="<th class='fc-agenda-axis "+cx+"'>&nbsp;</th>"}for(cv=0;cv<bU;cv++){cw+="<th class='fc- fc-col"+cv+" "+cx+"'/>"}cw+="<th class='fc-agenda-gutter "+cx+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+cx+"'>&nbsp;</th>";for(cv=0;cv<bU;cv++){cw+="<td class='fc- fc-col"+cv+" "+cs+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}cw+="<td class='fc-agenda-gutter "+cs+"'>&nbsp;</td></tr></tbody></table>";b3=aD(cw).appendTo(cn);cj=b3.find("thead");b8=cj.find("th").slice(1,-1);b7=b3.find("tbody");bo=b7.find("td").slice(0,-1);aZ=bo.find("div.fc-day-content div");b5=bo.eq(0);b1=b5.find("> div");e(cj.add(cj.find("tr")));e(b7.add(b7.find("tr")));bt=cj.find("th:first");bj=b3.find(".fc-agenda-gutter");cp=aD("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(cn);if(bP("allDaySlot")){bh=aD("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(cp);cw="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+cx+" fc-agenda-axis'>"+bP("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+cx+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ck=aD(cw).appendTo(cp);cb=ck.find("tr");by(cb.find("td"));bt=bt.add(ck.find("th:first"));bj=bj.add(ck.find("th.fc-agenda-gutter"));cp.append("<div class='fc-agenda-divider "+cx+"'><div class='fc-agenda-divider-inner'/></div>")}else{bh=aD([])}bB=aD("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(cp);bR=aD("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(bB);a0=aD("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bR);cw="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";cz=g();cy=l(X(cz),aV);l(cz,bs);bZ=0;for(cv=0;cz<cy;cv++){cu=cz.getMinutes();cw+="<tr class='fc-slot"+cv+" "+(!cu?"":"fc-minor")+"'><th class='fc-agenda-axis "+cx+"'>"+((!ct||!cu)?bi(cz,bP("axisFormat")):"&nbsp;")+"</th><td class='"+cs+"'><div style='position:relative'>&nbsp;</div></td></tr>";l(cz,bP("slotMinutes"));bZ++}cw+="</tbody></table>";a7=aD(cw).appendTo(bR);b0=a7.find("div:first");ca(a7.find("td"));bt=bt.add(a7.find("th:first"))}function ba(){var cv;var cs;var cx;var cu;var ct=b(new Date());if(b4){var cw=bi(bK(0),bH);if(aU){cw=cw+bQ}else{cw=bQ+cw}cj.find(".fc-week-number").text(cw)}for(cv=0;cv<bU;cv++){cu=bK(cv);cs=b8.eq(cv);cs.html(bi(cu,a9));cx=bo.eq(cv);if(+cu==+ct){cx.addClass(bC+"-state-highlight fc-today")}else{cx.removeClass(bC+"-state-highlight fc-today")}V(cs.add(cx),cu)}}function bw(cs,ct){if(cs===G){cs=bY}bY=cs;bq={};var cv=b7.position().top;var cu=bB.position().top;var cw=Math.min(cs-cv,a7.height()+cu+1);b1.height(cw-P(b5));cp.css("top",cv);bB.height(cw-cu-1);bV=b0.height()+1;bc=bP("slotMinutes")/bF;ci=bV/bc;if(ct){br()}}function bA(ct){bI=ct;bJ.clear();bx=0;aE(bt.width("").each(function(cu,cv){bx=Math.max(bx,aD(cv).outerWidth())}),bx);var cs=bB[0].clientWidth;bM=bB.width()-cs;if(bM){aE(bj,bM);bj.show().prev().removeClass("fc-last")}else{bj.hide().prev().addClass("fc-last")}a3=Math.floor((cs-bx)/bU);aE(b8.slice(0,-1),a3)}function br(){var cv=g();var ct=X(cv);ct.setHours(bP("firstHour"));var cu=cq(cv,ct)+1;function cs(){bB.scrollTop(cu)}cs();setTimeout(cs,0)}function bu(){aT=bB.scrollTop()}function cc(){bB.scrollTop(aT)}function by(cs){cs.click(b2).mousedown(bL)}function ca(cs){cs.click(b2).mousedown(a8)}function b2(cw){if(!bP("selectable")){var cu=Math.min(bU-1,Math.floor((cw.pageX-b3.offset().left-bx)/a3));var ct=bK(cu);var cx=this.parentNode.className.match(/fc-slot(\d+)/);if(cx){var cv=parseInt(cx[1])*bP("slotMinutes");var cs=Math.floor(cv/60);ct.setHours(cs);ct.setMinutes(cv%60+bs);bT("dayClick",bo[cu],ct,false,cw)}else{bT("dayClick",bo[cu],ct,true,cw)}}}function aY(cs,cx,cu){if(cu){bW.build()}var ct=X(bm.visStart);var cw,cv;if(aU){cw=aI(cx,ct)*bf+be+1;cv=aI(cs,ct)*bf+be+1}else{cw=aI(cs,ct);cv=aI(cx,ct)}cw=Math.max(0,cw);cv=Math.min(bU,cv);if(cw<cv){by(bg(0,cw,0,cv-1))}}function bg(cv,cw,ct,cu){var cs=bW.rect(cv,cw,ct,cu,cp);return bD(cs,cp)}function bl(cx,cC){var cy=X(bm.visStart);var ct=aL(X(cy),1);for(var cv=0;cv<bU;cv++){var cw=new Date(Math.max(cy,cx));var cB=new Date(Math.min(ct,cC));if(cw<cB){var cu=cv*bf+be;var cA=bW.rect(0,cu,0,cu,bR);var cz=cq(cy,cw);var cs=cq(cy,cB);cA.top=cz;cA.height=cs-cz;ca(bD(cA,bR))}aL(cy,1);aL(ct,1)}}bW=new Z(function(cA,cy){var cw,ct,cs;b8.each(function(cD,cC){cw=aD(cC);ct=cw.offset().left;if(cD){cs[1]=ct}cs=[ct];cy[cD]=cs});cs[1]=ct+cw.outerWidth();if(bP("allDaySlot")){cw=cb;ct=cw.offset().top;cA[0]=[ct,ct+cw.outerHeight()]}var cz=bR.offset().top;var cB=bB.offset().top;var cv=cB+bB.outerHeight();function cx(cC){return Math.max(cB,Math.min(cv,cC))}for(var cu=0;cu<bZ*bc;cu++){cA.push([cx(cz+ci*cu),cx(cz+ci*(cu+1))])}});cl=new az(bW);bJ=new q(function(cs){return aZ.eq(cs)});function cr(cs){return bJ.left(cs)}function a2(cs){return bJ.right(cs)}function ch(cs){return{row:Math.floor(aI(cs,bm.visStart)/7),col:a6(cs.getDay())}}function aX(cs){var cu=bK(cs.col);var ct=cs.row;if(bP("allDaySlot")){ct--}if(ct>=0){l(cu,bs+ct*bF)}return cu}function bK(cs){return aL(X(bm.visStart),cs*bf+be)}function cg(cs){return bP("allDaySlot")&&!cs.row}function a6(cs){return((cs-Math.max(bv,bN)+bU)%bU)*bf+be}function cq(ct,cx){ct=X(ct,true);if(cx<l(X(ct),bs)){return 0}if(cx>=l(X(ct),aV)){return a7.height()}var cs=bP("slotMinutes"),cw=cx.getHours()*60+cx.getMinutes()-bs,cv=Math.floor(cw/cs),cu=bq[cv];if(cu===G){cu=bq[cv]=a7.find("tr:eq("+cv+") td div")[0].offsetTop}return Math.max(0,Math.round(cu-1+bV*((cw%cs)/cs)))}function bE(){return{left:bx,right:bI-bM}}function bS(cs){return cb}function b6(cs){var ct=X(cs.start);if(cs.allDay){return ct}return l(ct,bP("defaultEventMinutes"))}function bz(cs,ct){if(ct){return X(cs)}return l(X(cs),bP("slotMinutes"))}function cf(cs,cu,ct){if(ct){if(bP("allDaySlot")){aY(cs,aL(X(cu),1),true)}}else{ce(cs,cu)}}function ce(cs,cy){var cw=bP("selectHelper");bW.build();if(cw){var cu=aI(cs,bm.visStart)*bf+be;if(cu>=0&&cu<bU){var cv=bW.rect(0,cu,0,cu,bR);var cx=cq(cs,cs);var ct=cq(cs,cy);if(ct>cx){cv.top=cx;cv.height=ct-cx;cv.left+=2;cv.width-=5;if(aD.isFunction(cw)){var cz=cw(cs,cy);if(cz){cv.position="absolute";cv.zIndex=8;a1=aD(cz).css(cv).appendTo(bR)}}else{cv.isStart=true;cv.isEnd=true;a1=aD(bd({title:"",start:cs,end:cy,className:["fc-select-helper"],editable:false},cv));a1.css("opacity",bP("dragOpacity"))}if(a1){ca(a1);bR.append(a1);aE(a1,cv.width,true);aj(a1,cv.height,true)}}}}else{bl(cs,cy)}}function b9(){aW();if(a1){a1.remove();a1=null}}function a8(cs){if(cs.which==1&&bP("selectable")){cd(cs);var ct;cl.start(function(cv,cu){b9();if(cv&&cv.col==cu.col&&!cg(cv)){var cx=aX(cu);var cw=aX(cv);ct=[cx,l(X(cx),bF),cw,l(X(cw),bF)].sort(ah);ce(ct[0],ct[3])}else{ct=null}},cs);aD(document).one("mouseup",function(cu){cl.stop();if(ct){if(+ct[0]==+ct[1]){bk(ct[0],false,cu)}bG(ct[0],ct[3],false,cu)}})}}function bk(cs,cu,ct){bT("dayClick",bo[a6(cs.getDay())],cs,cu,ct)}function a4(cu,cs,ct){cl.start(function(cv){aW();if(cv){if(cg(cv)){bg(cv.row,cv.col,cv.row,cv.col)}else{var cx=aX(cv);var cw=l(X(cx),bP("defaultEventMinutes"));bl(cx,cw)}}},cs)}function co(cv,ct,cu){var cs=cl.stop();aW();if(cs){bT("drop",cv,aX(cs),cg(cs),ct,cu)}}}function ae(){var bu=this;bu.renderEvents=aY;bu.compileDaySegs=aT;bu.clearEvents=bf;bu.slotSegHtml=bg;bu.bindDaySeg=bd;ai.call(bu);var a8=bu.opt;var bh=bu.trigger;var aW=bu.isEventDraggable;var bz=bu.isEventResizable;var bA=bu.eventEnd;var a2=bu.reportEvents;var bD=bu.reportEventClear;var bk=bu.eventElementHandlers;var bp=bu.setHeight;var aX=bu.getDaySegmentContainer;var bC=bu.getSlotSegmentContainer;var aV=bu.getHoverListener;var aU=bu.getMaxMinute;var bm=bu.getMinMinute;var a1=bu.timePosition;var bo=bu.colContentLeft;var bn=bu.colContentRight;var br=bu.renderDaySegs;var bl=bu.resizableDayEvent;var bq=bu.getColCnt;var a9=bu.getColWidth;var bt=bu.getSnapHeight;var a4=bu.getSnapMinutes;var be=bu.getBodyContent;var a6=bu.reportEventElement;var aZ=bu.showEvents;var a7=bu.hideEvents;var bx=bu.eventDrop;var bb=bu.eventResize;var bi=bu.renderDayOverlay;var a0=bu.clearOverlays;var bv=bu.calendar;var bs=bv.formatDate;var ba=bv.formatDates;function aY(bI,bG){a2(bI);var bH,bF=bI.length,bJ=[],bE=[];for(bH=0;bH<bF;bH++){if(bI[bH].allDay){bJ.push(bI[bH])}else{bE.push(bI[bH])}}if(a8("allDaySlot")){br(aT(bJ),bG);bp()}a3(bc(bE),bG);bh("eventAfterAllRender")}function bf(){bD();aX().empty();bC().empty()}function aT(bI){var bK=ar(am(bI,aD.map(bI,ay),bu.visStart,bu.visEnd)),bH,bJ=bK.length,bL,bG,bF,bE=[];for(bH=0;bH<bJ;bH++){bL=bK[bH];for(bG=0;bG<bL.length;bG++){bF=bL[bG];bF.row=0;bF.level=bH;bE.push(bF)}}return bE}function bc(bQ){var bP=bq(),bN=bm(),bH=aU(),bO=l(X(bu.visStart),bN),bL=aD.map(bQ,bB),bM,bG,bK,bE,bI,bJ,bF=[];for(bM=0;bM<bP;bM++){bG=ar(am(bQ,bL,bO,l(X(bO),bH-bN)));N(bG);for(bK=0;bK<bG.length;bK++){bE=bG[bK];for(bI=0;bI<bE.length;bI++){bJ=bE[bI];bJ.col=bM;bJ.level=bK;bF.push(bJ)}}aL(bO,1,true)}return bF}function bB(bE){if(bE.end){return X(bE.end)}else{return l(X(bE.start),a8("defaultEventMinutes"))}}function a3(bU,bV){var b0,b3=bU.length,b2,bY,b4,bP,bM,bL,bG,bN,bK,bX,bE,bH,bO="",b5,b1,bJ,bF={},b8={},b7,b6,bS,bR,bZ=bC(),bI,bT,bQ,bW=bq();if(bI=a8("isRTL")){bT=-1;bQ=bW-1}else{bT=1;bQ=0}for(b0=0;b0<b3;b0++){b2=bU[b0];bY=b2.event;bP=a1(b2.start,b2.start);bM=a1(b2.start,b2.end);bL=b2.col;bG=b2.level;bN=b2.forward||0;bK=bo(bL*bT+bQ);bX=bn(bL*bT+bQ)-bK;bX=Math.min(bX-6,bX*0.95);if(bG){bE=bX/(bG+bN+1)}else{if(bN){bE=((bX/(bN+1))-(12/2))*2}else{bE=bX}}bH=bK+(bX/(bG+bN+1)*bG)*bT+(bI?bX-bE:0);b2.top=bP;b2.left=bH;b2.outerWidth=bE;b2.outerHeight=bM-bP;bO+=bg(bY,b2)}bZ[0].innerHTML=bO;b5=bZ.children();for(b0=0;b0<b3;b0++){b2=bU[b0];bY=b2.event;b1=aD(b5[b0]);bJ=bh("eventRender",bY,bY,b1);if(bJ===false){b1.remove()}else{if(bJ&&bJ!==true){b1.remove();b1=aD(bJ).css({position:"absolute",top:b2.top,left:b2.left}).appendTo(bZ)}b2.element=b1;if(bY._id===bV){bw(bY,b1,b2)}else{b1[0]._fci=b0}a6(bY,b1)}}F(bZ,bU,bw);for(b0=0;b0<b3;b0++){b2=bU[b0];if(b1=b2.element){b6=bF[b7=b2.key=R(b1[0])];b2.vsides=b6===G?(bF[b7]=P(b1,true)):b6;b6=b8[b7];b2.hsides=b6===G?(b8[b7]=k(b1,true)):b6;bS=b1.find(".fc-event-title");if(bS.length){b2.contentTop=bS[0].offsetTop}}}for(b0=0;b0<b3;b0++){b2=bU[b0];if(b1=b2.element){b1[0].style.width=Math.max(0,b2.outerWidth-b2.hsides)+"px";bR=Math.max(0,b2.outerHeight-b2.vsides);b1[0].style.height=bR+"px";bY=b2.event;if(b2.contentTop!==G&&bR-b2.contentTop<10){b1.find("div.fc-event-time").text(bs(bY.start,a8("timeFormat"))+" - "+bY.title);b1.find("div.fc-event-title").remove()}bh("eventAfterRender",bY,bY,b1)}}}function bg(bJ,bE){var bI="<";var bG=bJ.url;var bF=ab(bJ,a8);var bH=["fc-event","fc-event-vert"];if(aW(bJ)){bH.push("fc-event-draggable")}if(bE.isStart){bH.push("fc-event-start")}if(bE.isEnd){bH.push("fc-event-end")}bH=bH.concat(bJ.className);if(bJ.source){bH=bH.concat(bJ.source.className||[])}if(bG){bI+="a href='"+aO(bJ.url)+"'"}else{bI+="div"}bI+=" class='"+bH.join(" ")+"' style='position:absolute;z-index:8;top:"+bE.top+"px;left:"+bE.left+"px;"+bF+"'><div class='fc-event-inner'><div class='fc-event-time'>"+aO(ba(bJ.start,bJ.end,a8("timeFormat")))+"</div><div class='fc-event-title'>"+aO(bJ.title)+"</div></div><div class='fc-event-bg'></div>";if(bE.isEnd&&bz(bJ)){bI+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}bI+="</"+(bG?"a":"div")+">";return bI}function bd(bG,bF,bE){if(aW(bG)){a5(bG,bF,bE.isStart)}if(bE.isEnd&&bz(bG)){bl(bG,bF,bE)}bk(bG,bF)}function bw(bG,bF,bE){var bH=bF.find("div.fc-event-time");if(aW(bG)){bj(bG,bF,bH)}if(bE.isEnd&&bz(bG)){by(bG,bF,bH)}bk(bG,bF)}function a5(bF,bO,bE){var bP;var bN;var bR=true;var bJ;var bH=a8("isRTL")?-1:1;var bI=aV();var bK=a9();var bG=bt();var bQ=a4();var bM=bm();bO.draggable({zIndex:9,opacity:a8("dragOpacity","month"),revertDuration:a8("dragRevertDuration"),start:function(bS,bT){bh("eventDragStart",bO,bF,bS,bT);a7(bF,bO);bP=bO.width();bI.start(function(bV,bU,bW,bX){a0();if(bV){bN=false;bJ=bX*bH;if(!bV.row){bi(aL(X(bF.start),bJ),aL(ay(bF),bJ));bL()}else{if(bE){if(bR){bO.width(bK-10);aj(bO,bG*Math.round((bF.end?((bF.end-bF.start)/af):a8("defaultEventMinutes"))/bQ));bO.draggable("option","grid",[bK,1]);bR=false}}else{bN=true}}bN=bN||(bR&&!bJ)}else{bL();bN=true}bO.draggable("option","revert",bN)},bS,"drag")},stop:function(bT,bU){bI.stop();a0();bh("eventDragStop",bO,bF,bT,bU);if(bN){bL();bO.css("filter","");aZ(bF,bO)}else{var bS=0;if(!bR){bS=Math.round((bO.offset().top-be().offset().top)/bG)*bQ+bM-(bF.start.getHours()*60+bF.start.getMinutes())}bx(this,bF,bJ,bS,bR,bT,bU)}}});function bL(){if(!bR){bO.width(bP).height("").draggable("option","grid",null);bR=true}}}function bj(bE,bP,bQ){var bJ;var bT=false;var bK;var bO;var bM;var bG=a8("isRTL")?-1:1;var bI=aV();var bR=bq();var bL=a9();var bF=bt();var bS=a4();bP.draggable({zIndex:9,scroll:false,grid:[bL,bF],axis:bR==1?"y":false,opacity:a8("dragOpacity"),revertDuration:a8("dragRevertDuration"),start:function(bU,bV){bh("eventDragStart",bP,bE,bU,bV);a7(bE,bP);bJ=bP.position();bO=bM=0;bI.start(function(bX,bW,bY,bZ){bP.draggable("option","revert",!bX);a0();if(bX){bK=bZ*bG;if(a8("allDaySlot")&&!bX.row){if(!bT){bT=true;bQ.hide();bP.draggable("option","grid",null)}bi(aL(X(bE.start),bK),aL(ay(bE),bK))}else{bN()}}},bU,"drag")},drag:function(bU,bV){bO=Math.round((bV.position.top-bJ.top)/bF)*bS;if(bO!=bM){if(!bT){bH(bO)}bM=bO}},stop:function(bV,bW){var bU=bI.stop();a0();bh("eventDragStop",bP,bE,bV,bW);if(bU&&(bK||bO||bT)){bx(this,bE,bK,bT?0:bO,bT,bV,bW)}else{bN();bP.css("filter","");bP.css(bJ);bH(0);aZ(bE,bP)}}});function bH(bV){var bU=l(X(bE.start),bV);var bW;if(bE.end){bW=l(X(bE.end),bV)}bQ.text(ba(bU,bW,a8("timeFormat")))}function bN(){if(bT){bQ.css("display","");bP.draggable("option","grid",[bL,bF]);bT=false}}}function by(bI,bG,bJ){var bH,bE;var bK=bt();var bF=a4();bG.resizable({handles:{s:".ui-resizable-handle"},grid:bK,start:function(bL,bM){bH=bE=0;a7(bI,bG);bG.css("z-index",9);bh("eventResizeStart",this,bI,bL,bM)},resize:function(bL,bM){bH=Math.round((Math.max(bK,bG.height())-bM.originalSize.height)/bK);if(bH!=bE){bJ.text(ba(bI.start,(!bH&&!bI.end)?null:l(bA(bI),bF*bH),a8("timeFormat")));bE=bH}},stop:function(bL,bM){bh("eventResizeStop",this,bI,bL,bM);if(bH){bb(this,bI,0,bF*bH,bL,bM)}else{bG.css("z-index",8);aZ(bI,bG)}}})}}function N(aX){var aV,aU,aT,aZ,aY,aW;for(aV=aX.length-1;aV>0;aV--){aZ=aX[aV];for(aU=0;aU<aZ.length;aU++){aY=aZ[aU];for(aT=0;aT<aX[aV-1].length;aT++){aW=aX[aV-1][aT];if(Y(aY,aW)){aW.forward=Math.max(aW.forward||0,(aY.forward||0)+1)}}}}}function aM(aX,a4,a9){var a3=this;a3.element=aX;a3.calendar=a4;a3.name=a9;a3.opt=aV;a3.trigger=a5;a3.isEventDraggable=a8;a3.isEventResizable=bc;a3.reportEvents=ba;a3.eventEnd=bd;a3.reportEventElement=bb;a3.reportEventClear=bj;a3.eventElementHandlers=aU;a3.showEvents=bg;a3.hideEvents=aT;a3.eventDrop=a7;a3.eventResize=aW;var bk=a3.defaultEventEnd;var a2=a4.normalizeEvent;var a1=a4.reportEventChange;var be={};var bi=[];var a0={};var aY=a4.options;function aV(bn,bl){var bm=aY[bn];if(typeof bm=="object"){return O(bm,bl||a9)}return bm}function a5(bl,bm){return a4.trigger.apply(a4,[bl,bm||a3].concat(Array.prototype.slice.call(arguments,2),[a3]))}function a8(bl){return bf(bl)&&!aV("disableDragging")}function bc(bl){return bf(bl)&&!aV("disableResizing")}function bf(bl){return aR(bl.editable,(bl.source||{}).editable,aV("editable"))}function ba(bn){be={};var bm,bl=bn.length,bo;for(bm=0;bm<bl;bm++){bo=bn[bm];if(be[bo._id]){be[bo._id].push(bo)}else{be[bo._id]=[bo]}}}function bd(bl){return bl.end?X(bl.end):bk(bl)}function bb(bm,bl){bi.push(bl);if(a0[bm._id]){a0[bm._id].push(bl)}else{a0[bm._id]=[bl]}}function bj(){bi=[];a0={}}function aU(bm,bl){bl.click(function(bn){if(!bl.hasClass("ui-draggable-dragging")&&!bl.hasClass("ui-resizable-resizing")){return a5("eventClick",this,bm,bn)}}).hover(function(bn){a5("eventMouseover",this,bm,bn)},function(bn){a5("eventMouseout",this,bm,bn)})}function bg(bm,bl){a6(bm,bl,"show")}function aT(bm,bl){a6(bm,bl,"hide")}function a6(bo,bn,bq){var bp=a0[bo._id],bm,bl=bp.length;for(bm=0;bm<bl;bm++){if(!bn||bp[bm][0]!=bn[0]){bp[bm][bq]()}}}function a7(bo,bm,bn,bp,bs,br,bq){var bt=bm.allDay;var bl=bm._id;bh(be[bl],bn,bp,bs);a5("eventDrop",bo,bm,bn,bp,bs,function(){bh(be[bl],-bn,-bp,bt);a1(bl)},br,bq);a1(bl)}function aW(br,bp,bm,bl,bo,bq){var bn=bp._id;aZ(be[bn],bm,bl);a5("eventResize",br,bp,bm,bl,function(){aZ(be[bn],-bm,-bl);a1(bn)},bo,bq);a1(bn)}function bh(bp,bn,bm,bq){bm=bm||0;for(var br,bl=bp.length,bo=0;bo<bl;bo++){br=bp[bo];if(bq!==G){br.allDay=bq}l(aL(br.start,bn,true),bm);if(br.end){br.end=l(aL(br.end,bn,true),bm)}a2(br,aY)}}function aZ(bp,bn,bm){bm=bm||0;for(var bq,bl=bp.length,bo=0;bo<bl;bo++){bq=bp[bo];bq.end=l(aL(bd(bq),bn,true),bm);a2(bq,aY)}}}function ai(){var bm=this;bm.renderDaySegs=bl;bm.resizableDayEvent=bf;var a4=bm.opt;var bb=bm.trigger;var aV=bm.isEventDraggable;var br=bm.isEventResizable;var bs=bm.eventEnd;var a2=bm.reportEventElement;var aY=bm.showEvents;var a3=bm.hideEvents;var a7=bm.eventResize;var bv=bm.getRowCnt;var bk=bm.getColCnt;var a5=bm.getColWidth;var a0=bm.allDayRow;var bp=bm.allDayBounds;var bi=bm.colContentLeft;var bg=bm.colContentRight;var a9=bm.dayOfWeekCol;var bh=bm.dateCell;var aU=bm.compileDaySegs;var aW=bm.getDaySegmentContainer;var ba=bm.bindDaySeg;var a6=bm.calendar.formatDates;var bc=bm.renderDayOverlay;var aZ=bm.clearOverlays;var aT=bm.clearSelection;function bl(by,bx){var bw=aW();var bE;var bD=bv();var bJ=bk();var bC=0;var bI;var bH;var bF;var bB;var bK=by.length;var bA;var bG;var bz;bw[0].innerHTML=bd(by);be(by,bw.children());bo(by);bj(by,bw,bx);bu(by);aX(by);bn(by);bE=a8();for(bI=0;bI<bD;bI++){bH=0;bF=[];for(bB=0;bB<bJ;bB++){bF[bB]=0}while(bC<bK&&(bA=by[bC]).row==bI){bG=aC(bF.slice(bA.startCol,bA.endCol));bA.top=bG;bG+=bA.outerHeight;for(bz=bA.startCol;bz<bA.endCol;bz++){bF[bz]=bG}bC++}bE[bI].height(aC(bF))}bt(by,a1(bE))}function bq(bz,by,bD){var bC=aD("<div/>");var bw;var bx=aW();var bB;var bE=bz.length;var bA;bC[0].innerHTML=bd(bz);bw=bC.children();bx.append(bw);be(bz,bw);bu(bz);aX(bz);bn(bz);bt(bz,a1(a8()));bw=[];for(bB=0;bB<bE;bB++){bA=bz[bB].element;if(bA){if(bz[bB].row===by){bA.css("top",bD)}bw.push(bA[0])}}return aD(bw)}function bd(bB){var bI=a4("isRTL");var bG;var bM=bB.length;var bF;var bz;var bA;var bD;var bw=bp();var bE=bw.left;var by=bw.right;var bK;var bx;var bC;var bL;var bJ;var bH="";for(bG=0;bG<bM;bG++){bF=bB[bG];bz=bF.event;bD=["fc-event","fc-event-hori"];if(aV(bz)){bD.push("fc-event-draggable")}if(bF.isStart){bD.push("fc-event-start")}if(bF.isEnd){bD.push("fc-event-end")}if(bI){bK=a9(bF.end.getDay()-1);bx=a9(bF.start.getDay());bC=bF.isEnd?bi(bK):bE;bL=bF.isStart?bg(bx):by}else{bK=a9(bF.start.getDay());bx=a9(bF.end.getDay()-1);bC=bF.isStart?bi(bK):bE;bL=bF.isEnd?bg(bx):by}bD=bD.concat(bz.className);if(bz.source){bD=bD.concat(bz.source.className||[])}bA=bz.url;bJ=ab(bz,a4);if(bA){bH+="<a href='"+aO(bA)+"'"}else{bH+="<div"}bH+=" class='"+bD.join(" ")+"' style='position:absolute;z-index:8;left:"+bC+"px;"+bJ+"'><div class='fc-event-inner'>";if(!bz.allDay&&bF.isStart){bH+="<span class='fc-event-time'>"+aO(a6(bz.start,bz.end,a4("timeFormat")))+"</span>"}bH+="<span class='fc-event-title'>"+aO(bz.title)+"</span></div>";if(bF.isEnd&&br(bz)){bH+="<div class='ui-resizable-handle ui-resizable-"+(bI?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bH+="</"+(bA?"a":"div")+">";bF.left=bC;bF.outerWidth=bL-bC;bF.startCol=bK;bF.endCol=bx+1}return bH}function be(bx,bC){var bA;var bD=bx.length;var bw;var bB;var bz;var by;for(bA=0;bA<bD;bA++){bw=bx[bA];bB=bw.event;bz=aD(bC[bA]);by=bb("eventRender",bB,bB,bz);if(by===false){bz.remove()}else{if(by&&by!==true){by=aD(by).css({position:"absolute",left:bw.left});bz.replaceWith(by);bz=by}bw.element=bz}}}function bo(bx){var bz;var bA=bx.length;var bw;var by;for(bz=0;bz<bA;bz++){bw=bx[bz];by=bw.element;if(by){a2(bw.event,by)}}}function bj(bx,bC,by){var bA;var bD=bx.length;var bw;var bz;var bB;for(bA=0;bA<bD;bA++){bw=bx[bA];bz=bw.element;if(bz){bB=bw.event;if(bB._id===by){ba(bB,bz,bw)}else{bz[0]._fci=bA}}}F(bC,bx,ba)}function bu(bx){var bB;var bC=bx.length;var bw;var bA;var bz,bD;var by={};for(bB=0;bB<bC;bB++){bw=bx[bB];bA=bw.element;if(bA){bz=bw.key=R(bA[0]);bD=by[bz];if(bD===G){bD=by[bz]=k(bA,true)}bw.hsides=bD}}}function aX(bx){var bz;var bA=bx.length;var bw;var by;for(bz=0;bz<bA;bz++){bw=bx[bz];by=bw.element;if(by){by[0].style.width=Math.max(0,bw.outerWidth-bw.hsides)+"px"}}}function bn(bx){var bA;var bC=bx.length;var bw;var bz;var by,bD;var bB={};for(bA=0;bA<bC;bA++){bw=bx[bA];bz=bw.element;if(bz){by=bw.key;bD=bB[by];if(bD===G){bD=bB[by]=o(bz)}bw.outerHeight=bz[0].offsetHeight+bD}}}function a8(){var bw;var by=bv();var bx=[];for(bw=0;bw<by;bw++){bx[bw]=a0(bw).find("div.fc-day-content > div")}return bx}function a1(bx){var bw;var bz=bx.length;var by=[];for(bw=0;bw<bz;bw++){by[bw]=bx[bw][0].offsetTop}return by}function bt(bx,bC){var bz;var bB=bx.length;var bw;var by;var bA;for(bz=0;bz<bB;bz++){bw=bx[bz];by=bw.element;if(by){by[0].style.top=bC[bw.row]+(bw.top||0)+"px";bA=bw.event;bb("eventAfterRender",bA,bA,by)}}}function bf(by,bx,bw){var bB=a4("isRTL");var bA=bB?"w":"e";var bz=bx.find(".ui-resizable-"+bA);var bC=false;aS(bx);bx.mousedown(function(bD){bD.preventDefault()}).click(function(bD){if(bC){bD.preventDefault();bD.stopImmediatePropagation()}});bz.mousedown(function(bM){if(bM.which!=1){return}bC=true;var bH=bm.getHoverListener();var bL=bv();var bN=bk();var bF=bB?-1:1;var bE=bB?bN-1:0;var bG=bx.css("top");var bI;var bD;var bK=aD.extend({},by);var bO=bh(by.start);aT();aD("body").css("cursor",bA+"-resize").one("mouseup",bJ);bb("eventResizeStart",this,by,bM);bH.start(function(bQ,bP){if(bQ){var bT=Math.max(bO.row,bQ.row);var bU=bQ.col;if(bL==1){bT=0}if(bT==bO.row){if(bB){bU=Math.min(bO.col,bU)}else{bU=Math.max(bO.col,bU)}}bI=(bT*7+bU*bF+bE)-(bP.row*7+bP.col*bF+bE);var bS=aL(bs(by),bI,true);if(bI){bK.end=bS;var bR=bD;bD=bq(aU([bK]),bw.row,bG);bD.find("*").css("cursor",bA+"-resize");if(bR){bR.remove()}a3(by)}else{if(bD){aY(by);bD.remove();bD=null}}aZ();bc(by.start,aL(X(bS),1))}},bM);function bJ(bP){bb("eventResizeStop",this,by,bP);aD("body").css("cursor","");bH.stop();aZ();if(bI){a7(this,by,bI,0,bP)}setTimeout(function(){bC=false},0)}})}}function ax(){var a3=this;a3.select=a1;a3.unselect=aX;a3.reportSelection=aT;a3.daySelectionMousedown=a0;var aV=a3.opt;var aW=a3.trigger;var aY=a3.defaultSelectionEnd;var aU=a3.renderSelection;var a2=a3.clearSelection;var aZ=false;if(aV("selectable")&&aV("unselectAuto")){aD(document).mousedown(function(a4){var a5=aV("unselectCancel");if(a5){if(aD(a4.target).parents(a5).length){return}}aX(a4)})}function a1(a4,a6,a5){aX();if(!a6){a6=aY(a4,a5)}aU(a4,a6,a5);aT(a4,a6,a5)}function aX(a4){if(aZ){aZ=false;a2();aW("unselect",null,a4)}}function aT(a4,a7,a6,a5){aZ=true;aW("select",null,a4,a7,a6,a5)}function a0(a7){var ba=a3.cellDate;var a5=a3.cellIsAllDay;var a4=a3.getHoverListener();var a8=a3.reportDayClick;if(a7.which==1&&aV("selectable")){aX(a7);var a6=this;var a9;a4.start(function(bc,bb){a2();if(bc&&a5(bc)){a9=[ba(bb),ba(bc)].sort(ah);aU(a9[0],a9[1],true)}else{a9=null}},a7);aD(document).one("mouseup",function(bb){a4.stop();if(a9){if(+a9[0]==+a9[1]){a8(a9[0],true,bb)}aT(a9[0],a9[1],true,bb)}})}}}function a(){var aW=this;aW.renderOverlay=aU;aW.clearOverlays=aT;var aV=[];var aX=[];function aU(aZ,aY){var a0=aX.shift();if(!a0){a0=aD("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")}if(a0[0].parentNode!=aY[0]){a0.appendTo(aY)}aV.push(a0.css(aZ).show());return a0}function aT(){var aY;while(aY=aV.shift()){aX.push(aY.hide().unbind())}}}function Z(aT){var aU=this;var aV;var aW;aU.build=function(){aV=[];aW=[];aT(aV,aW)};aU.cell=function(aX,a3){var a2=aV.length;var aY=aW.length;var aZ,a0=-1,a1=-1;for(aZ=0;aZ<a2;aZ++){if(a3>=aV[aZ][0]&&a3<aV[aZ][1]){a0=aZ;break}}for(aZ=0;aZ<aY;aZ++){if(aX>=aW[aZ][0]&&aX<aW[aZ][1]){a1=aZ;break}}return(a0>=0&&a1>=0)?{row:a0,col:a1}:null};aU.rect=function(a0,a2,aY,aZ,a1){var aX=a1.offset();return{top:aV[a0][0]-aX.top,left:aW[a2][0]-aX.left,width:aW[aZ][1]-aW[a2][0],height:aV[aY][1]-aV[a0][0]}}}function az(aY){var aW=this;var aX;var aZ;var aU;var aT;aW.start=function(a0,a1,a2){aZ=a0;aU=aT=null;aY.build();aV(a1);aX=a2||"mousemove";aD(document).bind(aX,aV)};function aV(a0){M(a0);var a1=aY.cell(a0.pageX,a0.pageY);if(!a1!=!aT||a1&&(a1.row!=aT.row||a1.col!=aT.col)){if(a1){if(!aU){aU=a1}aZ(a1,aU,a1.row-aU.row,a1.col-aU.col)}else{aZ(a1,aU)}aT=a1}}aW.stop=function(){aD(document).unbind(aX,aV);return aT}}function M(aT){if(aT.pageX===G){aT.pageX=aT.originalEvent.pageX;aT.pageY=aT.originalEvent.pageY}}function q(aU){var aT=this,aV={},aY={},aX={};function aW(aZ){return aV[aZ]=aV[aZ]||aU(aZ)}aT.left=function(aZ){return aY[aZ]=aY[aZ]===G?aW(aZ).position().left:aY[aZ]};aT.right=function(aZ){return aX[aZ]=aX[aZ]===G?aT.left(aZ)+aW(aZ).width():aX[aZ]};aT.clear=function(){aV={};aY={};aX={}}}})(jQuery);(function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:true,overlayOpacity:0.4,overlayColor:"#000",draggable:true,okButton:"&nbsp;OK&nbsp;",noButton:"&nbsp;No&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:"ui-dialog ui-widget ui-corner-all",alert:function(b,e,g){if(e==null){e="Alert"}a.alerts._show(e,b,null,"alert",function(j){if(g){g(j)}})},yescancel:function(b,e,g){if(e==null){e="Confirm"}a.alerts._show(e,b,null,"yescancel",function(j){if(g){g(j)}})},confirm:function(b,e,g){if(e==null){e="Confirm"}a.alerts._show(e,b,null,"confirm",function(j){if(g){g(j)}})},prompt:function(b,e,g,j){if(g==null){g="Prompt"}a.alerts._show(g,b,e,"prompt",function(k){if(j){j(k)}})},_show:function(l,k,g,b,o){a.alerts._hide();a.alerts._overlay("show");a("BODY").append('<div id="popup_container"><div id="popup_title" class="ui-dialog-titlebar ui-widget-header ui-corner-all"></div><div id="popup_content" class="ui-dialog-content ui-widget-content"><div id="popup_message"></div></div></div>');if(a.alerts.dialogClass){a("#popup_container").addClass(a.alerts.dialogClass)}var n=(a.browser.msie&&parseInt(a.browser.version)<=6)?"absolute":"fixed";a("#popup_container").css({position:n,zIndex:99999});a("#popup_title").text(l);a("#popup_content").addClass(b);a("#popup_message").text(k);a("#popup_message").html(a("#popup_message").text().replace(/\n/g,"<br />"));a("#popup_container").css({minWidth:a("#popup_container").outerWidth(),maxWidth:a("#popup_container").outerWidth()});a.alerts._reposition();a.alerts._maintainPosition(true);switch(b){case"alert":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /></div>');a("#popup_ok").click(function(){a.alerts._hide();o(true)});a("#popup_ok").focus().keypress(function(q){if(q.keyCode==13||q.keyCode==27){a("#popup_ok").trigger("click")}});break;case"yescancel":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_ok").click(function(){a.alerts._hide();if(o){o(true)}});a("#popup_cancel").click(function(){a.alerts._hide();if(o){o(null)}});a("#popup_ok").focus();a("#popup_ok, #popup_cancel").keypress(function(q){if(q.keyCode==13){a(this).trigger("click")}if(q.keyCode==27){a("#popup_cancel").trigger("click")}});break;case"confirm":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.noButton+'" id="popup_no" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_ok").click(function(){a.alerts._hide();if(o){o(true)}});a("#popup_no").click(function(){a.alerts._hide();if(o){o(false)}});a("#popup_cancel").click(function(){a.alerts._hide();if(o){o(null)}});a("#popup_ok").focus();a("#popup_ok, #popup_no, #popup_cancel").keypress(function(q){if(q.keyCode==13){a(this).trigger("click")}if(q.keyCode==27){a("#popup_cancel").trigger("click")}});break;case"prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_prompt").width(a("#popup_message").width());a("#popup_ok").click(function(){var e=a("#popup_prompt").val();a.alerts._hide();if(o){o(e)}});a("#popup_cancel").click(function(){a.alerts._hide();if(o){o(null)}});a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(q){if(q.keyCode==13){a("#popup_ok").trigger("click")}if(q.keyCode==27){a("#popup_cancel").trigger("click")}});if(g){a("#popup_prompt").val(g)}a("#popup_prompt").focus().select();break}if(a.alerts.draggable){try{a("#popup_container").draggable({handle:a("#popup_title")});a("#popup_title").css({cursor:"move"})}catch(j){}}},_hide:function(){a("#popup_container").remove();a.alerts._overlay("hide");a.alerts._maintainPosition(false)},_overlay:function(b){switch(b){case"show":a.alerts._overlay("hide");a("BODY").append('<div id="popup_overlay"></div>');a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case"hide":a("#popup_overlay").remove();break}},_reposition:function(){var e=((a(window).height()/2)-(a("#popup_container").outerHeight()/2))+a.alerts.verticalOffset;var b=((a(window).width()/2)-(a("#popup_container").outerWidth()/2))+a.alerts.horizontalOffset;if(e<0){e=0}if(b<0){b=0}if(a.browser.msie&&parseInt(a.browser.version)<=6){e=e+a(window).scrollTop()}a("#popup_container").css({top:e+"px",left:b+"px"});a("#popup_overlay").height(a(document).height())},_maintainPosition:function(b){if(a.alerts.repositionOnResize){switch(b){case true:a(window).bind("resize",a.alerts._reposition);break;case false:a(window).unbind("resize",a.alerts._reposition);break}}}};jAlert=function(b,e,g){a.alerts.alert(b,e,g)};jYescancel=function(b,e,g){return a.alerts.yescancel(b,e,g)};jConfirm=function(b,e,g){return a.alerts.confirm(b,e,g)};jPrompt=function(b,e,g,j){return a.alerts.prompt(b,e,g,j)}})(jQuery);(function(a){a.flexselect=function(b,e){this.init(b,e)};a.extend(a.flexselect.prototype,{settings:{allowMismatch:false,allowMismatchBlank:true,sortBy:"score",preSelection:true,hideDropdownOnEmptyInput:false,selectedClass:"flexselect_selected",dropdownClass:"flexselect_dropdown",inputIdTransform:function(b){return b+"_flexselect"},inputNameTransform:function(b){return},dropdownIdTransform:function(b){return b+"_flexselect_dropdown"}},select:null,input:null,dropdown:null,dropdownList:null,cache:[],results:[],lastAbbreviation:null,abbreviationBeforeFocus:null,selectedIndex:0,picked:false,allowMouseMove:true,dropdownMouseover:false,blured:true,init:function(b,e){this.settings=a.extend({},this.settings,e);this.select=a(b);this.preloadCache();this.renderControls();this.wire()},preloadCache:function(){this.cache=this.select.children("option").map(function(){return{name:a.trim(a(this).text()),value:a(this).val(),score:0}})},renderControls:function(){var b=this.settings.preSelection?this.select.children("option:selected"):null;this.input=a("<input type='text' autocomplete='off' />").attr({id:this.settings.inputIdTransform(this.select.attr("id")),name:this.settings.inputNameTransform(this.select.attr("name")),accesskey:this.select.attr("accesskey"),tabindex:this.select.attr("tabindex"),style:this.select.attr("style"),placeholder:this.select.attr("data-placeholder")}).addClass(this.select.attr("class")).val(a.trim(b?b.text():"")).css({visibility:"visible"});this.dropdown=a("<div></div>").attr({id:this.settings.dropdownIdTransform(this.select.attr("id"))}).addClass(this.settings.dropdownClass);this.dropdownList=a("<ul></ul>");this.dropdown.append(this.dropdownList);this.select.after(this.input).hide();a("body").append(this.dropdown)},wire:function(){var e=this;this.input.click(function(){e.lastAbbreviation=null;e.filterResults()});this.input.mouseup(function(g){g.preventDefault()});this.input.focus(function(){e.abbreviationBeforeFocus=e.input.val();e.filterResults()});this.input.blur(function(){e.hide();if(e.settings.allowMismatchBlank&&a.trim(a(this).val())==""){e.setValue("")}else{if(!e.settings.allowMismatch&&!e.picked){e.reset()}}});this.dropdownList.mouseover(function(g){return;if(!e.allowMouseMove){e.allowMouseMove=true;return}if(g.target.tagName=="LI"){var j=e.dropdown.find("li");e.markSelected(j.index(a(g.target)))}});this.dropdownList.mouseleave(function(){e.markSelected(-1)});this.dropdownList.mouseup(function(g){e.pickSelected();e.focusAndHide()});this.dropdown.mouseover(function(g){e.dropdownMouseover=true});this.dropdown.mouseleave(function(g){e.dropdownMouseover=false});this.dropdown.mousedown(function(g){g.preventDefault();if(g.target.tagName=="LI"){var j=e.dropdown.find("li");e.markSelected(j.index(a(g.target)))}});this.input.keyup(function(g){switch(g.keyCode){case 13:g.preventDefault();e.pickSelected();e.focusAndHide();break;case 27:g.preventDefault();e.reset();e.focusAndHide();break;default:e.filterResults();break}if(e.settings.hideDropdownOnEmptyInput){if(e.input.val()==""){e.dropdownList.hide()}else{e.dropdownList.show()}}});this.input.keydown(function(g){switch(g.keyCode){case 9:e.pickSelected();e.hide();break;case 33:g.preventDefault();e.markFirst();break;case 34:g.preventDefault();e.markLast();break;case 38:g.preventDefault();e.moveSelected(-1);break;case 40:g.preventDefault();e.moveSelected(1);break;case 13:case 27:g.preventDefault();g.stopPropagation();break}});var b=this.input;this.select.change(function(){b.val(a.trim(a(this).children("option:selected").text()))})},filterResults:function(e){var e=this.input.val();if(e==this.lastAbbreviation){return}var b=[];a.each(this.cache,function(){this.score=LiquidMetal.score(this.name,e);if(this.score>0){b.push(this)}});this.results=b;if(this.settings.sortBy=="score"){this.sortResultsByScore()}else{if(this.settings.sortBy=="name"){this.sortResultsByName()}}this.renderDropdown();this.markFirst();this.lastAbbreviation=e;this.picked=false;this.allowMouseMove=false},sortResultsByScore:function(){this.results.sort(function(g,e){return e.score-g.score})},sortResultsByName:function(){this.results.sort(function(g,e){return g.name<e.name?-1:(g.name>e.name?1:0)})},renderDropdown:function(){var g=this.dropdown.outerWidth()-this.dropdown.innerWidth();var e=this.input.offset();this.dropdown.css({width:(this.input.outerWidth()-g)+"px",top:(e.top+this.input.outerHeight())+"px",left:e.left+"px",maxHeight:""});var b="";a.each(this.results,function(){b+='<li title="'+this.name.replace('"',"")+'">'+this.name+"</li>"});this.dropdownList.html(b);this.adjustMaxHeight();this.dropdown.show()},adjustMaxHeight:function(){var e=a(window).height()+a(window).scrollTop()-this.dropdown.outerHeight();var b=parseInt(this.dropdown.css("top"),10);this.dropdown.css("max-height",b>e?(Math.max(0,e-b+this.dropdown.innerHeight())+"px"):"")},markSelected:function(k){if(k<0||k>=this.results.length){return}var b=this.dropdown.find("li");b.removeClass(this.settings.selectedClass);this.selectedIndex=k;var g=a(b[k]).addClass(this.settings.selectedClass);var e=g.position().top;var j=e+g.outerHeight()-this.dropdown.height();if(j>0){this.allowMouseMove=false;this.dropdown.scrollTop(this.dropdown.scrollTop()+j)}else{if(e<0){this.allowMouseMove=false;this.dropdown.scrollTop(Math.max(0,this.dropdown.scrollTop()+e))}}},pickSelected:function(){var b=this.results[this.selectedIndex];if(b){this.input.val(b.name);this.setValue(b.value);this.picked=true}else{if(this.settings.allowMismatch){this.select.append('<option title="'+this.input.val().replace('"',"")+'" value="'+this.input.val().replace('"',"")+'">'+this.input.val()+"</option>");this.results[this.input.val().replace('"',"")]=this.input.val();this.setValue(this.input.val())}else{this.reset()}}},setValue:function(b){if(this.select.val()===b){return}this.select.val(b).change()},hide:function(){this.dropdown.hide();this.lastAbbreviation=null},moveSelected:function(b){this.markSelected(this.selectedIndex+b)},markFirst:function(){this.markSelected(0)},markLast:function(){this.markSelected(this.results.length-1)},reset:function(){this.input.val(this.abbreviationBeforeFocus)},focus:function(){this.input.focus()},focusAndHide:function(){this.focus();this.hide()}});a.fn.flexselect=function(b){this.each(function(){if(this.tagName=="SELECT"){new a.flexselect(this,b)}});return this}})(jQuery);var LiquidMetal=(function(){var o=0;var a=1;var j=0.8;var n=0.9;var e=0.85;var g=" \t_-";return{lastScore:null,lastScoreArray:null,score:function(C,q){if(q.length===0){return j}if(q.length>C.length){return o}var D=[];var F=C.toLowerCase();q=q.toLowerCase();this._scoreAll(C,F,q,-1,0,[],D);if(D.length==0){return 0}var E=0,y=[];for(var B=0;B<D.length;B++){var u=D[B];var A=0;for(var z=0;z<C.length;z++){A+=u[z]}if(A>E){E=A;y=u}}E/=C.length;this.lastScore=E;this.lastScoreArray=y;return E},_scoreAll:function(z,H,q,F,E,y,B){if(E==q.length){var C=(H.charAt(0)==q.charAt(0));var G=C?n:j;k(y,G,y.length,z.length);B.push(y.slice(0));return}var D=q.charAt(E);E++;var A=H.indexOf(D,F);if(A==-1){return}var u=F;while((A=H.indexOf(D,F+1))!=-1){if(b(z,A)){y[A-1]=1;k(y,e,u+1,A-1)}else{if(l(z,A)){k(y,e,u+1,A)}else{k(y,o,u+1,A)}}y[A]=a;F=A;this._scoreAll(z,H,q,F,E,y,B)}}};function l(u,q){var y=u.charAt(q);return("A"<=y&&y<="Z")}function b(u,q){var y=u.charAt(q-1);return(g.indexOf(y)!=-1)}function k(A,u,z,y){for(var q=z;q<y;q++){A[q]=u}return A}})();
/*!
 * jQuery blockUI plugin
 * Version 2.59.0-2013.04.05
 * @requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
(function(){function a(q){q.fn._fadeIn=q.fn.fadeIn;var g=q.noop||function(){};var A=/MSIE/.test(navigator.userAgent);var k=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var u=document.documentMode||0;var l=q.isFunction(document.createElement("div").style.setExpression);q.blockUI=function(E){j(window,E)};q.unblockUI=function(E){o(window,E)};q.growlUI=function(I,G,H,E){var F=q('<div class="growlUI"></div>');if(I){F.append("<h1>"+I+"</h1>")}if(G){F.append("<h2>"+G+"</h2>")}if(H===undefined){H=3000}q.blockUI({message:F,fadeIn:700,fadeOut:1000,centerY:false,timeout:H,showOverlay:false,onUnblock:E,css:q.blockUI.defaults.growlCSS})};q.fn.block=function(F){if(this[0]===window){q.blockUI(F);return this}var E=q.extend({},q.blockUI.defaults,F||{});this.each(function(){var G=q(this);if(E.ignoreIfBlocked&&G.data("blockUI.isBlocked")){return}G.unblock({fadeOut:0})});return this.each(function(){if(q.css(this,"position")=="static"){this.style.position="relative";q(this).data("blockUI.static",true)}this.style.zoom=1;j(this,F)})};q.fn.unblock=function(E){if(this[0]===window){q.unblockUI(E);return this}return this.each(function(){o(this,E)})};q.blockUI.version=2.59;q.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:99999,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var e=null;var n=[];function j(G,R){var O,Z;var M=(G==window);var J=(R&&R.message!==undefined?R.message:undefined);R=q.extend({},q.blockUI.defaults,R||{});if(R.ignoreIfBlocked&&q(G).data("blockUI.isBlocked")){return}R.overlayCSS=q.extend({},q.blockUI.defaults.overlayCSS,R.overlayCSS||{});O=q.extend({},q.blockUI.defaults.css,R.css||{});if(R.onOverlayClick){R.overlayCSS.cursor="pointer"}Z=q.extend({},q.blockUI.defaults.themedCSS,R.themedCSS||{});J=J===undefined?R.message:J;if(M&&e){o(window,{fadeOut:0})}if(J&&typeof J!="string"&&(J.parentNode||J.jquery)){var U=J.jquery?J[0]:J;var ab={};q(G).data("blockUI.history",ab);ab.el=U;ab.parent=U.parentNode;ab.display=U.style.display;ab.position=U.style.position;if(ab.parent){ab.parent.removeChild(U)}}q(G).data("blockUI.onUnblock",R.onUnblock);var N=R.baseZ;var Y,X,W,S;if(A||R.forceIframe){Y=q('<iframe class="blockUI" style="z-index:'+(N++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+R.iframeSrc+'"></iframe>')}else{Y=q('<div class="blockUI" style="display:none"></div>')}if(R.theme){X=q('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(N++)+';display:none"></div>')}else{X=q('<div class="blockUI blockOverlay" style="z-index:'+(N++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>')}if(R.theme&&M){S='<div class="blockUI '+R.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(N+10)+';display:none;position:fixed">';if(R.title){S+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(R.title||"&nbsp;")+"</div>"}S+='<div class="ui-widget-content ui-dialog-content"></div>';S+="</div>"}else{if(R.theme){S='<div class="blockUI '+R.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(N+10)+';display:none;position:absolute">';if(R.title){S+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(R.title||"&nbsp;")+"</div>"}S+='<div class="ui-widget-content ui-dialog-content"></div>';S+="</div>"}else{if(M){S='<div class="blockUI '+R.blockMsgClass+' blockPage" style="z-index:'+(N+10)+';display:none;position:fixed"></div>'}else{S='<div class="blockUI '+R.blockMsgClass+' blockElement" style="z-index:'+(N+10)+';display:none;position:absolute"></div>'}}}W=q(S);if(J){if(R.theme){W.css(Z);W.addClass("ui-widget-content")}else{W.css(O)}}if(!R.theme){X.css(R.overlayCSS)}X.css("position",M?"fixed":"absolute");if(A||R.forceIframe){Y.css("opacity",0)}var L=[Y,X,W],aa=M?q("body"):q(G);q.each(L,function(){this.appendTo(aa)});if(R.theme&&R.draggable&&q.fn.draggable){W.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var I=l&&(!q.support.boxModel||q("object,embed",M?null:G).length>0);if(k||I){if(M&&R.allowBodyStretch&&q.support.boxModel){q("html,body").css("height","100%")}if((k||!q.support.boxModel)&&!M){var Q=B(G,"borderTopWidth"),V=B(G,"borderLeftWidth");var K=Q?"(0 - "+Q+")":0;var P=V?"(0 - "+V+")":0}q.each(L,function(ac,ag){var ad=ag[0].style;ad.position="absolute";if(ac<2){if(M){ad.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+R.quirksmodeOffsetHack+') + "px"')}else{ad.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(M){ad.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{ad.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(P){ad.setExpression("left",P)}if(K){ad.setExpression("top",K)}}else{if(R.centerY){if(M){ad.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}ad.marginTop=0}else{if(!R.centerY&&M){var ae=(R.css&&R.css.top)?parseInt(R.css.top,10):0;var af="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+ae+') + "px"';ad.setExpression("top",af)}}}})}if(J){if(R.theme){W.find(".ui-widget-content").append(J)}else{W.append(J)}if(J.jquery||J.nodeType){q(J).show()}}if((A||R.forceIframe)&&R.showOverlay){Y.show()}if(R.fadeIn){var T=R.onBlock?R.onBlock:g;var F=(R.showOverlay&&!J)?T:g;var E=J?T:g;if(R.showOverlay){X._fadeIn(R.fadeIn,F)}if(J){W._fadeIn(R.fadeIn,E)}}else{if(R.showOverlay){X.show()}if(J){W.show()}if(R.onBlock){R.onBlock()}}z(1,G,R);if(M){e=W[0];n=q(":input:enabled:visible",e);if(R.focusInput){setTimeout(D,20)}}else{b(W[0],R.centerX,R.centerY)}if(R.timeout){var H=setTimeout(function(){if(M){q.unblockUI(R)}else{q(G).unblock(R)}},R.timeout);q(G).data("blockUI.timeout",H)}}function o(H,J){var I;var G=(H==window);var F=q(H);var K=F.data("blockUI.history");var L=F.data("blockUI.timeout");if(L){clearTimeout(L);F.removeData("blockUI.timeout")}J=q.extend({},q.blockUI.defaults,J||{});z(0,H,J);if(J.onUnblock===null){J.onUnblock=F.data("blockUI.onUnblock");F.removeData("blockUI.onUnblock")}var E;if(G){E=q("body").children().filter(".blockUI").add("body > .blockUI")}else{E=F.find(">.blockUI")}if(J.cursorReset){if(E.length>1){E[1].style.cursor=J.cursorReset}if(E.length>2){E[2].style.cursor=J.cursorReset}}if(G){e=n=null}if(J.fadeOut){I=E.length;E.fadeOut(J.fadeOut,function(){if(--I===0){y(E,K,J,H)}})}else{y(E,K,J,H)}}function y(I,L,K,J){var H=q(J);I.each(function(M,N){if(this.parentNode){this.parentNode.removeChild(this)}});if(L&&L.el){L.el.style.display=L.display;L.el.style.position=L.position;if(L.parent){L.parent.appendChild(L.el)}H.removeData("blockUI.history")}if(H.data("blockUI.static")){H.css("position","static")}if(typeof K.onUnblock=="function"){K.onUnblock(J,K)}var E=q(document.body),G=E.width(),F=E[0].style.width;E.width(G-1).width(G);E[0].style.width=F}function z(E,I,J){var H=I==window,G=q(I);if(!E&&(H&&!e||!H&&!G.data("blockUI.isBlocked"))){return}G.data("blockUI.isBlocked",E);if(!H||!J.bindEvents||(E&&!J.showOverlay)){return}var F="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(E){q(document).bind(F,J,C)}else{q(document).unbind(F,C)}}function C(J){if(J.keyCode&&J.keyCode==9){if(e&&J.data.constrainTabKey){var G=n;var F=!J.shiftKey&&J.target===G[G.length-1];var E=J.shiftKey&&J.target===G[0];if(F||E){setTimeout(function(){D(E)},10);return false}}}var H=J.data;var I=q(J.target);if(I.hasClass("blockOverlay")&&H.onOverlayClick){H.onOverlayClick()}if(I.parents("div."+H.blockMsgClass).length>0){return true}return I.parents().children().filter("div.blockUI").length===0}function D(E){if(!n){return}var F=n[E===true?n.length-1:0];if(F){F.focus()}}function b(I,E,K){var J=I.parentNode,H=I.style;var F=((J.offsetWidth-I.offsetWidth)/2)-B(J,"borderLeftWidth");var G=((J.offsetHeight-I.offsetHeight)/2)-B(J,"borderTopWidth");if(E){H.left=F>0?(F+"px"):"0"}if(K){H.top=G>0?(G+"px"):"0"}}function B(E,F){return parseInt(q.css(E,F),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();
/*!
 * jQuery Form Plugin
 * version: 3.35.0-2013.05.23
 * @requires jQuery v1.5 or later
 * Copyright (c) 2013 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(k){var e={};e.fileapi=k("<input type='file'/>").get(0).files!==undefined;e.formdata=window.FormData!==undefined;var j=!!k.fn.prop;k.fn.attr2=function(){if(!j){return this.attr.apply(this,arguments)}var l=this.prop.apply(this,arguments);if((l&&l.jquery)||typeof l==="string"){return l}return this.attr.apply(this,arguments)};k.fn.ajaxSubmit=function(u){if(!this.length){g("ajaxSubmit: skipping submit process - no element selected");return this}var o,O,z,B=this;if(typeof u=="function"){u={success:u}}o=u.type||this.attr2("method");O=u.url||this.attr2("action");z=(typeof O==="string")?k.trim(O):"";z=z||window.location.href||"";if(z){z=(z.match(/^([^#]+)/)||[])[1]}u=k.extend(true,{url:z,success:k.ajaxSettings.success,type:o||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},u);var G={};this.trigger("form-pre-serialize",[this,u,G]);if(G.veto){g("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(u.beforeSerialize&&u.beforeSerialize(this,u)===false){g("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var A=u.traditional;if(A===undefined){A=k.ajaxSettings.traditional}var E=[];var Q,R=this.formToArray(u.semantic,E);if(u.data){u.extraData=u.data;Q=k.param(u.data,A)}if(u.beforeSubmit&&u.beforeSubmit(R,this,u)===false){g("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[R,this,u,G]);if(G.veto){g("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var K=k.param(R,A);if(Q){K=(K?(K+"&"+Q):Q)}if(u.type.toUpperCase()=="GET"){u.url+=(u.url.indexOf("?")>=0?"&":"?")+K;u.data=null}else{u.data=K}var T=[];if(u.resetForm){T.push(function(){B.resetForm()})}if(u.clearForm){T.push(function(){B.clearForm(u.includeHidden)})}if(!u.dataType&&u.target){var y=u.success||function(){};T.push(function(U){var q=u.replaceTarget?"replaceWith":"html";k(u.target)[q](U).each(y,arguments)})}else{if(u.success){T.push(u.success)}}u.success=function(X,U,Y){var W=u.context||this;for(var V=0,q=T.length;V<q;V++){T[V].apply(W,[X,U,Y||B,B])}};if(u.error){var L=u.error;u.error=function(W,q,U){var V=u.context||this;L.apply(V,[W,q,U,B])}}if(u.complete){var n=u.complete;u.complete=function(V,q){var U=u.context||this;n.apply(U,[V,q,B])}}var P=k('input[type=file]:enabled[value!=""]',this);var C=P.length>0;var N="multipart/form-data";var J=(B.attr("enctype")==N||B.attr("encoding")==N);var I=e.fileapi&&e.formdata;g("fileAPI :"+I);var D=(C||J)&&!I;var H;if(u.iframe!==false&&(u.iframe||D)){if(u.closeKeepAlive){k.get(u.closeKeepAlive,function(){H=S(R)})}else{H=S(R)}}else{if((C||J)&&I){H=F(R)}else{H=k.ajax(u)}}B.removeData("jqxhr").data("jqxhr",H);for(var M=0;M<E.length;M++){E[M]=null}this.trigger("form-submit-notify",[this,u]);return this;function l(X){var Y=k.param(X,u.traditional).split("&");var U=Y.length;var q=[];var W,V;for(W=0;W<U;W++){Y[W]=Y[W].replace(/\+/g," ");V=Y[W].split("=");q.push([decodeURIComponent(V[0]),decodeURIComponent(V[1])])}return q}function F(U){var q=new FormData();for(var V=0;V<U.length;V++){q.append(U[V].name,U[V].value)}if(u.extraData){var Y=l(u.extraData);for(V=0;V<Y.length;V++){if(Y[V]){q.append(Y[V][0],Y[V][1])}}}u.data=null;var X=k.extend(true,{},k.ajaxSettings,u,{contentType:false,processData:false,cache:false,type:o||"POST"});if(u.uploadProgress){X.xhr=function(){var Z=jQuery.ajaxSettings.xhr();if(Z.upload){Z.upload.addEventListener("progress",function(ad){var ac=0;var aa=ad.loaded||ad.position;var ab=ad.total;if(ad.lengthComputable){ac=Math.ceil(aa/ab*100)}u.uploadProgress(ad,aa,ab,ac)},false)}return Z}}X.data=null;var W=X.beforeSend;X.beforeSend=function(aa,Z){Z.data=q;if(W){W.call(this,aa,Z)}};return k.ajax(X)}function S(at){var Y=B[0],X,ao,ai,aq,al,aa,ad,ab,ac,am,ap,ag;var aw=k.Deferred();if(at){for(ao=0;ao<E.length;ao++){X=k(E[ao]);if(j){X.prop("disabled",false)}else{X.removeAttr("disabled")}}}ai=k.extend(true,{},k.ajaxSettings,u);ai.context=ai.context||ai;al="jqFormIO"+(new Date().getTime());if(ai.iframeTarget){aa=k(ai.iframeTarget);am=aa.attr2("name");if(!am){aa.attr2("name",al)}else{al=am}}else{aa=k('<iframe name="'+al+'" src="'+ai.iframeSrc+'" />');aa.css({position:"absolute",top:"-1000px",left:"-1000px"})}ad=aa[0];ab={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(ax){var ay=(ax==="timeout"?"timeout":"aborted");g("aborting upload... "+ay);this.aborted=1;try{if(ad.contentWindow.document.execCommand){ad.contentWindow.document.execCommand("Stop")}}catch(az){}aa.attr("src",ai.iframeSrc);ab.error=ay;if(ai.error){ai.error.call(ai.context,ab,ay,ax)}if(aq){k.event.trigger("ajaxError",[ab,ai,ay])}if(ai.complete){ai.complete.call(ai.context,ab,ay)}}};aq=ai.global;if(aq&&0===k.active++){k.event.trigger("ajaxStart")}if(aq){k.event.trigger("ajaxSend",[ab,ai])}if(ai.beforeSend&&ai.beforeSend.call(ai.context,ab,ai)===false){if(ai.global){k.active--}aw.reject();return aw}if(ab.aborted){aw.reject();return aw}ac=Y.clk;if(ac){am=ac.name;if(am&&!ac.disabled){ai.extraData=ai.extraData||{};ai.extraData[am]=ac.value;if(ac.type=="image"){ai.extraData[am+".x"]=Y.clk_x;ai.extraData[am+".y"]=Y.clk_y}}}var ah=1;var ae=2;function af(az){var ay=null;try{if(az.contentWindow){ay=az.contentWindow.document}}catch(ax){g("cannot get iframe.contentWindow document: "+ax)}if(ay){return ay}try{ay=az.contentDocument?az.contentDocument:az.document}catch(ax){g("cannot get iframe.contentDocument: "+ax);ay=az.document}return ay}var W=k("meta[name=csrf-token]").attr("content");var V=k("meta[name=csrf-param]").attr("content");if(V&&W){ai.extraData=ai.extraData||{};ai.extraData[V]=W}function an(){var az=B.attr2("target"),ax=B.attr2("action");Y.setAttribute("target",al);if(!o){Y.setAttribute("method","POST")}if(ax!=ai.url){Y.setAttribute("action",ai.url)}if(!ai.skipEncodingOverride&&(!o||/post/i.test(o))){B.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(ai.timeout){ag=setTimeout(function(){ap=true;ak(ah)},ai.timeout)}function aA(){try{var aE=af(ad).readyState;g("state = "+aE);if(aE&&aE.toLowerCase()=="uninitialized"){setTimeout(aA,50)}}catch(aF){g("Server abort: ",aF," (",aF.name,")");ak(ae);if(ag){clearTimeout(ag)}ag=undefined}}var ay=[];try{if(ai.extraData){for(var aD in ai.extraData){if(ai.extraData.hasOwnProperty(aD)){if(k.isPlainObject(ai.extraData[aD])&&ai.extraData[aD].hasOwnProperty("name")&&ai.extraData[aD].hasOwnProperty("value")){ay.push(k('<input type="hidden" name="'+ai.extraData[aD].name+'">').val(ai.extraData[aD].value).appendTo(Y)[0])}else{ay.push(k('<input type="hidden" name="'+aD+'">').val(ai.extraData[aD]).appendTo(Y)[0])}}}}if(!ai.iframeTarget){aa.appendTo("body");if(ad.attachEvent){ad.attachEvent("onload",ak)}else{ad.addEventListener("load",ak,false)}}setTimeout(aA,15);try{Y.submit()}catch(aB){var aC=document.createElement("form").submit;aC.apply(Y)}}finally{Y.setAttribute("action",ax);if(az){Y.setAttribute("target",az)}else{B.removeAttr("target")}k(ay).remove()}}if(ai.forceSync){an()}else{setTimeout(an,10)}var au,av,ar=50,Z;function ak(aD){if(ab.aborted||Z){return}av=af(ad);if(!av){g("cannot access response document");aD=ae}if(aD===ah&&ab){ab.abort("timeout");aw.reject(ab,"timeout");return}else{if(aD==ae&&ab){ab.abort("server abort");aw.reject(ab,"error","server abort");return}}if(!av||av.location.href==ai.iframeSrc){if(!ap){return}}if(ad.detachEvent){ad.detachEvent("onload",ak)}else{ad.removeEventListener("load",ak,false)}var aB="success",aF;try{if(ap){throw"timeout"}var aA=ai.dataType=="xml"||av.XMLDocument||k.isXMLDoc(av);g("isXml="+aA);if(!aA&&window.opera&&(av.body===null||!av.body.innerHTML)){if(--ar){g("requeing onLoad callback, DOM not available");setTimeout(ak,250);return}}var aG=av.body?av.body:av.documentElement;ab.responseText=aG?aG.innerHTML:null;ab.responseXML=av.XMLDocument?av.XMLDocument:av;if(aA){ai.dataType="xml"}ab.getResponseHeader=function(aJ){var aI={"content-type":ai.dataType};return aI[aJ]};if(aG){ab.status=Number(aG.getAttribute("status"))||ab.status;ab.statusText=aG.getAttribute("statusText")||ab.statusText}var ax=(ai.dataType||"").toLowerCase();var aE=/(json|script|text)/.test(ax);if(aE||ai.textarea){var aC=av.getElementsByTagName("textarea")[0];if(aC){ab.responseText=aC.value;ab.status=Number(aC.getAttribute("status"))||ab.status;ab.statusText=aC.getAttribute("statusText")||ab.statusText}else{if(aE){var ay=av.getElementsByTagName("pre")[0];var aH=av.getElementsByTagName("body")[0];if(ay){ab.responseText=ay.textContent?ay.textContent:ay.innerText}else{if(aH){ab.responseText=aH.textContent?aH.textContent:aH.innerText}}}}}else{if(ax=="xml"&&!ab.responseXML&&ab.responseText){ab.responseXML=aj(ab.responseText)}}try{au=q(ab,ax,ai)}catch(az){aB="parsererror";ab.error=aF=(az||aB)}}catch(az){g("error caught: ",az);aB="error";ab.error=aF=(az||aB)}if(ab.aborted){g("upload aborted");aB=null}if(ab.status){aB=(ab.status>=200&&ab.status<300||ab.status===304)?"success":"error"}if(aB==="success"){if(ai.success){ai.success.call(ai.context,au,"success",ab)}aw.resolve(ab.responseText,"success",ab);if(aq){k.event.trigger("ajaxSuccess",[ab,ai])}}else{if(aB){if(aF===undefined){aF=ab.statusText}if(ai.error){ai.error.call(ai.context,ab,aB,aF)}aw.reject(ab,"error",aF);if(aq){k.event.trigger("ajaxError",[ab,ai,aF])}}}if(aq){k.event.trigger("ajaxComplete",[ab,ai])}if(aq&&!--k.active){k.event.trigger("ajaxStop")}if(ai.complete){ai.complete.call(ai.context,ab,aB)}Z=true;if(ai.timeout){clearTimeout(ag)}setTimeout(function(){if(!ai.iframeTarget){aa.remove()}ab.responseXML=null},100)}var aj=k.parseXML||function(ax,ay){if(window.ActiveXObject){ay=new ActiveXObject("Microsoft.XMLDOM");ay.async="false";ay.loadXML(ax)}else{ay=(new DOMParser()).parseFromString(ax,"text/xml")}return(ay&&ay.documentElement&&ay.documentElement.nodeName!="parsererror")?ay:null};var U=k.parseJSON||function(ax){return window["eval"]("("+ax+")")};var q=function(aC,aA,az){var ay=aC.getResponseHeader("content-type")||"",ax=aA==="xml"||!aA&&ay.indexOf("xml")>=0,aB=ax?aC.responseXML:aC.responseText;if(ax&&aB.documentElement.nodeName==="parsererror"){if(k.error){k.error("parsererror")}}if(az&&az.dataFilter){aB=az.dataFilter(aB,aA)}if(typeof aB==="string"){if(aA==="json"||!aA&&ay.indexOf("json")>=0){aB=U(aB)}else{if(aA==="script"||!aA&&ay.indexOf("javascript")>=0){k.globalEval(aB)}}}return aB};return aw}};k.fn.ajaxForm=function(l){l=l||{};l.delegation=l.delegation&&k.isFunction(k.fn.on);if(!l.delegation&&this.length===0){var n={s:this.selector,c:this.context};if(!k.isReady&&n.s){g("DOM not ready, queuing ajaxForm");k(function(){k(n.s,n.c).ajaxForm(l)});return this}g("terminating; zero elements found by selector"+(k.isReady?"":" (DOM not ready)"));return this}if(l.delegation){k(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,l,b).on("click.form-plugin",this.selector,l,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",l,b).bind("click.form-plugin",l,a)};function b(n){var l=n.data;if(!n.isDefaultPrevented()){n.preventDefault();k(this).ajaxSubmit(l)}}function a(u){var q=u.target;var n=k(q);if(!(n.is("[type=submit],[type=image]"))){var l=n.closest("[type=submit]");if(l.length===0){return}q=l[0]}var o=this;o.clk=q;if(q.type=="image"){if(u.offsetX!==undefined){o.clk_x=u.offsetX;o.clk_y=u.offsetY}else{if(typeof k.fn.offset=="function"){var y=n.offset();o.clk_x=u.pageX-y.left;o.clk_y=u.pageY-y.top}else{o.clk_x=u.pageX-q.offsetLeft;o.clk_y=u.pageY-q.offsetTop}}}setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}k.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};k.fn.formToArray=function(H,l){var G=[];if(this.length===0){return G}var u=this[0];var A=H?u.getElementsByTagName("*"):u.elements;if(!A){return G}var C,B,z,I,y,E,q;for(C=0,E=A.length;C<E;C++){y=A[C];z=y.name;if(!z||y.disabled){continue}if(H&&u.clk&&y.type=="image"){if(u.clk==y){G.push({name:z,value:k(y).val(),type:y.type});G.push({name:z+".x",value:u.clk_x},{name:z+".y",value:u.clk_y})}continue}I=k.fieldValue(y,true);if(I&&I.constructor==Array){if(l){l.push(y)}for(B=0,q=I.length;B<q;B++){G.push({name:z,value:I[B]})}}else{if(e.fileapi&&y.type=="file"){if(l){l.push(y)}var o=y.files;if(o.length){for(B=0;B<o.length;B++){G.push({name:z,value:o[B],type:y.type})}}else{G.push({name:z,value:"",type:y.type})}}else{if(I!==null&&typeof I!="undefined"){if(l){l.push(y)}G.push({name:z,value:I,type:y.type,required:y.required})}}}}if(!H&&u.clk){var D=k(u.clk),F=D[0];z=F.name;if(z&&!F.disabled&&F.type=="image"){G.push({name:z,value:D.val()});G.push({name:z+".x",value:u.clk_x},{name:z+".y",value:u.clk_y})}}return G};k.fn.formSerialize=function(l){return k.param(this.formToArray(l))};k.fn.fieldSerialize=function(n){var l=[];this.each(function(){var y=this.name;if(!y){return}var q=k.fieldValue(this,n);if(q&&q.constructor==Array){for(var u=0,o=q.length;u<o;u++){l.push({name:y,value:q[u]})}}else{if(q!==null&&typeof q!="undefined"){l.push({name:this.name,value:q})}}});return k.param(l)};k.fn.fieldValue=function(y){for(var u=[],o=0,l=this.length;o<l;o++){var q=this[o];var n=k.fieldValue(q,y);if(n===null||typeof n=="undefined"||(n.constructor==Array&&!n.length)){continue}if(n.constructor==Array){k.merge(u,n)}else{u.push(n)}}return u};k.fieldValue=function(l,A){var q=l.name,F=l.type,G=l.tagName.toLowerCase();if(A===undefined){A=true}if(A&&(!q||l.disabled||F=="reset"||F=="button"||(F=="checkbox"||F=="radio")&&!l.checked||(F=="submit"||F=="image")&&l.form&&l.form.clk!=l||G=="select"&&l.selectedIndex==-1)){return null}if(G=="select"){var B=l.selectedIndex;if(B<0){return null}var D=[],o=l.options;var y=(F=="select-one");var C=(y?B+1:o.length);for(var u=(y?B:0);u<C;u++){var z=o[u];if(z.selected){var E=z.value;if(!E){E=(z.attributes&&z.attributes.value&&!(z.attributes.value.specified))?z.text:z.value}if(y){return E}D.push(E)}}return D}return k(l).val()};k.fn.clearForm=function(l){return this.each(function(){k("input,select,textarea",this).clearFields(l)})};k.fn.clearFields=k.fn.clearInputs=function(l){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var q=this.type,o=this.tagName.toLowerCase();if(n.test(q)||o=="textarea"){this.value=""}else{if(q=="checkbox"||q=="radio"){this.checked=false}else{if(o=="select"){this.selectedIndex=-1}else{if(q=="file"){if(/MSIE/.test(navigator.userAgent)){k(this).replaceWith(k(this).clone(true))}else{k(this).val("")}}else{if(l){if((l===true&&/hidden/.test(q))||(typeof l=="string"&&k(this).is(l))){this.value=""}}}}}}})};k.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};k.fn.enable=function(l){if(l===undefined){l=true}return this.each(function(){this.disabled=!l})};k.fn.selected=function(l){if(l===undefined){l=true}return this.each(function(){var n=this.type;if(n=="checkbox"||n=="radio"){this.checked=l}else{if(this.tagName.toLowerCase()=="option"){var o=k(this).parent("select");if(l&&o[0]&&o[0].type=="select-one"){o.find("option").selected(false)}this.selected=l}}})};k.fn.ajaxSubmit.debug=false;function g(){if(!k.fn.ajaxSubmit.debug){return}var l="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(l)}else{if(window.opera&&window.opera.postError){window.opera.postError(l)}}}})(jQuery);
/*!
	jQuery Autosize v1.16.12
	(c) 2013 Jack Moore - jacklmoore.com
	updated: 2013-05-31
	license: http://www.opensource.org/licenses/mit-license.php
*/
(function(g){var e={className:"autosizejs",append:"",callback:false},k="hidden",b="border-box",u="lineHeight",a='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',l=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o="oninput",j="onpropertychange",q,n=g(a).data("autosize",true)[0];n.style.lineHeight="99px";if(g(n).css(u)==="99px"){l.push(u)}n.style.lineHeight="";g.fn.autosize=function(y){y=g.extend({},e,y||{});if(n.parentNode!==document.body){g(document.body).append(n)}return this.each(function(){var C=this,B=g(C),H,F,A,z=0,G=g.isFunction(y.callback);if(B.data("autosize")){return}if(B.css("box-sizing")===b||B.css("-moz-box-sizing")===b||B.css("-webkit-box-sizing")===b){z=B.outerHeight()-B.height()}H=Math.max(parseInt(B.css("minHeight"),10)-z||0,B.height());A=(B.css("resize")==="none"||B.css("resize")==="vertical")?"none":"horizontal";B.css({overflow:k,overflowY:k,wordWrap:"break-word",resize:A}).data("autosize",true);function E(){q=C;n.className=y.className;F=parseInt(B.css("maxHeight"),10);g.each(l,function(J,K){n.style[K]=B.css(K)});if(o in C){var I=C.value;C.value="";C.value=I}}function D(){var I,K,J;if(q!==C){E()}n.value=C.value+y.append;n.style.overflowY=C.style.overflowY;J=parseInt(C.style.height,10);n.style.width=Math.max(B.width(),0)+"px";n.scrollTop=0;n.scrollTop=90000;I=n.scrollTop;if(F&&I>F){I=F;K="scroll"}else{if(I<H){I=H}}I+=z;C.style.overflowY=K||k;if(J!==I){C.style.height=I+"px";if(G){y.callback.call(C,C)}}}if(j in C){if(o in C){C[o]=C.onkeyup=D}else{C[j]=function(){if(event.propertyName==="value"){D()}}}}else{C[o]=D}g(window).on("resize",function(){active=false;D()});B.on("autosize",function(){active=false;D()});D()})}}(window.jQuery||window.Zepto));(function(a){jQuery.fn.extend({elastic:function(){var b=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor"];return this.each(function(){if(this.type!=="textarea"){return false}var l=jQuery(this),e=jQuery("<div />").css({position:"absolute",display:"none","word-wrap":"break-word","white-space":"pre-wrap"}),o=parseInt(l.css("line-height"),10)||parseInt(l.css("font-size"),"10"),u=parseInt(l.css("height"),10)||o*3,q=parseInt(l.css("max-height"),10)||Number.MAX_VALUE,g=0;if(q<0){q=Number.MAX_VALUE}e.appendTo(l.parent());var k=b.length;while(k--){e.css(b[k].toString(),l.css(b[k].toString()))}function n(){var z=Math.floor(parseInt(l.width(),10));if(e.width()!==z){e.css({width:z+"px"});j(true)}}function y(z,B){var A=Math.floor(parseInt(z,10));if(l.height()!==A){l.css({height:A+"px",overflow:B})}}function j(C){var B=l.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />");var z=e.html().replace(/<br>/ig,"<br />");if(C||B+"&nbsp;"!==z){e.html(B+"&nbsp;");if(Math.abs(e.height()+o-l.height())>3){var A=e.height()+o;if(A>=q){y(q,"auto")}else{if(A<=u){y(u,"hidden")}else{y(A,"hidden")}}}}}l.css({overflow:"hidden"});l.bind("keyup change cut paste",function(){j()});a(window).bind("resize",n);l.bind("resize",n);l.bind("update",j);l.bind("blur",function(){if(e.height()<q){if(e.height()>u){l.height(e.height())}else{l.height(u)}}});l.bind("input paste",function(z){setTimeout(j,250)});j()})}})})(jQuery);(function(g){g.fn.tabby=function(k){var l=g.extend({},g.fn.tabby.defaults,k);var n=g.fn.tabby.pressed;return this.each(function(){$this=g(this);var o=g.meta?g.extend({},l,$this.data()):l;$this.bind("keydown",function(u){var q=g.fn.tabby.catch_kc(u);if(16==q){n.shft=true}if(17==q){n.ctrl=true;setTimeout("$.fn.tabby.pressed.ctrl = false;",1000)}if(18==q){n.alt=true;setTimeout("$.fn.tabby.pressed.alt = false;",1000)}if(9==q&&!n.ctrl&&!n.alt){u.preventDefault;n.last=q;setTimeout("$.fn.tabby.pressed.last = null;",0);j(g(u.target).get(0),n.shft,o);return false}}).bind("keyup",function(q){if(16==g.fn.tabby.catch_kc(q)){n.shft=false}}).bind("blur",function(q){if(9==n.last){g(q.target).one("focus",function(u){n.last=null}).get(0).focus()}})})};g.fn.tabby.catch_kc=function(k){return k.keyCode?k.keyCode:k.charCode?k.charCode:k.which};g.fn.tabby.pressed={shft:false,ctrl:false,alt:false,last:null};function b(k){if(window.console&&window.console.log){window.console.log("textarea count: "+k.size())}}function j(q,n,l){var k=q.scrollTop;if(q.setSelectionRange){a(q,n,l)}else{if(document.selection){e(q,n,l)}}q.scrollTop=k}g.fn.tabby.defaults={tabString:String.fromCharCode(9)};function a(q,k,G){var F=q.selectionStart;var D=q.selectionEnd;if(F==D){if(k){if("\t"==q.value.substring(F-G.tabString.length,F)){q.value=q.value.substring(0,F-G.tabString.length)+q.value.substring(F);q.focus();q.setSelectionRange(F-G.tabString.length,F-G.tabString.length)}else{if("\t"==q.value.substring(F,F+G.tabString.length)){q.value=q.value.substring(0,F)+q.value.substring(F+G.tabString.length);q.focus();q.setSelectionRange(F,F)}}}else{q.value=q.value.substring(0,F)+G.tabString+q.value.substring(F);q.focus();q.setSelectionRange(F+G.tabString.length,F+G.tabString.length)}}else{var H=q.value.split("\n");var E=new Array();var y=0;var n=0;var l=false;for(var A in H){n=y+H[A].length;E.push({start:y,end:n,selected:(y<=F&&n>F)||(n>=D&&y<D)||(y>F&&n<D)});y=n+1}var u=0;for(var A in E){if(E[A].selected){var C=E[A].start+u;if(k&&G.tabString==q.value.substring(C,C+G.tabString.length)){q.value=q.value.substring(0,C)+q.value.substring(C+G.tabString.length);u-=G.tabString.length}else{if(!k){q.value=q.value.substring(0,C)+G.tabString+q.value.substring(C);u+=G.tabString.length}}}}q.focus();var B=F+((u>0)?G.tabString.length:(u<0)?-G.tabString.length:0);var z=D+u;q.setSelectionRange(B,z)}}function e(C,I,k){var B=document.selection.createRange();if(C==B.parentElement()){if(""==B.text){if(I){var y=B.getBookmark();B.moveStart("character",-k.tabString.length);if(k.tabString==B.text){B.text=""}else{B.moveToBookmark(y);B.moveEnd("character",k.tabString.length);if(k.tabString==B.text){B.text=""}}B.collapse(true);B.select()}else{B.text=k.tabString;B.collapse(false);B.select()}}else{var u=B.text;var A=u.length;var G=u.split("\r\n");var L=document.body.createTextRange();L.moveToElementText(C);L.setEndPoint("EndToStart",B);var z=L.text;var J=z.split("\r\n");var D=z.length;var K=document.body.createTextRange();K.moveToElementText(C);K.setEndPoint("StartToEnd",B);var H=K.text;var l=document.body.createTextRange();l.moveToElementText(C);l.setEndPoint("StartToEnd",L);var E=l.text;var n=g(C).html();g("#r3").text(D+" + "+A+" + "+H.length+" = "+n.length);if((D+E.length)<n.length){J.push("");D+=2;if(I&&k.tabString==G[0].substring(0,k.tabString.length)){G[0]=G[0].substring(k.tabString.length)}else{if(!I){G[0]=k.tabString+G[0]}}}else{if(I&&k.tabString==J[J.length-1].substring(0,k.tabString.length)){J[J.length-1]=J[J.length-1].substring(k.tabString.length)}else{if(!I){J[J.length-1]=k.tabString+J[J.length-1]}}}for(var F=1;F<G.length;F++){if(I&&k.tabString==G[F].substring(0,k.tabString.length)){G[F]=G[F].substring(k.tabString.length)}else{if(!I){G[F]=k.tabString+G[F]}}}if(1==J.length&&0==D){if(I&&k.tabString==G[0].substring(0,k.tabString.length)){G[0]=G[0].substring(k.tabString.length)}else{if(!I){G[0]=k.tabString+G[0]}}}if((D+A+H.length)<n.length){G.push("");A+=2}L.text=J.join("\r\n");B.text=G.join("\r\n");var q=document.body.createTextRange();q.moveToElementText(C);if(0<D){q.setEndPoint("StartToEnd",L)}else{q.setEndPoint("StartToStart",L)}q.setEndPoint("EndToEnd",B);q.select()}}}})(jQuery);jQuery.cookie=function(b,o,y){if(typeof o!="undefined"){y=y||{};if(o===null){o="";y.expires=-1}var j="";if(y.expires&&(typeof y.expires=="number"||y.expires.toUTCString)){var k;if(typeof y.expires=="number"){k=new Date();k.setTime(k.getTime()+(y.expires*24*60*60*1000))}else{k=y.expires}j="; expires="+k.toUTCString()}var u=y.path?"; path="+(y.path):"";var l=y.domain?"; domain="+(y.domain):"";var a=y.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(o),j,u,l,a].join("")}else{var g=null;if(document.cookie&&document.cookie!=""){var q=document.cookie.split(";");for(var n=0;n<q.length;n++){var e=jQuery.trim(q[n]);if(e.substring(0,b.length+1)==(b+"=")){g=decodeURIComponent(e.substring(b.length+1));break}}}return g}};(function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(type,name){this.defaults.type=type;this.defaults.name=name},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length){settings.single="metadata"}var data=$.data(elem,settings.single);if(data){return data}data="{}";var getData=function(data){if(typeof data!="string"){return data}if(data.indexOf("{")<0){data=eval("("+data+")")}};var getObject=function(data){if(typeof data!="string"){return data}data=eval("("+data+")");return data};if(settings.type=="html5"){var object={};$(elem.attributes).each(function(){var name=this.nodeName;if(name.match(/^data-/)){name=name.replace(/^data-/,"")}else{return true}object[name]=getObject(this.nodeValue)})}else{if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m){data=m[1]}}else{if(settings.type=="elem"){if(!elem.getElementsByTagName){return}var e=elem.getElementsByTagName(settings.name);if(e.length){data=$.trim(e[0].innerHTML)}}else{if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr){data=attr}}}}object=getObject(data.indexOf("{")<0?"{"+data+"}":data)}$.data(elem,settings.single,object);return object}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts)}})(jQuery);(function(e){var g=document.documentMode||0;var l=/MSIE/.test(navigator.userAgent);var q=l&&(/MSIE (6|7|8)\.0/.test(navigator.userAgent)||g<9);e.fn.media=function(B,A,C){if(B=="undo"){return this.each(function(){var E=e(this);var D=E.data("media.origHTML");if(D){E.replaceWith(D)}})}return this.each(function(){if(typeof B=="function"){C=A;A=B;B={}}var E=o(this,B);if(typeof A=="function"){A(this,E)}var D=u();var F=D.exec(E.src.toLowerCase())||[""];var J;if(E.type){F[0]=E.type}else{F.shift()}for(var G=0;G<F.length;G++){J=F[G].toLowerCase();if(k(J[0])){J="fn"+J}if(!e.fn.media[J]){continue}var L=e.fn.media[J+"_player"];if(!E.params){E.params={}}if(L){var H=L.autoplayAttr=="autostart";E.params[L.autoplayAttr||"autoplay"]=H?(E.autoplay?1:0):E.autoplay?true:false}var I=e.fn.media[J](this,E);I.css("backgroundColor",E.bgColor).width(E.width);if(E.canUndo){var K=e("<div></div>").append(this);I.data("media.origHTML",K.html())}if(typeof C=="function"){C(this,I[0],E,L.name)}break}})};e.fn.media.mapFormat=function(B,A){if(!B||!A||!e.fn.media.defaults.players[A]){return}B=B.toLowerCase();if(k(B[0])){B="fn"+B}e.fn.media[B]=e.fn.media[A];e.fn.media[B+"_player"]=e.fn.media.defaults.players[A]};e.fn.media.defaults={standards:true,canUndo:true,width:400,height:400,autoplay:0,bgColor:"#ffffff",params:{wmode:"transparent"},attrs:{},flvKeyName:"file",flashvars:{},flashVersion:"7",expressInstaller:null,flvPlayer:"mediaplayer.swf",mp3Player:"mediaplayer.swf",silverlight:{inplaceInstallPrompt:"true",isWindowless:"true",framerate:"24",version:"0.9",onError:null,onLoad:null,initParams:null,userContext:null}};e.fn.media.defaults.players={flash:{name:"flash",title:"Flash",types:"flv,mp3,swf",mimetype:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer",ieAttrs:{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",type:"application/x-oleobject",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+e.fn.media.defaults.flashVersion}},quicktime:{name:"quicktime",title:"QuickTime",mimetype:"video/quicktime",pluginspage:"http://www.apple.com/quicktime/download/",types:"aif,aiff,aac,au,bmp,gsm,mov,mid,midi,mpg,mpeg,mp4,m4a,psd,qt,qtif,qif,qti,snd,tif,tiff,wav,3g2,3gp",ieAttrs:{classid:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",codebase:"http://www.apple.com/qtactivex/qtplugin.cab"}},realplayer:{name:"real",title:"RealPlayer",types:"ra,ram,rm,rpm,rv,smi,smil",mimetype:"audio/x-pn-realaudio-plugin",pluginspage:"http://www.real.com/player/",autoplayAttr:"autostart",ieAttrs:{classid:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"}},winmedia:{name:"winmedia",title:"Windows Media",types:"asx,asf,avi,wma,wmv",mimetype:z()?"application/x-ms-wmp":"application/x-mplayer2",pluginspage:"http://www.microsoft.com/Windows/MediaPlayer/",autoplayAttr:"autostart",oUrl:"url",ieAttrs:{classid:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6",type:"application/x-oleobject"}},img:{name:"img",title:"Image",types:"gif,png,jpg"},iframe:{name:"iframe",types:"html,pdf"},silverlight:{name:"silverlight",types:"xaml"}};function z(){var A=navigator.plugins||[];for(var B=0;B<A.length;B++){var C=A[B];if(C.filename=="np-mswmp.dll"){return true}}return false}var a=1;for(var y in e.fn.media.defaults.players){var j=e.fn.media.defaults.players[y].types;e.each(j.split(","),function(A,B){if(k(B[0])){B="fn"+B}e.fn.media[B]=e.fn.media[y]=b(y);e.fn.media[B+"_player"]=e.fn.media.defaults.players[y]})}function u(){var B="";for(var A in e.fn.media.defaults.players){if(B.length){B+=","}B+=e.fn.media.defaults.players[A].types}return new RegExp("\\.("+B.replace(/,/ig,"|")+")\\b")}function b(A){return function(C,B){return n(C,B,A)}}function k(A){return"0123456789".indexOf(A)>-1}function o(D,P){P=P||{};var K,E;var O=e(D);var N=D.className||"";var M=e.metadata?O.metadata():e.meta?O.data():{};M=M||{};var L=M.width||parseInt(((N.match(/\bw:(\d+)/)||[])[1]||0),10)||parseInt(((N.match(/\bwidth:(\d+)/)||[])[1]||0),10);var G=M.height||parseInt(((N.match(/\bh:(\d+)/)||[])[1]||0),10)||parseInt(((N.match(/\bheight:(\d+)/)||[])[1]||0),10);if(L){M.width=L}if(G){M.height=G}if(N){M.cls=N}var C="data-";for(var F=0;F<D.attributes.length;F++){K=D.attributes[F],E=e.trim(K.name);var H=E.indexOf(C);if(H===0){E=E.substring(C.length);M[E]=K.value}}K=e.fn.media.defaults;var J=P;var I=M;var B={params:{bgColor:P.bgColor||e.fn.media.defaults.bgColor}};var A=e.extend({},K,J,I);e.each(["attrs","params","flashvars","silverlight"],function(Q,R){A[R]=e.extend({},B[R]||{},K[R]||{},J[R]||{},I[R]||{})});if(typeof A.caption=="undefined"){A.caption=O.text()}A.src=A.src||O.attr("href")||O.attr("src")||"unknown";return A}e.fn.media.swf=function(E,A){var F,C;if(!window.SWFObject&&!window.swfobject){if(A.flashvars){var H=[];for(F in A.flashvars){H.push(F+"="+A.flashvars[F])}if(!A.params){A.params={}}A.params.flashvars=H.join("&")}return n(E,A,"flash")}var B=E.id?(' id="'+E.id+'"'):"";var I=A.cls?(' class="'+A.cls+'"'):"";var G=e("<div"+B+I+">");if(window.swfobject){e(E).after(G).appendTo(G);if(!E.id){E.id="movie_player_"+a++}window.swfobject.embedSWF(A.src,E.id,A.width,A.height,A.flashVersion,A.expressInstaller,A.flashvars,A.params,A.attrs)}else{e(E).after(G).remove();var D=new SWFObject(A.src,"movie_player_"+a++,A.width,A.height,A.flashVersion,A.bgColor);if(A.expressInstaller){D.useExpressInstall(A.expressInstaller)}for(C in A.params){if(C!="bgColor"){D.addParam(C,A.params[C])}}for(F in A.flashvars){D.addVariable(F,A.flashvars[F])}D.write(G[0])}if(A.caption){e("<div>").appendTo(G).html(A.caption)}return G};e.fn.media.flv=e.fn.media.mp3=function(D,E){var F=E.src;var C=/\.mp3\b/i.test(F)?E.mp3Player:E.flvPlayer;var B=E.flvKeyName;F=encodeURIComponent(F);E.src=C;E.src=E.src+"?"+B+"="+(F);var A={};A[B]=F;E.flashvars=e.extend({},A,E.flashvars);return e.fn.media.swf(D,E)};e.fn.media.xaml=function(G,H){if(!window.Sys||!window.Sys.Silverlight){if(e.fn.media.xaml.warning){return}e.fn.media.xaml.warning=1;alert("You must include the Silverlight.js script.");return}var F={width:H.width,height:H.height,background:H.bgColor,inplaceInstallPrompt:H.silverlight.inplaceInstallPrompt,isWindowless:H.silverlight.isWindowless,framerate:H.silverlight.framerate,version:H.silverlight.version};var D={onError:H.silverlight.onError,onLoad:H.silverlight.onLoad};var E=G.id?(' id="'+G.id+'"'):"";var C=H.id||"AG"+a++;var B=H.cls?(' class="'+H.cls+'"'):"";var A=e("<div"+E+B+">");e(G).after(A).remove();Sys.Silverlight.createObjectEx({source:H.src,initParams:H.silverlight.initParams,userContext:H.silverlight.userContext,id:C,parentElement:A[0],properties:F,events:D});if(H.caption){e("<div>").appendTo(A).html(H.caption)}return A};function n(E,A,I){var M=e(E);var D=e.fn.media.defaults.players[I];var H,J,K;if(I=="iframe"){D=e('<iframe width="'+A.width+'" height="'+A.height+'" >');D.attr("src",A.src);D.css("backgroundColor",D.bgColor)}else{if(I=="img"){D=e("<img>");D.attr("src",A.src);if(A.width){D.attr("width",A.width)}if(A.height){D.attr("height",A.height)}D.css("backgroundColor",D.bgColor)}else{if(q){H=['<object width="'+A.width+'" height="'+A.height+'" '];for(J in A.attrs){H.push(J+'="'+A.attrs[J]+'" ')}for(J in D.ieAttrs||{}){K=D.ieAttrs[J];if(J=="codebase"&&window.location.protocol=="https:"){K=K.replace("http","https")}H.push(J+'="'+K+'" ')}H.push("></object>");var C=['<param name="'+(D.oUrl||"src")+'" value="'+A.src+'">'];for(J in A.params){C.push('<param name="'+J+'" value="'+A.params[J]+'">')}D=document.createElement(H.join(""));for(var F=0;F<C.length;F++){D.appendChild(document.createElement(C[F]))}}else{if(A.standards){H=['<object type="'+D.mimetype+'" width="'+A.width+'" height="'+A.height+'"'];if(A.src){H.push(' data="'+A.src+'" ')}if(l){for(J in D.ieAttrs||{}){K=D.ieAttrs[J];if(J=="codebase"&&window.location.protocol=="https:"){K=K.replace("http","https")}H.push(J+'="'+K+'" ')}}H.push(">");H.push('<param name="'+(D.oUrl||"src")+'" value="'+A.src+'">');for(J in A.params){if(J=="wmode"&&I!="flash"){continue}H.push('<param name="'+J+'" value="'+A.params[J]+'">')}H.push("<div><p><strong>"+D.title+" Required</strong></p><p>"+D.title+' is required to view this media. <a href="'+D.pluginspage+'">Download Here</a>.</p></div>');H.push("</object>")}else{H=['<embed width="'+A.width+'" height="'+A.height+'" style="display:block"'];if(A.src){H.push(' src="'+A.src+'" ')}for(J in A.attrs){H.push(J+'="'+A.attrs[J]+'" ')}for(J in D.eAttrs||{}){H.push(J+'="'+D.eAttrs[J]+'" ')}for(J in A.params){if(J=="wmode"&&I!="flash"){continue}H.push(J+'="'+A.params[J]+'" ')}H.push("></embed>")}}}}var B=E.id?(' id="'+E.id+'"'):"";var L=A.cls?(' class="'+A.cls+'"'):"";var G=e("<div"+B+L+">");M.after(G).remove();if(q||I=="iframe"||I=="img"){G.append(D)}else{G.html(H.join(""))}if(A.caption){e("<div>").appendTo(G).html(A.caption)}return G}})(jQuery);(function(b){var a=function(){var af={},e,aa=65,G,ac='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',O={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:true,flat:false},W=function(ag,ai){var ah=q(ag);b(ai).data("colorpicker").fields.eq(1).val(ah.r).end().eq(2).val(ah.g).end().eq(3).val(ah.b).end()},H=function(ag,ah){b(ah).data("colorpicker").fields.eq(4).val(ag.h).end().eq(5).val(ag.s).end().eq(6).val(ag.b).end()},l=function(ag,ah){b(ah).data("colorpicker").fields.eq(0).val(ae(ag)).end()},y=function(ag,ah){b(ah).data("colorpicker").selector.css("backgroundColor","#"+ae({h:ag.h,s:100,b:100}));b(ah).data("colorpicker").selectorIndic.css({left:parseInt(150*ag.s/100,10),top:parseInt(150*(100-ag.b)/100,10)})},T=function(ag,ah){b(ah).data("colorpicker").hue.css("top",parseInt(150-150*ag.h/360,10))},n=function(ag,ah){b(ah).data("colorpicker").currentColor.css("backgroundColor","#"+ae(ag))},R=function(ag,ah){b(ah).data("colorpicker").newColor.css("backgroundColor","#"+ae(ag))},A=function(ag){var ai=ag.charCode||ag.keyCode||-1;if((ai>aa&&ai<=90)||ai==32){return false}var ah=b(this).parent().parent();if(ah.data("colorpicker").livePreview===true){j.apply(this)}},j=function(ah){var ai=b(this).parent().parent(),ag;if(this.parentNode.className.indexOf("_hex")>0){ai.data("colorpicker").color=ag=z(L(this.value))}else{if(this.parentNode.className.indexOf("_hsb")>0){ai.data("colorpicker").color=ag=k({h:parseInt(ai.data("colorpicker").fields.eq(4).val(),10),s:parseInt(ai.data("colorpicker").fields.eq(5).val(),10),b:parseInt(ai.data("colorpicker").fields.eq(6).val(),10)})}else{ai.data("colorpicker").color=ag=o(Z({r:parseInt(ai.data("colorpicker").fields.eq(1).val(),10),g:parseInt(ai.data("colorpicker").fields.eq(2).val(),10),b:parseInt(ai.data("colorpicker").fields.eq(3).val(),10)}))}}if(ah){W(ag,ai.get(0));l(ag,ai.get(0));H(ag,ai.get(0))}y(ag,ai.get(0));T(ag,ai.get(0));R(ag,ai.get(0));ai.data("colorpicker").onChange.apply(ai,[ag,ae(ag),q(ag)])},B=function(ag){var ah=b(this).parent().parent();ah.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},X=function(){aa=this.parentNode.className.indexOf("_hex")>0?70:65;b(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus");b(this).parent().addClass("colorpicker_focus")},V=function(ag){var ai=b(this).parent().find("input").focus();var ah={el:b(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:(this.parentNode.className.indexOf("_hsb")>0?100:255),y:ag.pageY,field:ai,val:parseInt(ai.val(),10),preview:b(this).parent().parent().data("colorpicker").livePreview};b(document).bind("mouseup",ah,F);b(document).bind("mousemove",ah,Y)},Y=function(ag){ag.data.field.val(Math.max(0,Math.min(ag.data.max,parseInt(ag.data.val+ag.pageY-ag.data.y,10))));if(ag.data.preview){j.apply(ag.data.field.get(0),[true])}return false},F=function(ag){j.apply(ag.data.field.get(0),[true]);ag.data.el.removeClass("colorpicker_slider").find("input").focus();b(document).unbind("mouseup",F);b(document).unbind("mousemove",Y);return false},J=function(ag){var ah={cal:b(this).parent(),y:b(this).offset().top};ah.preview=ah.cal.data("colorpicker").livePreview;b(document).bind("mouseup",ah,E);b(document).bind("mousemove",ah,u)},u=function(ag){j.apply(ag.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,(ag.pageY-ag.data.y))))/150,10)).get(0),[ag.data.preview]);return false},E=function(ag){W(ag.data.cal.data("colorpicker").color,ag.data.cal.get(0));l(ag.data.cal.data("colorpicker").color,ag.data.cal.get(0));b(document).unbind("mouseup",E);b(document).unbind("mousemove",u);return false},K=function(ag){var ah={cal:b(this).parent(),pos:b(this).offset()};ah.preview=ah.cal.data("colorpicker").livePreview;b(document).bind("mouseup",ah,N);b(document).bind("mousemove",ah,D)},D=function(ag){j.apply(ag.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,(ag.pageY-ag.data.pos.top))))/150,10)).end().eq(5).val(parseInt(100*(Math.max(0,Math.min(150,(ag.pageX-ag.data.pos.left))))/150,10)).get(0),[ag.data.preview]);return false},N=function(ag){W(ag.data.cal.data("colorpicker").color,ag.data.cal.get(0));l(ag.data.cal.data("colorpicker").color,ag.data.cal.get(0));b(document).unbind("mouseup",N);b(document).unbind("mousemove",D);return false},I=function(ag){b(this).addClass("colorpicker_focus")},ad=function(ag){b(this).removeClass("colorpicker_focus")},C=function(ah){var ai=b(this).parent();var ag=ai.data("colorpicker").color;ai.data("colorpicker").origColor=ag;n(ag,ai.get(0));ai.data("colorpicker").onSubmit(ag,ae(ag),q(ag),ai.data("colorpicker").el)},Q=function(ag){var ak=b("#"+b(this).data("colorpickerId"));ak.data("colorpicker").onBeforeShow.apply(this,[ak.get(0)]);var al=b(this).offset();var aj=M();var ai=al.top+this.offsetHeight;var ah=al.left;if(ai+176>aj.t+aj.h){ai-=this.offsetHeight+176}if(ah+356>aj.l+aj.w){ah-=356}ak.css({left:ah+"px",top:ai+"px"});if(ak.data("colorpicker").onShow.apply(this,[ak.get(0)])!=false){ak.show()}b(document).bind("mousedown",{cal:ak},ab);return false},ab=function(ag){if(!U(ag.data.cal.get(0),ag.target,ag.data.cal.get(0))){if(ag.data.cal.data("colorpicker").onHide.apply(this,[ag.data.cal.get(0)])!=false){ag.data.cal.hide()}b(document).unbind("mousedown",ab)}},U=function(ai,ah,ag){if(ai==ah){return true}if(ai.contains){return ai.contains(ah)}if(ai.compareDocumentPosition){return !!(ai.compareDocumentPosition(ah)&16)}var aj=ah.parentNode;while(aj&&aj!=ag){if(aj==ai){return true}aj=aj.parentNode}return false},M=function(){var ag=document.compatMode=="CSS1Compat";return{l:window.pageXOffset||(ag?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(ag?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(ag?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(ag?document.documentElement.clientHeight:document.body.clientHeight)}},k=function(ag){return{h:Math.min(360,Math.max(0,ag.h)),s:Math.min(100,Math.max(0,ag.s)),b:Math.min(100,Math.max(0,ag.b))}},Z=function(ag){return{r:Math.min(255,Math.max(0,ag.r)),g:Math.min(255,Math.max(0,ag.g)),b:Math.min(255,Math.max(0,ag.b))}},L=function(ai){var ag=6-ai.length;if(ag>0){var aj=[];for(var ah=0;ah<ag;ah++){aj.push("0")}aj.push(ai);ai=aj.join("")}return ai},g=function(ag){var ag=parseInt(((ag.indexOf("#")>-1)?ag.substring(1):ag),16);return{r:ag>>16,g:(ag&65280)>>8,b:(ag&255)}},z=function(ag){return o(g(ag))},o=function(ai){var ah={h:0,s:0,b:0};var aj=Math.min(ai.r,ai.g,ai.b);var ag=Math.max(ai.r,ai.g,ai.b);var ak=ag-aj;ah.b=ag;if(ag!=0){}ah.s=ag!=0?255*ak/ag:0;if(ah.s!=0){if(ai.r==ag){ah.h=(ai.g-ai.b)/ak}else{if(ai.g==ag){ah.h=2+(ai.b-ai.r)/ak}else{ah.h=4+(ai.r-ai.g)/ak}}}else{ah.h=-1}ah.h*=60;if(ah.h<0){ah.h+=360}ah.s*=100/255;ah.b*=100/255;return ah},q=function(ag){var ai={};var am=Math.round(ag.h);var al=Math.round(ag.s*255/100);var ah=Math.round(ag.b*255/100);if(al==0){ai.r=ai.g=ai.b=ah}else{var an=ah;var ak=(255-al)*ah/255;var aj=(an-ak)*(am%60)/60;if(am==360){am=0}if(am<60){ai.r=an;ai.b=ak;ai.g=ak+aj}else{if(am<120){ai.g=an;ai.b=ak;ai.r=an-aj}else{if(am<180){ai.g=an;ai.r=ak;ai.b=ak+aj}else{if(am<240){ai.b=an;ai.r=ak;ai.g=an-aj}else{if(am<300){ai.b=an;ai.g=ak;ai.r=ak+aj}else{if(am<360){ai.r=an;ai.g=ak;ai.b=an-aj}else{ai.r=0;ai.g=0;ai.b=0}}}}}}}return{r:Math.round(ai.r),g:Math.round(ai.g),b:Math.round(ai.b)}},P=function(ag){var ah=[ag.r.toString(16),ag.g.toString(16),ag.b.toString(16)];b.each(ah,function(ai,aj){if(aj.length==1){ah[ai]="0"+aj}});return ah.join("")},ae=function(ag){return P(q(ag))},S=function(){var ah=b(this).parent();var ag=ah.data("colorpicker").origColor;ah.data("colorpicker").color=ag;W(ag,ah.get(0));l(ag,ah.get(0));H(ag,ah.get(0));y(ag,ah.get(0));T(ag,ah.get(0));R(ag,ah.get(0))};return{init:function(ag){ag=b.extend({},O,ag||{});if(typeof ag.color=="string"){ag.color=z(ag.color)}else{if(ag.color.r!=undefined&&ag.color.g!=undefined&&ag.color.b!=undefined){ag.color=o(ag.color)}else{if(ag.color.h!=undefined&&ag.color.s!=undefined&&ag.color.b!=undefined){ag.color=k(ag.color)}else{return this}}}return this.each(function(){if(!b(this).data("colorpickerId")){var ah=b.extend({},ag);ah.origColor=ag.color;var aj="collorpicker_"+parseInt(Math.random()*1000);b(this).data("colorpickerId",aj);var ai=b(ac).attr("id",aj);if(ah.flat){ai.appendTo(this).show()}else{ai.appendTo(document.body)}ah.fields=ai.find("input").bind("keyup",A).bind("change",j).bind("blur",B).bind("focus",X);ai.find("span").bind("mousedown",V).end().find(">div.colorpicker_current_color").bind("click",S);ah.selector=ai.find("div.colorpicker_color").bind("mousedown",K);ah.selectorIndic=ah.selector.find("div div");ah.el=this;ah.hue=ai.find("div.colorpicker_hue div");ai.find("div.colorpicker_hue").bind("mousedown",J);ah.newColor=ai.find("div.colorpicker_new_color");ah.currentColor=ai.find("div.colorpicker_current_color");ai.data("colorpicker",ah);ai.find("div.colorpicker_submit").bind("mouseenter",I).bind("mouseleave",ad).bind("click",C);W(ah.color,ai.get(0));H(ah.color,ai.get(0));l(ah.color,ai.get(0));T(ah.color,ai.get(0));y(ah.color,ai.get(0));n(ah.color,ai.get(0));R(ah.color,ai.get(0));if(ah.flat){ai.css({position:"relative",display:"block"})}else{b(this).bind(ah.eventName,Q)}}})},showPicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){Q.apply(this)}})},hidePicker:function(){return this.each(function(){if(b(this).data("colorpickerId")){b("#"+b(this).data("colorpickerId")).hide()}})},setColor:function(ag){if(typeof ag=="string"){ag=z(ag)}else{if(ag.r!=undefined&&ag.g!=undefined&&ag.b!=undefined){ag=o(ag)}else{if(ag.h!=undefined&&ag.s!=undefined&&ag.b!=undefined){ag=k(ag)}else{return this}}}return this.each(function(){if(b(this).data("colorpickerId")){var ah=b("#"+b(this).data("colorpickerId"));ah.data("colorpicker").color=ag;ah.data("colorpicker").origColor=ag;W(ag,ah.get(0));H(ag,ah.get(0));l(ag,ah.get(0));T(ag,ah.get(0));y(ag,ah.get(0));n(ag,ah.get(0));R(ag,ah.get(0))}})}}}();b.fn.extend({ColorPicker:a.init,ColorPickerHide:a.hidePicker,ColorPickerShow:a.showPicker,ColorPickerSetColor:a.setColor})})(jQuery);jQuery.fn.extend({everyTime:function(b,e,g,j,a){return this.each(function(){jQuery.timer.add(this,b,e,g,j,a)})},oneTime:function(a,b,e){return this.each(function(){jQuery.timer.add(this,a,b,e,1)})},stopTime:function(a,b){return this.each(function(){jQuery.timer.remove(this,a,b)})}});jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*)?$/,powers:{ms:1,cs:10,ds:100,s:1000,min:60000,h:3600000,das:10000,hs:100000,ks:1000000},timeParse:function(e){if(e==undefined||e==null){return null}var a=this.regex.exec(jQuery.trim(e.toString()));if(a[2]){var b=parseInt(a[1],10);var g=this.powers[a[2]]||1;return b*g}else{return e}},add:function(j,e,g,l,n,b){var a=0;if(jQuery.isFunction(g)){if(!n){n=l}l=g;g=e}e=jQuery.timer.timeParse(e);if(typeof e!="number"||isNaN(e)||e<=0){return}if(n&&n.constructor!=Number){b=!!n;n=0}n=n||0;b=b||false;if(!j.$timers){j.$timers={}}if(!j.$timers[g]){j.$timers[g]={}}l.$timerID=l.$timerID||this.guid++;var k=function(){if(b&&this.inProgress){return}this.inProgress=true;if((++a>n&&n!==0)||l.call(j,a)===false){jQuery.timer.remove(j,g,l)}this.inProgress=false};k.$timerID=l.$timerID;if(!j.$timers[g][l.$timerID]){j.$timers[g][l.$timerID]=window.setInterval(k,e)}if(!this.global[g]){this.global[g]=[]}this.global[g].push(j)},remove:function(e,b,g){var j=e.$timers,a;if(j){if(!b){for(b in j){this.remove(e,b,g)}}else{if(j[b]){if(g){if(g.$timerID){window.clearInterval(j[b][g.$timerID]);delete j[b][g.$timerID]}}else{for(var g in j[b]){window.clearInterval(j[b][g]);delete j[b][g]}}for(a in j[b]){break}if(!a){a=null;delete j[b]}}}for(a in j){break}if(!a){e.$timers=null}}}}});if(jQuery.browser.msie){jQuery(window).one("unload",function(){var g=jQuery.timer.global;for(var a in g){var e=g[a],b=e.length;while(--b){jQuery.timer.remove(e[b],a)}}})}(function(a){a.fn.wordlimit=function(b){var g={allowed:10,wordcounttext:"Word count"};var b=a.extend(g,b);function e(n,k){if(a(n).val()){var j=a(n).val().split(" ").length}else{var j=0}var l=b.allowed-j;if(l<0&&k){if(k.which!=46&&k.which!=8&&k.which!=9&&k.which!=37&&k.which!=38&&k.which!=39&&k.which!=40&&k.which!=35&&k.which!=36){k.preventDefault();words=a(n).val().split(" ");words=words.slice(0,b.allowed);a(n).val(words.join(" ")+" ")}}a(n).parent().parent().find(".label span.counter").html("("+b.wordcounttext+" "+Math.min(j,b.allowed)+" / "+b.allowed+")")}this.each(function(j){a(this).parent().parent().find(".label").append('&nbsp;&nbsp;<span class="counter"></span>');e(this,j);a(this).keydown(function(k){e(this,k)});a(this).click(function(k){e(this,k)});a(this).blur(function(k){e(this,k)});a(this).change(function(k){e(this,k)})})}})(jQuery);
/*!
 *  This file is part of Wigii.
 *
 *  Wigii is free software: you can redistribute it and\/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  Wigii is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with Wigii.  If not, see <http:\//www.gnu.org/licenses/>.
 *
 *  @copyright  Copyright (c) 2012 Wigii 		 http://code.google.com/p/wigii/    http://www.wigii.ch
 *  @license    http://www.gnu.org/licenses/     GNU General Public License
 */
function printObj(b){var a=[];$.each(b,function(e,j){var g=e+": ";g+=$.isPlainObject(j)?printObj(j):j;a.push(g)});return"{ "+a.join(", ")+" }"}crtElementId=null;crtElementType="element";crtRoleId=null;crtContextId=0;crtWigiiNamespaceUrl=null;crtModuleName=null;crtWorkingModuleName=null;function object2Array(a){r=new Array;i=0;for(x in a){r[i++]=a[x]}return r}$.expr[":"].icontains=function(g,b,e,a){return(g.textContent||g.innerText||jQuery(g).text()||"").toLowerCase().indexOf(e[3].toLowerCase())>=0};dialogPos=new Array();busyDivStack=new Array();busyDivInterval=null;function setVis(a,b){if(typeof a!="object"){a=$("#"+a)}id=a.attr("id");if(b==true){a.show();if(id=="busyDiv"){if(busyDivStack.length==0){}busyDivStack.push("x")}}else{if(id=="busyDiv"){busyDivStack.pop();if(busyDivStack.length==0){a.hide()}}else{a.hide()}}}function actOnCloseDialog(a){}function actOnCancelDialog(a){$("#"+a).stopTime();$("#"+a+" *").stopTime();$("#"+a).html("")}function emptyDialog(a){$("#"+a).stopTime();$("#"+a+" *").stopTime();$("#"+a).html("")}checkOpenItemTemp_id=null;checkOpenItemTemp_lookupPath=null;checkOpenItemTemp_url=null;checkOpenItemTemp_f=null;checkOpenItemTemp_informIfFoundInCache=null;function checkOpenItem(id,lookupPath,url,checkAnyOpenItem,informIfFoundInCache){if(arguments.length<2){lookupPath=null}if(arguments.length<3){url=null}if(arguments.length<4){checkAnyOpenItem=false}if(arguments.length<5){informIfFoundInCache=false}if(checkAnyOpenItem){f=$("form")}else{f=$("#"+id+" form")}if(f.length>0){if(f.length==1){checkOpenItemTemp_id=id;checkOpenItemTemp_lookupPath=lookupPath;checkOpenItemTemp_url=url;checkOpenItemTemp_f=f;checkOpenItemTemp_informIfFoundInCache=informIfFoundInCache;customConfirmTextFromDialogId=DIALOG_doYouWantToSaveChage;if(typeof(window["DIALOG_doYouWantToSave_"+id])!="undefined"){eval("customConfirmTextFromDialogId = DIALOG_doYouWantToSave_"+id)}cButton=$(".ui-dialog-buttonpane .cancel",checkOpenItemTemp_f.closest(".ui-dialog"));if(cButton.filter(":visible").length){jConfirm(customConfirmTextFromDialogId,null,function(check){if(check===true){$(".ui-dialog-buttonpane .ok",checkOpenItemTemp_f.closest(".ui-dialog")).click()}else{if(check===null){checkOpenItemTemp_url=null}else{if(check===false){$(".ui-dialog-buttonpane .cancel",checkOpenItemTemp_f.closest(".ui-dialog")).click();if(checkOpenItemTemp_url!=null){updateThroughCache(checkOpenItemTemp_id,checkOpenItemTemp_lookupPath,checkOpenItemTemp_url,null,checkOpenItemTemp_informIfFoundInCache,true);checkOpenItemTemp_url=null}}}}})}else{if(cButton.length){cButton.click();if(checkOpenItemTemp_url!=null){updateThroughCache(checkOpenItemTemp_id,checkOpenItemTemp_lookupPath,checkOpenItemTemp_url,null,checkOpenItemTemp_informIfFoundInCache,true);checkOpenItemTemp_url=null}}else{$(".ui-dialog-buttonpane .ok",checkOpenItemTemp_f.closest(".ui-dialog")).click()}}return true}else{jAlert(DIALOG_finishCurrentAction);return true}}return false}currentElementDialogViewCacheKey=null;function updateCurrentElementDialogViewCache(){if(__cache&&__cache.elementDialog&&__cache.elementDialog[currentElementDialogViewCacheKey]){setCacheFromDom("elementDialog",currentElementDialogViewCacheKey)}}function invalidCurrentElementDialogViewCache(){invalidCache("elementDialog",currentElementDialogViewCacheKey)}currentModuleViewCacheKey=null;function updateCurrentModuleViewCache(){if(__cache&&__cache.moduleView&&__cache.moduleView[currentModuleViewCacheKey]){setCacheFromDom("moduleView",currentModuleViewCacheKey)}}function invalidCurrentModuleViewCache(){invalidCache("moduleView",currentModuleViewCacheKey)}function invalidModuleViewCache(){invalidCache("moduleView")}__cache=new Object();__cacheJS=new Object();function updateThroughCache(id,lookupPath,url,checkAnyOpenItem,informIfFoundInCache,noOpenItemCheck){if(arguments.length<4){checkAnyOpenItem=false}if(arguments.length<5){informIfFoundInCache=false}if(arguments.length<6){noOpenItemCheck=false}if(!noOpenItemCheck&&checkOpenItem(id,lookupPath,url,checkAnyOpenItem,informIfFoundInCache)){return}if(id=="moduleView"){currentModuleViewCacheKey=lookupPath}else{if(id=="elementDialog"){currentElementDialogViewCacheKey=lookupPath}}r=null;c=null;foundInCache=false;if(lookupPath){r=getCache(id,lookupPath);if(r){foundInCache=true}c=getJSCache(id,lookupPath);if(c){foundInCache=true}}if(foundInCache){if(r){$("#"+id+" *").stopTime();$("#"+id).html(r)}if(informIfFoundInCache){foundInCacheUpdate(url)}if(c){eval(c)}}else{update(url,true)}}function getCache(b,a){if(!__cache[b]){__cache[b]=new Object()}r=__cache[b][a];return r}function getJSCache(b,a){if(!__cacheJS[b]){__cacheJS[b]=new Object()}c=__cacheJS[b][a];return c}function setCache(e,b,a){if(!__cache[e]){__cache[e]=new Object()}__cache[e][b]=a}function setJSCache(e,b,a){if(!__cacheJS[e]){__cacheJS[e]=new Object()}__cacheJS[e][b]=a}function setCacheFromDom(b,a){if(b==null){alert("try to setCacheFromDom with no id. WigiiExecutor.js");return}if(!__cache[b]){__cache[b]=new Object()}if(!__cacheJS[b]){__cacheJS[b]=new Object()}__cache[b][a]=$("#"+b).html();if($("#JSCode"+b).length>0){__cacheJS[b][a]=$("#JSCode"+b).text()}}function invalidCompleteCache(e){if(arguments.length<1){e=false}__cache=new Object();__cacheJS=new Object();if(!e){var a=window;while(a.opener){try{if(a.opener.location.hostname==a.location.hostname){a.opener.invalidCompleteCache(true);a=a.opener}else{a=false}}catch(b){a=false}}}}function invalidCache(j,g,e){if(arguments.length<2){g=null}if(arguments.length<3){e=false}if(!__cache[j]){__cache[j]=new Object()}if(!__cacheJS[j]){__cacheJS[j]=new Object()}if(g){__cache[j][g]=null;__cacheJS[j][g]=null}else{__cache[j]=null;__cacheJS[j]=null}if(!e){var a=window;while(a.opener){try{if(a.opener.location.hostname==a.location.hostname){a.opener.invalidCache(j,g,true);a=a.opener}else{a=false}}catch(b){a=false}}}}var crtNavigateCacheKey=null;function setModuleViewKeyCacheForNavigate(a){setJSCache("navigationCache",crtNavigateCacheKey,a)}function getModuleViewKeyCacheForNavigate(){return getJSCache("navigationCache",crtNavigateCacheKey)}function setCurrentNavigateCacheKey(a){crtNavigateCacheKey=a}function foundInCacheUpdate(a){if(a==null){return}s=a.split("/");s[0]=EXEC_foundInJSCache;a=s.join("/");a=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+a;var b=new jQuery.ajax({url:encodeURI(a),success:parseUpdateResult,cache:false,error:errorOnUpdate});onUpdateErrorCounter=0}function update(b,j,e,a){if(arguments.length<2){j=false}if(arguments.length<3){e=null}if(arguments.length<4){a=null}if(b==null){return}idAnswer=b.split("/")[0];if(!j){if(checkOpenItem(idAnswer,null,b)){return}}setVis("busyDiv",true);b=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+b;if(e!=null){var g=new jQuery.ajax({type:"POST",url:encodeURI(b),success:(a!=null?a:parseUpdateResult),data:e,error:errorOnUpdate})}else{var g=new jQuery.ajax({url:encodeURI(b),success:(a!=null?a:parseUpdateResult),cache:false,error:errorOnUpdate})}onUpdateErrorCounter=0}function download(a){a=SITE_ROOT+"useContext/"+crtContextId+EXEC_requestSeparator+a.replace(SITE_ROOT,"");window.location.href=a}onUpdateErrorCounter=0;function errorOnUpdate(a,g,e){onUpdateErrorCounter++;if(onUpdateErrorCounter<=3){var b=new jQuery.ajax({url:this.url,data:this.data,method:this.method,type:this.type,success:this.success,cache:false,error:this.error})}}encHTML=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};decHTML=function(a){return a.replace(/\n/g," ").replace(/\r/g," ").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&mySQ;/g,"'").replace(/&oelig;/g,"œ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")};function parseUpdateResult(tabReq,textStatus){$("#formProgressBar").hide();tabReq=tabReq.split(EXEC_answerRequestSeparator);var tabLength=tabReq.length;var code="";lookupPaths=new Object();for(var i=0;i<tabLength;i=i+1){request=tabReq[i].split(EXEC_answerParamSeparator);if(request!=""){if(request[0]=="JSCode"){if(request.length>2){tempCode=decHTML(request[2]);if(tempCode.substr(0,6)=="<br />"){tempCode=null}if(request[1]=="foundInCache"){if(lookupPaths.foundInCache){setJSCache(lookupPaths.foundInCache[1],lookupPaths.foundInCache[0],tempCode)}}else{setJSCache(request[1],lookupPaths[request[1]],tempCode)}}else{tempCode=decHTML(request[1]);if(tempCode.substr(0,6)=="<br />"){tempCode=null}}eval(tempCode)}else{if(request[0]=="Alert"){alert(request[1])}else{if(request[0]=="Reload"){self.location=request[1]}else{if(request[0]=="NoAnswer"){if(request[1].indexOf("cacheKey_")==0){lookupPaths[request[0]]=request[1]}else{if(request[1]!=""){if(request.length>2){alert(request[1]+"\n"+request[2])}else{alert(request[1])}}}}else{if(request[0]=="foundInCache"){if(request[1].indexOf("cacheKey_")==0){lookupPaths[request[0]]=[request[1],request[2]]}}else{if(request[1]=="keep"){}else{$("#"+request[0]).stopTime();$("#"+request[0]+" *").stopTime();if(request.length>2){$("#"+request[0]).html(request[2]);if(request[2]==""){if($("#"+request[0]).is(":ui-dialog")){$("#"+request[0]).dialog("destroy")}}else{setCache(request[0],request[1],request[2]);lookupPaths[request[0]]=request[1]}}else{$("#"+request[0]).html(request[1]);if(request[1]==""){if($("#"+request[0]).is(":ui-dialog")){$("#"+request[0]).dialog("destroy")}}}}}}}}}}}setVis("busyDiv",false)}function positionElementOnMouse(g,b,j,e,a){if(arguments.length<4){e=null}if(arguments.length<5){a=null}if(e!=null){offsetLow=5;scrollTop=parseInt($(document).scrollTop());if(scrollTop!=0){scrollTop=scrollTop-5}if(parseInt(e.offset().top)+parseInt(e.height())-parseInt(b.clientY)+scrollTop<=offsetLow){offsetLow=parseInt(e.offset().top)+parseInt(e.height())-parseInt(b.clientY)+scrollTop-2}}else{offsetLow=0;scrollTop=parseInt($(document).scrollTop())}positionElement(g,b.clientY+scrollTop,b.clientX+parseInt($(document).scrollLeft()),30,5,j,offsetLow+a,true)}function positionElementOnDom(g,a,k,b,o,e){if(arguments.length<4){b=null}if(arguments.length<5){o=false}if(arguments.length<6){e=false}if(e){var n=a.position()}else{var n=a.offset()}var j=n.left;var l=n.top;positionElement(g,l,j,a.outerHeight(),a.outerWidth(),k,b,o)}function positionElement(j,e,n,q,k,o,b,z){var l,y;if(o=="center"){l=n+k/2-j.outerWidth()/2}else{if(o=="right"){l=n+k}else{if(o=="left"){l=n-j.outerWidth()}else{if(o=="fromLeft"){l=n}else{if(o=="fromRight"){l=n+k-j.outerWidth()}else{if(o=="fromCenter"){l=n+(k/2)}else{if(o=="toCenter"){l=n+(k/2)-j.outerWidth()}}}}}}}if(b===null){y=e+q}else{y=e+b}var u,g;if(self.innerHeight){if(document.documentElement.clientWidth){u=document.documentElement.clientWidth}else{u=self.innerWidth}g=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){u=document.documentElement.clientWidth;g=document.documentElement.clientHeight}else{if(document.body){u=document.body.clientWidth;g=document.body.clientHeight}}}var a=j.outerWidth();var A=j.outerHeight();y=Math.min(g-A,y-$(document).scrollTop());y=Math.max(0,y);if(z){if((y+$(document).scrollTop()<(e+q)&&(y+$(document).scrollTop()+A)>e)){if((u-a<l+$(document).scrollLeft())&&(n-a>0)){l=n-a}else{}}}if(!z){l=Math.min(u-a,l-$(document).scrollLeft())}l=Math.min(u-a,l-$(document).scrollLeft());l=Math.max(0,l);j.css("left",l+$(document).scrollLeft());j.css("top",y+$(document).scrollTop())}showHelpTimer=null;hideHelpTimer=null;doHideHelpTimer=null;var showHelpRef,showHelpText,showHelpOffsetLow,showHelpAlign,showHelpDelay,showHelpMaxWidth,showHelpDefinedWidth,showHelpHideAfter,showHelpEvent;function showHelp2(){var a=showHelpEvent;var g=showHelpRef;var o=showHelpText;var b=showHelpOffsetLow;var l=showHelpAlign;var k=showHelpDelay;var n=showHelpMaxWidth;var e=showHelpDefinedWidth;var j=showHelpHideAfter;helpEl=$("#help");helpEl.width(5);helpEl.html(o);if(e){helpEl.width(n)}else{helpEl.width("auto");if(helpEl.width()>n){helpEl.width(n)}}$("#help").stop(true,true).show();$("#help").hide();if(typeof g!="object"){g=$("#"+g)}else{g=$(g)}if(a!=null&&typeof a=="object"&&a.clientY){positionElementOnMouse(helpEl,a,l,g,b)}else{positionElementOnDom(helpEl,g,l,b,false)}$("#help").unbind().mouseenter(function(){clearTimeout(doHideHelpTimer)}).mousemove(function(){hideHelp(true)});$("#help").stop(true,true).show()}function showHelp(j,l,k,n,b,g,a,e){clearTimeout(doHideHelpTimer);clearTimeout(hideHelpTimer);if(l==""){return}definedWidth=false;if(arguments.length<3){k=null}if(arguments.length<4){n="fromCenter"}if(arguments.length<5){b=200}if(arguments.length<6||g==null){g=200;definedWidth=false}if(arguments.length<7){a=3500}if(arguments.length<8){e=null}showHelpEvent=e;showHelpRef=j;showHelpText=l;showHelpOffsetLow=k;showHelpAlign=n;showHelpDelay=b;showHelpMaxWidth=g;showHelpDefinedWidth=definedWidth;showHelpHideAfter=a;if(b!=0){showHelpTimer=setTimeout("showHelp2();",b)}else{showHelp2()}if(a!=0){hideHelpTimer=setTimeout("hideHelp();",a)}else{hideHelpTimer=setTimeout("hideHelp();",10000)}}function hideHelp(a){if(arguments.length<1){a=false}clearTimeout(doHideHelpTimer);if(a){clearTimeout(showHelpTimer);clearTimeout(hideHelpTimer);$("#help").hide()}else{doHideHelpTimer=setTimeout("hideHelp(true);","50")}}var multipleSelectVals=new Array;function multipleSelectOnClick(k){var j=$("#"+k).scrollTop();var g=new Array;var e=false;var a=$("#"+k);var b=multipleSelectVals[k];$(b).each(function(l){if(this.toString()!=a.val().toString()){g[g.length]=this.toString()}else{e=true}});if(!e&&a.val()){g[g.length]=a.val().toString()}multipleSelectVals[k]=g;a.val(g);a.scrollTop(j)}function colorize(a){if(arguments.length<1){a=$(window)}else{a=$("#"+a)}$('#moduleView *[class*="color_"]').each(function(){color="#"+$(this).attr("class").match(/color_(.{6})/i)[1].toUpperCase();$(this).css("background-color",color).css("border-color",color);var k=HexToR(color),j=HexToG(color),e=HexToB(color);var l=(k*299+j*587+e*114)/1000;if(l>140){$("*",this).css("color","#000000")}else{$("*",this).css("color","#FFFFFF")}})}function HexToR(a){return parseInt((cutHex(a)).substring(0,2),16)}function HexToG(a){return parseInt((cutHex(a)).substring(2,4),16)}function HexToB(a){return parseInt((cutHex(a)).substring(4,6),16)}function cutHex(a){return(a.charAt(0)=="#")?a.substring(1,7):a}var globalCronJobsStopper=false;var doingWakeup=false;var cronJobsWorkingFunction=function(a){if(arguments.length<1){a=""}if(doingWakeup){return}doingWakeup=true;$("#cronJobsCursor").text(" > ");update("JSCode/NoWigiiNamespace/NoModule/wakeup/"+a)};var cronJobsFinishWorkingFunction=function(){doingWakeup=false};function setListenersToCronJob(b,a){$("#cronJobsStart").click(function(){$("#cronJobsNb").stopTime("cronJobsWorking");$("#cronJobsStop span").stopTime("cronJobsPostpone");$("#cronJobsStop span").text("");cronJobsFinishWorkingFunction();globalCronJobsStopper=false;b()});$("#cronJobsStop").click(function(){$("#cronJobsNb").stopTime("cronJobsWorking");$("#cronJobsNb").stopTime("cronJobsWakeup");globalCronJobsStopper=true;s=(a)/1000;m=Math.floor(s/60);s=s%60;if(s<10){s="0"+s}$("#cronJobsStop span").text(" "+m+":"+s);$("#cronJobsStop span").stopTime("cronJobsPostpone");$("#cronJobsStop span").everyTime(1000,"cronJobsPostpone",function(e){s=(a-(e*1000))/1000;m=Math.floor(s/60);s=s%60;if(s<10){s="0"+s}$(this).text(" "+m+":"+s)});$("#cronJobsNb").oneTime(a,"cronJobsWorking",function(){$("#cronJobsStop span").stopTime("cronJobsPostpone");$("#cronJobsStart").click()})})}function logout(){update("NoAnswer/NoWigiiNamespace/NoModule/logout")}externalAccessTimeoutTimer=null;previewCrtHeight=10;function getBasicCKEditorToolbar(){return[["Bold","Italic","Underline","TextColor"],["NumberedList","BulletedList","Outdent","Indent","Link","Image","Table","Scayt","Templates"]]}function getMediumCKEditorToolbar(){return[["Templates","Maximize","-","PasteText","PasteFromWord"],["NumberedList","BulletedList","Outdent","Indent"],["Link","Image","Table","HorizontalRule","-","Source","Scayt"],"/",["Format","FontSize","Bold","Italic","Underline","TextColor","Strike","SpecialChar","-","RemoveFormat"],["JustifyLeft","JustifyCenter","JustifyRight"]]}function getFullCKEditorToolbar(){return[["Source","-","Templates","Preview","Maximize"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"],["Find","Replace","-","SelectAll","-","Scayt","About"],"/",["NumberedList","BulletedList","-","Outdent","Indent","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["Link","Unlink","Anchor","Image","Table","HorizontalRule","SpecialChar","CreateDiv","ShowBlocks"],"/",["Format","FontSize"],["TextColor","BGColor"],["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]];return[["Source","-","DocProps","Preview","-","Templates"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"],["Find","Replace","-","SelectAll","-","SpellChecker","Scayt"],["Maximize","ShowBlocks","-","About"],"/",["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"],["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["Link","Unlink","Anchor"],"/",["Styles","Format","Font","FontSize"],["TextColor","BGColor"],["Image","Table","HorizontalRule","SpecialChar","Iframe"]];return[["Source","-","Templates","-","Preview","Print"],["Cut","Copy","Paste","PasteText","PasteFromWord","SpellChecker","Scayt"],["Undo","Redo","-","Find","Replace","-","SelectAll","RemoveFormat"],["BidiLtr","BidiRtl"],["ShowBlocks"],"/",["Bold","Italic","Underline","Strike","-","Subscript","Superscript"],["NumberedList","BulletedList","-","Outdent","Indent","Blockquote"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["Image","Flash","Table","HorizontalRule","Smiley","SpecialChar","PageBreak","Iframe"],"/",["Styles","Format","Font","FontSize"],["TextColor","BGColor"],["Link","Unlink","Anchor"],["About"]]}function addJsCodeOnFileInput(e,b,a,g,j){v=$(b).parent();$("div.removeCurrentFile",v).click(function(){v=$(b).parent();$(this).hide();$("div.filePreview",v).hide();$("div.updateCurrentFile",v).hide();$("div.downloadCurrentFile",v).hide();$(e).val("").show();$(b).val("").hide().change().blur();$(a).val("")});$("div.backToFilename",v).click(function(){v=$(b).parent();$(this).hide();$("div.filePreview",v).show();$("div.updateCurrentFile",v).show();$("div.removeCurrentFile",v).show();$(e).hide();$(b).show()});$("div.updateCurrentFile",v).click(function(k){v=$(b).parent();$(this).hide();$("div.removeCurrentFile",v).show();$("div.filePreview",v).hide();$("div.backToFilename",v).show();$(b).hide();$(e).show();showHelp($(e),g,0,"left")});$(e).click(function(){hideHelp()}).change(function(){v=$(e).parent();$("div.backToFilename",v).hide();$("div.updateCurrentFile",v).show();$("div.removeCurrentFile",v).show();name=$(this).val();name=name.substring(name.lastIndexOf('"."\\"."\\"."')+1);ext=name.substring(name.lastIndexOf(".")+1);name=name.substring(0,name.lastIndexOf("."));re=new RegExp(".*/","g");name=name.replace(re,"");re=new RegExp(".*\\\\","g");name=name.replace(re,"");$(this).hide();$(b).val(name).show().focus().select();$("div.filePreview",v).css("background-image",'url("'+j+"images/preview/prev.26."+ext+'.png")');$("div.filePreview",v).show()})}function addJsCodeOnOnLineFileInput(e,g,n,q,l,j,k,b,o,a){v=$(g).parent();$("div.removeExistingOnLineFile",v).click(function(){v=$(g).parent();$(this).hide();$("div.filePreview",v).hide();$("div.removeExistingOnLineFile",v).hide();$("div.updateExistingOnLineFile",v).hide();$("div.newOnLineFile",v).show();$(g).val("").hide();$(e).val("").change().blur()});$("div.newOnLineFile, div.updateExistingOnLineFile",v).click(function(A){myPosition={my:"center top",at:"center top+50"};v=$(g).parent();if($(e).val()==""){if(n!=null){t=CKEDITOR.getTemplates("default").templates;for(i in t){if(t[i].title==n){$(e).val(t[i].html)}}}}$("#elementPreview").html('<textarea style="width:'+($(window).width()-30)+'px;" id="elementPreview_textContent">'+$(e).val()+"</textarea>");crtActiveOnlineFileTextContentId=e;if($("#elementPreview").is(":ui-dialog")){$("#elementPreview").dialog("destroy")}var z={ok:function(){crtActiveOnlineFileTextContentId=null;$(e).val($("#elementPreview").find("textarea:first").ckeditorGet().getData()).change().blur();v=$(g).parent();$("div.filePreview",v).css("background-image",'url("'+j+'images/preview/prev.26.html.png")');$("div.filePreview",v).show();$("div.removeExistingOnLineFile",v).show();$("div.updateExistingOnLineFile",v).show();$("div.newOnLineFile",v).hide();if($(g).val()==null||$(g).val()==""){$(g).val(k)}$(g).show().focus().select();CKEDITOR.remove($("#elementPreview").find("textarea:first").ckeditorGet());$(this).val("").dialog("destroy")}};if(q!==false){z[q]=function(){crtActiveOnlineFileTextContentId=null;$(this).dialog("destroy")}}$("#elementPreview").dialog({buttons:z,width:$(window).width()-110,position:myPosition,closeOnEscape:false,draggable:false,resizable:false,modal:false,beforeClose:function(){}});$("#elementPreview").prev().css("display","none");var y="elementPreview_textContent";var u=CKEDITOR.instances[y];if(u){CKEDITOR.remove(u)}tempZIndex=$("#elementPreview").parent().css("zIndex")+1;$("#elementPreview").find("textarea:first").ckeditor({language:b,templates:crtWigiiNamespaceUrl+",default",templates_files:[a],baseFloatZIndex:tempZIndex,toolbar:getFullCKEditorToolbar(),toolbarCanCollapse:true,toolbarStartupExpanded:true,resize_minWidth:$(window).width()-130,height:o-100,allowedContent:true,filebrowserUploadUrl:crtWigiiNamespaceUrl+"/"+crtModuleName+"/CKEditor/upload"})})}function getAjaxformOption(a){return{success:parseUpdateResult,beforeSerialize:function(){if($(a+" .removeDisableOnSubmit").length>0){$(a+" .removeDisableOnSubmit").removeAttr("disabled")}},beforeSubmit:function(){hideHelp();setVis("busyDiv",true)},uploadProgress:function(j,b,g,e){$("#formProgressBar").progressbar({value:e});if(progressBarTimeout==null){progressBarTimeout=setTimeout(function(){$("#formProgressBar").show()},500)}if(e>=100){setTimeout(function(){if(progressBarTimeout){clearTimeout(progressBarTimeout)}progressBarTimeout=null;$("#formProgressBar").hide()},500)}},error:errorOnUpdate,cache:false}}var progressBarTimeout=null;function addJsCodeAfterFormIsShown(g,e,b,a){$(g+" textarea.htmlArea").each(function(){var k=$(this).attr("id");var j=CKEDITOR.instances[k];if(j){CKEDITOR.remove(j)}if($(g+" textarea.htmlArea").closest(".ui-dialog").length>0){tempZIndex=$(g+" textarea.htmlArea").closest(".ui-dialog").css("zIndex")+1}else{tempZIndex=100}if($(this).hasClass("fullToolbarHtmlArea")){toolbar=getFullCKEditorToolbar()}else{if($(this).hasClass("mediumToolbarHtmlArea")){toolbar=getMediumCKEditorToolbar()}else{toolbar=getBasicCKEditorToolbar()}}height=100;maxHeight=450;options={};if($(this).hasClass("wordlimit")&&!$(this).hasClass("isJournal")){wordlimit=$(this).attr("class").match(/ wordlimit_([0-9]*) /g)[0].replace(/ wordlimit_([0-9]*) /g,"$1");extraPlugins="";if(options.extraPlugins){extraPlugins=options.extraPlugins+","}extraPlugins+="wordcount,undo";options=$.extend(options,{extraPlugins:extraPlugins,wordcount_limit:wordlimit,wordcount_format:'<span class="cke_path_item">Word count: %count% / %limit%</span>'})}if($(this).hasClass("difH")){height=$(this).height()}else{extraPlugins="";if(options.extraPlugins){extraPlugins=options.extraPlugins+","}extraPlugins+="autogrow";options=$.extend(options,{extraPlugins:extraPlugins,autoGrow_minHeight:height,autoGrow_maxHeight:maxHeight})}options=$.extend({language:e,templates:b,templates_files:[a],baseFloatZIndex:tempZIndex,toolbar:toolbar,toolbarCanCollapse:true,toolbarStartupExpanded:$(this).hasClass("activateHtmlArea"),height:height,resize_minWidth:50,allowedContent:true,filebrowserUploadUrl:crtWigiiNamespaceUrl+"/"+crtModuleName+"/CKEditor/upload"},options);$(this).ckeditor(function(){t=$("#"+this.element.getId());if(t.hasClass("collapsed")){t.next().hide()}this.on("focus",function(){$(this.element.$).focus()});this.on("blur",function(){$(this.element.$).blur()})},options)});if(jQuery.browser.msie&&version<9&&$("#workZone").length==0){$(g+" textarea:not(.noWrap):not(.noElastic)").css("height",50)}else{$(g+" textarea:not(.noWrap):not(.noElastic)").css("max-height",450).css("min-height",30).autosize()}$(g+" textarea.noWrap").css("overflow","auto").tabby();$(g+" :input:enabled:not([readonly]):first").focus();$(g+" select.chosen:not(.allowNewValues)").chosen({});$(g+" select.chosen.allowNewValues").chosen({});$(g+" select.flex.allowNewValues").flexselect({allowMismatch:true});$(g+" select.flex:not(.allowNewValues)").flexselect({allowMismatch:false});$(g+" textarea:not(.htmlArea,.isJournal).wordlimit").each(function(){$(this).wordlimit({allowed:$(this).attr("class").match(/ wordlimit_([0-9]*) /g)[0].replace(/ wordlimit_([0-9]*) /g,"$1")})});$(g+" .colorPickerInput:input:enabled:not([readonly])").ColorPicker({onSubmit:function(j,n,k,l){$(l).val(n);$(l).ColorPickerHide()},onBeforeShow:function(){$(this).ColorPickerSetColor(this.value)}}).bind("keyup",function(){$(this).ColorPickerSetColor(this.value)});$(g).ajaxForm(getAjaxformOption(g));$(g+" div.label").click(function(){$(":input:visible:first",$(this).next()).select()});$(g+" .addC").nextAll().hide();$(g+" .addC").click(function(){if($(this).width()!=$(this).next().width()){newTempWidth=$(this).prev().width()+$(this).width();$(this).prev().width(newTempWidth+"px")}$(this).hide();$(this).next().show();$(this).next().children(".ui-datepicker-trigger").show();$(this).next().children(".ui-tabs").show();$(this).next().children(".cke").show();$(this).next().find(":input:first").focus()});if($(g+" .ui-datepicker-trigger").length){$(g+" .ui-datepicker-trigger").css("width","30px")}$(g+" select[multiple]:not([readonly]):not([disabled])").click(function(){multipleSelectOnClick(this.id)}).each(function(){multipleSelectVals[this.id]=$(this).val()});$(g+" div.field .label").bind("contextmenu",function(j){$(this).parent().find(">.addinfo").show();return false});$(g+" div.field").mouseleave(function(j){$(this).find(".addinfo").hide()})}function convertTimestamps(a){orignalText=$(a).val();res=orignalText.match(/TIMESTAMP\(([0-9]{4}\-[0-9]{2}\-[0-9]{2}[ \:0-9]*)\)/gi);for(r in res){d=new Date(res[r].replace("TIMESTAMP","").replace("(","").replace(")","").replace(/-/g,"/"));orignalText=orignalText.replace(res[r],Math.round(d.getTime()/1000))}$(a).val(orignalText)}emailingFormCrtMergeField="";function setListenerForEmailMerge(a){$("#"+a+" #Emailing_form__message>.label span").click(function(b){clone=$(this).clone();clone.css("position","absolute");clone.css("z-index","999999999");clone.offset({left:$(this).position().left+10,top:$(this).position().top+10});emailingFormCrtMergeField=clone.attr("title");crtOverSubject=false;$("#"+a+"").mousemove(function(g){clone.offset({left:g.pageX+10,top:g.pageY+10})});$("#"+a+" #Emailing_form_object_value_text").mouseenter(function(){crtOverSubject=true});$("#"+a+" #Emailing_form_object_value_text").mouseleave(function(){crtOverSubject=false});b.stopPropagation();$("#"+a+"").one("click",function(){clone.remove();if($("#"+a+" #Emailing_form_object_value_text:focus").length){$("#"+a+" #Emailing_form_object_value_text").val($("#"+a+" #Emailing_form_object_value_text").val()+emailingFormCrtMergeField)}emailingFormCrtMergeField=null;$("#cke_Emailing_form_message_value_textarea iframe").contents().find("body").unbind("click")});$("#cke_Emailing_form_message_value_textarea iframe").contents().find("body").one("click",function(){clone.remove();ckInst=CKEDITOR.instances.Emailing_form_message_value_textarea;ckInst.insertHtml(emailingFormCrtMergeField);$("#"+a+"").unbind("click");emailingFormCrtMergeField=null});$("#"+a+" #Emailing_form__message>.label").append(clone)})}confirmationEmailFormCrtMergeField="";function setListenerForConfirmationEmailMerge(a){$("#groupSubscription_form__subscriptionConfEmailText>.label span").click(function(b){clone=$(this).clone();clone.css("position","absolute");clone.css("z-index","999999999");clone.offset({left:$(this).position().left+10,top:$(this).position().top+10});confirmationEmailFormCrtMergeField=clone.attr("title");crtOverSubject=false;$("#"+a+"").mousemove(function(g){clone.offset({left:g.pageX+10,top:g.pageY+10})});$("#groupSubscription_form_subscriptionConfEmailSubject_tabs input").mouseenter(function(){crtOverSubject=true});$("#groupSubscription_form_subscriptionConfEmailSubject_tabs input").mouseleave(function(){crtOverSubject=false});b.stopPropagation();$("#"+a+"").one("click",function(){clone.remove();if($("#groupSubscription_form_subscriptionConfEmailSubject_tabs input:focus").length){$("#groupSubscription_form_subscriptionConfEmailSubject_tabs input:focus").val($("#groupSubscription_form_subscriptionConfEmailSubject_tabs input:focus").val()+confirmationEmailFormCrtMergeField)}confirmationEmailFormCrtMergeField=null;$("#cke_groupSubscription_form_subscriptionConfEmailText_value_l01_textarea iframe").contents().find("body").unbind("click");$("#cke_groupSubscription_form_subscriptionConfEmailText_value_l02_textarea iframe").contents().find("body").unbind("click")});$("#cke_groupSubscription_form_subscriptionConfEmailText_value_l01_textarea iframe").contents().find("body").one("click",function(){clone.remove();ckInst=CKEDITOR.instances.groupSubscription_form_subscriptionConfEmailText_value_l01_textarea;ckInst.insertHtml(confirmationEmailFormCrtMergeField);$("#"+a+"").unbind("click");confirmationEmailFormCrtMergeField=null});$("#cke_groupSubscription_form_subscriptionConfEmailText_value_l02_textarea iframe").contents().find("body").one("click",function(){clone.remove();ckInst=CKEDITOR.instances.groupSubscription_form_subscriptionConfEmailText_value_l02_textarea;ckInst.insertHtml(confirmationEmailFormCrtMergeField);$("#"+a+"").unbind("click");confirmationEmailFormCrtMergeField=null});$("#groupSubscription_form__subscriptionConfEmailText>.label").append(clone)})}function actOnDisplayOnRightSide(g,b,e,a){if($("#elementRightSide").length==0){if($("#"+g+" .elementDetail").length){$("#"+g+" .elementDetail").wrapInner('<div class="center" />');$("#"+g+" .elementDetail").prepend('<table style="border:none;border-collapse:collapse;margin:0px;padding:0px;"><tr><td valign="top" class="center"></td><td valign="top" class="right"></td></tr></table>');$("#"+g+" .elementDetail td.center").append($("#"+g+" .elementDetail div.center"));$("#"+g+" .elementDetail td.right").append('<div style="float:left;border-width:1px;padding:5px;width:'+(e)+'px;text-align:left;" id="elementRightSide" class="Tcolor"></div>');$("#"+g+" .elementDetail>table td.center").width(a+22);$("#"+g+"").closest(".ui-dialog").width(a+e+32);$("#"+g+">div.T").width(a+e+31);$("#"+g+"").closest(".ui-dialog").css("left",Math.min($("#"+g+"").closest(".ui-dialog").position().left,$(window).width()-$("#"+g+"").closest(".ui-dialog").outerWidth()-5))}else{if($("#mainDiv .elementDetail").length){$("#mainDiv .elementDetail").wrapInner('<div class="center" />');$("#mainDiv .elementDetail").prepend('<table style="border:none;border-collapse:collapse;margin:0px;padding:0px;"><tr><td valign="top" class="center"></td><td valign="top" class="right"></td></tr></table>');$("#mainDiv .elementDetail td.center").append($("#mainDiv .elementDetail div.center"));$("#mainDiv .elementDetail td.right").append('<div style="float:left;border-width:1px;padding:5px;width:'+(e)+'px;text-align:left;" id="elementRightSide" class="Tcolor"></div>');$("#mainDiv .elementDetail>table td.center").width(a+22)}else{if($("#mainDiv .public form").length){$("#mainDiv .public form").wrapInner('<div class="center" />');$("#mainDiv .public form").prepend('<table style="border:none;border-collapse:collapse;margin:0px;padding:0px;"><tr><td valign="top" class="center"></td><td valign="top" class="right"></td></tr></table>');$("#mainDiv .public form td.center").append($("#mainDiv .public form div.center"));$("#mainDiv .public form td.right").append('<div style="float:left;border-width:1px;padding:5px;width:'+(e)+'px;text-align:left;" id="elementRightSide" class="Tcolor"></div>');$("#mainDiv .public form>table td.center").width(a+22);$("#mainDiv .public form").width(a+e+32);$("#mainDiv .public").width(a+e+32);$("#mainDiv .public form>table").after($("#mainDiv .public form>table td.center>div.center>div.publicFormBorder"));$("#mainDiv .public form>div.publicFormBorder").width(a+e+32)}else{if($("#mainDiv .public").length){$("#mainDiv .public").wrapInner('<div class="center" />');$("#mainDiv .public").prepend('<table style="border:none;border-collapse:collapse;margin:0px;padding:0px;"><tr><td valign="top" class="center"></td><td valign="top" class="right"></td></tr></table>');$("#mainDiv .public td.center").append($("#mainDiv .public div.center"));$("#mainDiv .public td.right").append('<div style="float:left;border-width:1px;padding:5px;width:'+(e)+'px;text-align:left;" id="elementRightSide" class="Tcolor"></div>');$("#mainDiv .public>table td.center").width(a+22);$("#mainDiv .public").width(a+e+32);$("#mainDiv .public>table").after($("#mainDiv .public>table td.center>div.center>div.publicFormBorder"));$("#mainDiv .public>div.publicFormBorder").width(a+e+32)}else{if($("#"+g+" form").length){$("#"+g+" form").wrapInner('<div class="center" />');$("#"+g+" form").prepend('<table style="border:none;border-collapse:collapse;margin:0px;padding:0px;"><tr><td valign="top" class="center"></td><td valign="top" class="right"></td></tr></table>');$("#"+g+" form td.center").append($("#"+g+" form div.center"));$("#"+g+" form td.right").append('<div style="float:left;border-width:1px;padding:5px;width:'+(e)+'px;text-align:left;" id="elementRightSide" class="Tcolor"></div>');$("#"+g+" form>table td.center").width(a+12);$("#"+g+" form").width(a+e+32);$("#"+g+"").closest(".ui-dialog").width(a+e+37);$("#"+g+"").closest(".ui-dialog").css("left",Math.min($("#"+g+"").closest(".ui-dialog").position().left,$(window).width()-$("#"+g+"").closest(".ui-dialog").outerWidth()-5))}else{return}}}}}}$("#"+b).width(e).find("div.label").width(e).next().width(e);if($("#"+b+" div.value>div").length){$("#"+b+" div.value>div").width(e)}$("#elementRightSide").append($("#"+b));$("#elementRightSide .label").css("font-weight","bold");$("#elementRightSide .field:gt(0)").css("border-top","solid 2px #fff").css("margin-top","5px");if($("#"+g+" .elementDetail").length){$("#elementRightSide div.value").css("max-height",((($(".elementDetail table td.center>div.center").height())/$("#elementRightSide div.value").length)-30)+"px").css("overflow-y","scroll")}if($("#mainDiv .public").length&&$("#mainDiv .public form").length==0){$("#elementRightSide div.value").css("max-height",((($("#mainDiv .public table td.center>div.center").height())/$("#elementRightSide div.value").length)-30)+"px").css("overflow-y","scroll")}}function setListenerToDownloadFile(a,e,b){$("#"+a+" .fileDownload").click(function(g){g.stopPropagation();download(b);return false})}function setListenerToPreviewFile(a,g,e,b){$("#"+a+" .value .imgPreview").click(function(j){previewImage(e,b);j.stopPropagation()});$("#"+a+" .value .htmlPreview").click(function(j){previewHtml(e,b);j.stopPropagation()})}function setListenerToUnzipForViewing(a,g,e,b){$("#"+a+" .value .htmlPreview").click(function(j){previewUnzipForViewing(e,b);j.stopPropagation()})}function setListenerToAddJournalItem(o,e,q,l,g,k,a,n,j,b,u){if(o==""){o="mainDiv"}if(!$("#"+l+"").hasClass("allowOnReadOnly")&&(($("#"+o+">.elementDetail").length==1&&$("#"+o+" div.T div.el_edit").length==0)||$("#"+l+".readOnly").length>0)){$("#"+l+" div.label span").remove();$("#"+l+" div.label").text($("#"+l+" div.label").text().replace("(","").replace(")",""));return}$("#"+l+" div.label span.addJournalItem").click(function(y){emb=$(this);$(emb).parent().find(".addJournalItemMenu").remove();$(emb).after('<div class="addJournalItemMenu SBB ui-corner-all" style="z-index:999999;position:fixed;font-weight:normal;background-color:#fff;top:'+(Math.min(y.pageY-$(window).scrollTop(),$(window).height()-350))+"px; left:"+(Math.min(y.pageX-$(window).scrollLeft(),$(window).width()-420))+'px; padding:5px; " ><span class="label" style="float:left;margin-top:5px; margin-bottom:5px;width:400px;" >'+$(emb).parent().text().replace(/\(.*\)/,"")+'</span><div class="clear"></div><textarea id="'+l+'_addJournalItem" style="margin-top:5px; margin-bottom:5px;width:400px;" class="elastic" ></textarea><br /><input type="button" name="ok" value="'+n+'" /><input type="button" name="cancel" value="'+j+'" /></div>');if(k){options={};if($("#"+l+" div.value textarea").hasClass("wordlimit")){wordlimit=$("#"+l+" div.value textarea").attr("class").match(/ wordlimit_([0-9]*) /g)[0].replace(/ wordlimit_([0-9]*) /g,"$1");options=$.extend({extraPlugins:"wordcount,undo",wordcount_limit:wordlimit,wordcount_format:'<span class="cke_path_item">Word count: %count% / %limit%</span>'},options)}else{if($("#"+l+"").hasClass("wordlimit")){wordlimit=$("#"+l+"").attr("class").match(/ wordlimit_([0-9]*) /g)[0].replace(/ wordlimit_([0-9]*) /g,"$1");options=$.extend({extraPlugins:"wordcount,undo",wordcount_limit:wordlimit,wordcount_format:'<span class="cke_path_item">Word count: %count% / %limit%</span>'},options)}}options=$.extend({language:g,baseFloatZIndex:$(this).closest(".ui-dialog").css("zIndex")+1,toolbar:getBasicCKEditorToolbar(),toolbarCanCollapse:true,toolbarStartupExpanded:$(emb).parent().parent().find(".activateHtmlArea").length>0,width:400,height:200,resize_minWidth:50,startupFocus:true,allowedContent:true,filebrowserUploadUrl:crtWigiiNamespaceUrl+"/"+crtModuleName+"/CKEditor/upload"},options);$(emb).parent().find(".elastic").ckeditor(function(){},options)}else{$(emb).parent().find(".elastic").css("max-height",450).css("min-height",30).autosize();if($(emb).parent().parent().find(".value textarea").hasClass("wordlimit")){$(emb).parent().find(".elastic").wordlimit({allowed:$(emb).parent().parent().find(".value textarea").attr("class").match(/ wordlimit_([0-9]*) /g)[0].replace(/ wordlimit_([0-9]*) /g,"$1")})}else{if($(emb).parent().parent().hasClass("wordlimit")){$(emb).parent().find(".elastic").wordlimit({allowed:$(emb).parent().parent().attr("class").match(/ wordlimit_([0-9]*) /g)[0].replace(/ wordlimit_([0-9]*) /g,"$1")})}}$(emb).parent().find(".elastic").focus()}$(emb).next().click(function(z){z.stopPropagation();return false});$('.addJournalItemMenu input[type="button"]:input[name="cancel"]',$(emb).parent()).click(function(){$(this).parent().hide()});$('.addJournalItemMenu input[type="button"]:input[name="ok"]',$(emb).parent()).click(function(){$(this).parent().hide();if(b){url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+b;var z=new jQuery.ajax({type:"POST",url:encodeURI(url),success:parseUpdateResult,cache:false,data:{addJournalItemMessage:a.replace(u,$(this).parent().find("textarea").val()),elementId:e,journalFieldName:q,elementDialogId:o},error:errorOnUpdate})}else{$("#"+l+" div.value textarea").val(a.replace(u,$(this).parent().find("textarea").val()).replace(/\\n/g,"\n")+$("#"+l+" div.value textarea").val());if(!k){$("#"+l+" div.value textarea").change().blur()}else{$("#"+l+" div.value textarea").blur()}}});$(emb).next().draggable({handle:".label"});y.stopPropagation();return false})}function setListenerToPreviousVersions(inputPathId,areYouSure){$("#"+inputPathId).parent().find("a.previousVersion").mouseenter(function(){$(this).parent().find(".deletePreviousVersion").stop().remove();$(this).append('<span class="deletePreviousVersion" style="font-size:11px;padding:5px;margin-top:-8px;margin-right:-5px;margin-left:0px;cursor:pointer;display:none;">x</span>');$(".deletePreviousVersion",this).show().click(function(e){var vToDel=$("#"+inputPathId).parent().find("a.previousVersion:has(span.deletePreviousVersion)");jYescancel(areYouSure+":<br /><br />"+$(this).parent().find("span.H").text(),null,function(check){if(check===true){eval(vToDel.attr("href").replace("javascript:download('"+SITE_ROOT.replace("//","//"),"update('NoAnswer/").replace("previousVersion","deletePreviousVersion"));vToDel.fadeOut(800,function(){vToDel.remove()})}else{if(check===null){}}});e.stopPropagation();return false})}).mouseleave(function(){$(".deletePreviousVersion",this).stop().fadeOut(500,function(){$(this).remove()})})}function setListenerToEmailExternalCode(n,a,j,g,l,q,u,e,b,o,k){if(n==""){n="mainDiv"}$("#"+a+"").click(function(){setVis("busyDiv",true);url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"emailExternalCodeMenu/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/getExternalAccessMenuContent";var y=new jQuery.ajax({type:"POST",url:encodeURI(url),success:function(z,A){otherRequest=z.split(EXEC_answerRequestSeparator);z=otherRequest[0].split(EXEC_answerParamSeparator);otherRequest.shift();i=1;externalAccessMenusendEmailTitle=z[i++];externalAccessMenuEndDate=z[i++];okLabel=z[i++];cancelLabel=z[i++];subjectLabel=z[i++];helloBaseText=z[i++];helloBaseSubject=z[i++];validationEmailHtml=z[i++];validationEmailSubject=z[i++];externalAccessViewEmailHtml=z[i++];externalAccessViewEmailSubject=z[i++];externalAccessEditEmailHtml=z[i++];externalAccessEditEmailSubject=z[i++];areYouSureToStopExternalAccess=z[i++];emb=$("#"+a+"");$(emb).parent().find(".externalAccessMenu").remove();$(emb).after('<div class="externalAccessMenu SBB ui-corner-all" style="font-weight:normal;background-color:#fff;top:'+(parseInt($(emb).position().top)+parseInt($(emb).outerHeight()))+"px; left:"+($(emb).position().left-170)+'px; padding:5px; position:absolute;" ><div style="width:380px;font-weight:bold;">'+externalAccessMenusendEmailTitle+"</div>"+u+'<div class="endDate" style="cursor:pointer;margin-bottom:5px;margin-top:5px;"><span class="endDate" style="cursor:pointer;margin-right:5px;" onclick="$(this).next().focus();">'+externalAccessMenuEndDate+'</span><input class="endDate" type="text" name="externalAccessEndDate" value="'+q+'" /></div><hr class="SBB"><span class="grayFont subject" style="display:none;">'+subjectLabel+'&nbsp;</span><input class="subject" type="text" name="subject" value="" style="display:none;margin-top:0px; margin-bottom:5px;" /><textarea style="display:none;margin-top:5px; margin-bottom:5px;" class="elastic"></textarea><br /><input type="button" name="ok" disabled="on" value="'+okLabel+'" /><input type="button" name="cancel" value="'+cancelLabel+'" /></div>');externalTempCode=null;$(emb).parent().find("input.subject").width(395-$(emb).parent().find("span.subject").width());if($("#"+n+" div.T div.el_edit").length==0){$('.externalAccessMenu input[value="externalAccessMenuViewLink"]').hide().next().hide().next().hide();$('.externalAccessMenu input[value="externalAccessMenuEditLink"]').hide().next().hide().next().hide();$('.externalAccessMenu input[value="externalAccessMenuStop"]').hide().next().hide().next().hide();$('.externalAccessMenu input[value="externalAccessMenuValidationLink"]').hide().next().hide().next().hide()}$(emb).parent().find(".endDate").hide();$(emb).next().find('input[type="radio"]').click(function(){$(this).attr("checked",true);$(this).parent().find('input[type="button"]:input[name="ok"]').removeAttr("disabled");showCkEditor=false;showEndDate=false;switch($(this).val()){case"externalAccessMenusendEmail":$(this).parent().find("span.stopAccess").remove();$(this).parent().find(".elastic").val(helloBaseText);$(this).parent().find("input.subject").val(helloBaseSubject);externalTempCode=null;showEndDate=false;showCkEditor=true;break;case"externalAccessMenuValidationLink":$(this).parent().find("span.stopAccess").remove();$(this).parent().find(".elastic").val(validationEmailHtml);$(this).parent().find("input.subject").val(validationEmailSubject);externalTempCode=j;showEndDate=false;showCkEditor=true;break;case"externalAccessMenuViewLink":$(this).parent().find("span.stopAccess").remove();$(this).parent().find(".elastic").val(externalAccessViewEmailHtml);$(this).parent().find("input.subject").val(externalAccessViewEmailSubject);externalTempCode=l;showEndDate=true;showCkEditor=true;break;case"externalAccessMenuEditLink":$(this).parent().find("span.stopAccess").remove();$(this).parent().find(".elastic").val(externalAccessEditEmailHtml);$(this).parent().find("input.subject").val(externalAccessEditEmailSubject);externalTempCode=l;showEndDate=true;showCkEditor=true;break;case"externalAccessMenuStop":if($(this).parent().find(".cke").length>0){$(this).parent().find(".elastic").ckeditorGet().destroy()}$(this).parent().find(".elastic").hide();$(this).parent().find(".subject").hide();$(this).parent().find('input[type="button"]:input[name="ok"]').before('<span class="stopAccess">'+areYouSureToStopExternalAccess+"<br /><br /></span>");externalTempCode=l;showEndDate=false;showCkEditor=false;break}if(showEndDate){$(this).parent().find("input.endDate").datepicker({dateFormat:"dd.mm.yy",changeYear:true,firstDay:1,constrainInput:true,showOn:"button"}).width("75").click(function(){$(this).datepicker("hide")});$(this).parent().find(".endDate").show()}else{$(this).parent().find(".endDate").hide()}if(showCkEditor){$(this).parent().find(".subject").show();$(this).parent().find(".elastic").ckeditor({language:e,baseFloatZIndex:$(this).closest(".ui-dialog").css("zIndex")+1,toolbar:getBasicCKEditorToolbar(),toolbarCanCollapse:true,toolbarStartupExpanded:false,extraPlugins:"autogrow",autoGrow_minHeight:Math.max(80,$(this).height()),width:400,allowedContent:true,resize_minWidth:50,startupFocus:true})}});$(emb).next().find('input[type="button"]:input[name="cancel"]').click(function(){$(this).parent().hide().remove()});$(emb).next().find('input[type="button"]:input[name="ok"]').click(function(){$(this).parent().hide();url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+n+"/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/manageEmail/"+b+"/";var B=new jQuery.ajax({type:"POST",url:encodeURI(url),success:parseUpdateResult,cache:false,data:{externalMessage:$(this).parent().find("textarea").val(),externalSubject:$(this).parent().find("input.subject").val(),externalAction:$(this).parent().find("input:radio:checked").val(),externalCode:externalTempCode,externalEndDate:$(this).parent().find("input.endDate").val(),externalElementId:b,externalFieldName:o,externalEmail:k},error:errorOnUpdate})});if(otherRequest){parseUpdateResult(otherRequest.join(EXEC_answerRequestSeparator),A)}},cache:false,data:{proofKey:j,externalCode:l,proofStatus:g},error:errorOnUpdate});onUpdateErrorCounter=0})}var crtAutoSaveFieldChanged={};var changeAutoSaveFieldForSubmit={};var tempAutoSaveFormIndex=0;function saveField(k,g,q,j,l){if(arguments.length<5){l=null}if($("#"+q+" input[name=captcha_code]").length){return false}setVis("busyDiv",true);if($("#"+q).hasClass("field")){var b=q.replace(k+"__","");var n=q}else{var e=$("#"+q).parents(".field");if(e.length>0){var b=e.attr("id").replace(k+"__","");var n=e.attr("id")}else{e=$("#"+q).parent().parent();if(e.attr("id").indexOf(k+"__")===0){var b=e.attr("id").replace(k+"__","");var n=$("#"+q).parent().find("div.cke_contents").attr("id")}else{throw"cannot find wrapping field name for "+q+" in autosave."}}}crtAutoSaveFieldChanged[b]=true;changeAutoSaveFieldForSubmit["changedAutoSaveField["+b+"]"]=true;var a=SITE_ROOT+g+"/"+b+(l?"/"+l:"");$("#"+n).prepend('<div class="autoSaveConfirmation ui-widget ui-corner-all" style="position:absolute;margin-left:0px;margin-top:20px;padding:2px;">'+j+'<span class="percent"></span></div>');asFid="tempAutoSaveFileForm"+(tempAutoSaveFormIndex++);$("#"+q).wrap('<form id="'+asFid+'" action="'+a+'" enctype="multipart/form-data" method="post" ></form>');var o=false;if($("#"+q).find(".removeDisableOnSubmit[disabled]").andSelf().filter(".removeDisableOnSubmit[disabled]").length){$("#"+q).find(".removeDisableOnSubmit[disabled]").andSelf().filter(".removeDisableOnSubmit[disabled]").attr("disabled",false);o=true}$("#"+asFid).ajaxForm({success:function(u,y){parseUpdateResult(u,y)},data:{autoSaveFieldId:q,autoSaveMesssageTargetId:n},uploadProgress:function(A,u,z,y){$("#"+n+" .autoSaveConfirmation .percent").html(" ("+y+"%)")},cache:false});$("#"+asFid).submit();setTimeout(function(){if(o){$("#"+q).find(".removeDisableOnSubmit").andSelf().filter(".removeDisableOnSubmit").attr("disabled",true)}$("#"+q).unwrap()},10)}function autoSaveCKEditor(b,e,g,a){$(b).ckeditorGet().updateElement();saveField(e,g,$(b).attr("id"),a);return false}var focusAutoSaveFieldId="initial";var crtAutoSaveFieldDirty={};var crtActiveCKEditor=null;var crtActiveOnlineFileTextContentId=null;var blockHistoryForOnlineFileTextFieldName=null;function setListenerForAutoSave(b,e,a){focusAutoSaveFieldId="initial";crtAutoSaveFieldDirty={};crtAutoSaveFieldChanged={};changeAutoSaveFieldForSubmit={};tempAutoSaveFormIndex=0;$("#"+b+" :input").change(function(){crtAutoSaveFieldDirty[$(this).parents(".field").attr("id")]=true});$("#"+b+" :radio, #"+b+" :checkbox").click(function(){crtAutoSaveFieldDirty[$(this).parents(".field").attr("id")]=true;if(crtAutoSaveFieldDirty[$(this).parents(".field").attr("id")]){saveField(b,e,$(this).parents(".field").attr("id"),a);crtAutoSaveFieldDirty[$(this).parents(".field").attr("id")]=false}});$("#"+b+" :input").focus(function(g){if($(this).parents(".field").length){focusAutoSaveFieldId=$(this).parents(".field").attr("id")}});$("#"+b+" :input:not(:radio,:checkbox)").blur(function(){var g=$(this).parents(".field").attr("id");focusAutoSaveFieldId="";setTimeout(function(){if((focusAutoSaveFieldId!=g)&&crtAutoSaveFieldDirty[g]){var j=null;if(g==b+"__"+blockHistoryForOnlineFileTextFieldName){j="blockHistory";blockHistoryForOnlineFileTextFieldName=null}saveField(b,e,g,a,j);crtAutoSaveFieldDirty[g]=false}},10)});$("#"+b+" div.value textarea.htmlArea").blur(function(){crtActiveCKEditor=null;autoSaveCKEditor(this,b,e,a)});$("#"+b+" div.value textarea.htmlArea").focus(function(){crtActiveCKEditor=this});$("#"+b).stopTime(b+"autoSaveFormCKEditors");$("#"+b).everyTime(1000*30,b+"autoSaveFormCKEditors",function(j){if(crtActiveCKEditor!=null){autoSaveCKEditor(crtActiveCKEditor,b,e,a)}if(crtActiveOnlineFileTextContentId!=null){$(crtActiveOnlineFileTextContentId).val($("#elementPreview").find("textarea:first").ckeditorGet().getData());var g=$(crtActiveOnlineFileTextContentId).parents(".field").attr("id");saveField(b,e,g,a,(crtActiveOnlineFileTextContentId=="#editElement_form_"+blockHistoryForOnlineFileTextFieldName+"_textContent_textarea"?"blockHistory":null));crtAutoSaveFieldDirty[g]=false}});$("#"+b).ajaxForm($.extend({},getAjaxformOption("#"+b),{data:changeAutoSaveFieldForSubmit,beforeSerialize:function(){if($("#"+b+" .removeDisableOnSubmit").length>0){$("#"+b+" .removeDisableOnSubmit").removeAttr("disabled")}$("#"+b).find("form").each(function(){$(this).children().unwrap()})}}));if($("#"+b+" .cancel").length){$("#"+b+" .cancel").hide()}if($("#"+b).parents(".ui-dialog").find("button.cancel").length){$("#"+b).parents(".ui-dialog").find("button.cancel").hide()}}function actOnHistorizedHtmlFile(a){if(a&&crtActiveOnlineFileTextContentId==("#editElement_form_"+a+"_textContent_textarea")){blockHistoryForOnlineFileTextFieldName=a}}function resize_groupPanel(){resize_groupPanel_i=$("#groupPanel>ul");fb=$("#footerBar");gpT=$("#groupPanel>.keepNotify");if(resize_groupPanel_i.length>0){resize_groupPanel_i.height($(window).height()-resize_groupPanel_i.position().top-fb.outerHeight()-gpT.outerHeight()-20);if($("#groupPanel>ul:hidden").length){var b=$("#moduleView").height();var a=b/2-30}else{var b=$(window).height()-resize_groupPanel_i.position().top-fb.outerHeight();var a=b/2-30}$("#groupPanel>.collapse").height(b-a).css("padding-top",a)}}$(window).resize(resize_groupPanel);ElementPListRows_makeHeaders_getTotalWidth=0;ElementPListRows_makeHeaders_getNbNoWidth=0;ElementPListRows_makeHeaders_getNb=0;ElementPListRows_makeHeaders_totalPaddingInCol=0;ElementPListRows_scrollWidth=17;function ElementPListRows_makeHeaders(){if(jQuery.browser.msie&&version<=7){cor=2}else{cor=0}$("#moduleView .list .headerList>div.noWidth").width(Math.max(75,parseInt(($("#moduleView .list").width()-ElementPListRows_scrollWidth-ElementPListRows_makeHeaders_getTotalWidth-(cor*ElementPListRows_makeHeaders_getNb))/ElementPListRows_makeHeaders_getNbNoWidth)-ElementPListRows_makeHeaders_totalPaddingInCol));$("#moduleView .list .headerList>div:last").css("padding-right",ElementPListRows_scrollWidth+"px")}function resize_elementList(){resize_elementList_i=$("#moduleView>div.list>div.dataList");fb=$("#footerBar");if(resize_elementList_i.length>0){ElementPListRows_makeHeaders();tempTableWidth=0;$("#moduleView .list .headerList>div").each(function(){tempTableWidth+=parseInt($(this).outerWidth())});$("#moduleView .list .dataList table").width(tempTableWidth-ElementPListRows_scrollWidth);$("#moduleView .list .dataList table").css("table-layout","fixed");$("#moduleView>div.list .headerList").width(tempTableWidth);if(tempTableWidth>$("#moduleView .list").width()){$("#moduleView div.nbItemsInList").css("margin-top","-42px")}else{$("#moduleView div.nbItemsInList").css("margin-top","-25px")}resize_elementList_i.height($(window).height()-resize_elementList_i.position().top-fb.outerHeight());$("#moduleView .list .dataList").unbind("scroll").scroll(function(){$("#moduleView>div.list .headerList").css("margin-left",-$(this).scrollLeft())})}resize_portal();resize_coverPage();resize_calendar();resize_blog()}$(window).resize(resize_elementList);function resize_homePage(){resize_homePage_i=$("#workZone #ContainerHome");fb=$("#footerBar");if(resize_homePage_i.length>0){resize_homePage_i.height($(window).height()-resize_homePage_i.position().top-fb.outerHeight()-40);if($("#workZone #quickStartTabs").length){$("#workZone #quickStartTabs").css("min-width",$(window).width()-50-$("#workZone #ContainerHome").outerWidth())}}}$(window).resize(resize_homePage);function resize_portal(){if($("#moduleView .portal:visible").length>0&&$("#moduleView .portal>.media").length>0){$("#searchBar .firstBox, #searchBar .toolbarBox").hide();$("#moduleView .portal").css("float","left");fb=$("#footerBar");tempResizePortalHeight=$(window).height()-$("#moduleView").position().top-$("#moduleView .toolBar").height()-$("#moduleView #indicators").height()-fb.outerHeight()-1;$("#moduleView .portal").height(tempResizePortalHeight);$("#moduleView .portal").width($(window).width()-$("#groupPanel").outerWidth()-4);$("#moduleView .portal").css("overflow","hidden");$("#moduleView .portal .media>iframe").attr("height",$("#moduleView .portal").height()).attr("width",$("#moduleView .portal").width())}else{$("#searchBar .firstBox, #searchBar .toolbarBox").show()}resize_groupPanel()}function resize_coverPage(){if($("#moduleView .portal:visible").length>0&&$("#moduleView .portal>.media").length==0){$("#moduleView .portal").css("float","left");fb=$("#footerBar");tempResizePortalHeight=$(window).height()-$("#moduleView").position().top-$("#moduleView .toolBar").height()-$("#moduleView #indicators").height()-fb.outerHeight()-1;$("#moduleView .portal").height(tempResizePortalHeight);$("#moduleView .portal").width($(window).width()-$("#groupPanel").outerWidth()-24);$("#moduleView .portal").css("overflow","auto")}}coverPage_toggleList_titleList=null;coverPage_toggleList_titleWebsite=null;function coverPage_toggleList(){if($("#searchBar .toolbarBox .toggleCoverPage").length==0){$("#searchBar .toolbarBox div.addNewElement").after('<div class="toggleCoverPage" style="display:none;" onclick="coverPage_toggleList();"><span class="L H"></span></div>')}if($("#moduleView .dataZone:visible").length>0){showCoverPage()}else{hideCoverPage()}}function removeCoverPageItems(){hideCoverPage();$("#searchBar .toolbarBox .toggleCoverPage").hide()}function showCoverPage(){$("#moduleView .dataZone").hide();$("#searchBar .toolbarBox div:not(.toggleCoverPage,.addNewElement)").hide();$("#searchBar .toolbarBox .toggleCoverPage span").text(coverPage_toggleList_titleList).parent().show();$("#moduleView .portal").show();resize_elementList()}function hideCoverPage(){$("#moduleView .portal").hide();$("#searchBar .toolbarBox .toggleCoverPage span").text(coverPage_toggleList_titleWebsite).parent().show();$("#searchBar .toolbarBox div:not(.toggleCoverPage,.addNewElement,.cm,.disabledR)").show();$("#moduleView .dataZone").show();resize_elementList()}function fold(a){$(a+" ul ul").hide();$(a+" span.with-ul-displayed").removeClass("with-ul-displayed").addClass("with-ul-hidden")}function unfoldToSelectedGroup(e,b){if(arguments.length<2){b="selected"}var a=false;if(e=="#groupPanel"&&$(e+">ul:hidden").length){a=true}$(e+" ul:has(li.disabled)").show();$(e+" li.disabled>ul").show();$(e+" li.disabled>div>span.with-ul-hidden").removeClass("with-ul-hidden").addClass("with-ul-displayed");$(e+" ul:has(div."+b+")").show();$(e+" li."+b+">ul").show();$(e+" li:has(li div."+b+")>div>span.with-ul-hidden").removeClass("with-ul-hidden").addClass("with-ul-displayed");$(e+" li:has(>div."+b+")>div>span.with-ul-hidden").removeClass("with-ul-hidden").addClass("with-ul-displayed");if(a){$(e+">ul").hide()}}function unfoldToSelectedGroupButNotChildren(b,a){if(arguments.length<2){a="selected"}$(b+" ul:has(li.disabled)").show();$(b+" li.disabled>ul").show();$(b+" li.disabled>div>span.with-ul-hidden").removeClass("with-ul-hidden").addClass("with-ul-displayed");$(b+" ul:has(div."+a+")").show();$(b+" li:has(li div."+a+")>div>span.with-ul-hidden").removeClass("with-ul-hidden").addClass("with-ul-displayed")}function positionSelectedGroup(b,a){if(arguments.length<2){a="selected"}group=$(b+" li."+a);if(group.length>0){p=group.offset().top-$(b+">ul").offset().top+$(b+">ul").scrollTop();h=$(b+">ul").innerHeight();s=$(b+">ul").scrollTop();d=group.outerHeight();if(p<s){$(b+">ul").scrollTop(p-10)}else{if((p+d)>(h+s)){$(b+">ul").scrollTop(Math.min(p-10,p-h+d+10))}}}}function prepareOrganizeDialog(a,b){$("#organizeDialog").html('<div class="groupPanel"></div><div class="clear"></div>');$("#organizeDialog>.groupPanel").html($("#groupPanel>ul").clone(true));$("#organizeDialog>.groupPanel span.menu").remove();$("#organizeDialog>.groupPanel span.description").remove();$("#organizeDialog>.groupPanel div, #organizeDialog>.groupPanel li, #organizeDialog>.groupPanel ul, #organizeDialog>.groupPanel a.H").unbind();$("#organizeDialog .disabled").removeClass("disabled");$("#organizeDialog .selected").removeClass("selected");$("#organizeDialog .found").removeClass("found");$("#organizeDialog .hidden").show().removeClass("hidden");$("#organizeDialog .empty").removeClass("empty");$("#organizeDialog>.groupPanel>ul").height($("#moduleView").height()-80).show();$("#organizeDialog>.groupPanel li>div>a").before('<span class="checkbox">&nbsp;</span>');$("#organizeDialog>.groupPanel li>div").click(a);fold("#organizeDialog>.groupPanel");tempWidth=450;$("#organizeDialog>.groupPanel #group_0").width(tempWidth).css("overflow-x","auto");$("#organizeDialog>.groupPanel a").css("white-space","nowrap");$("#organizeDialog>.groupPanel").css("margin-bottom",0);$("#organizeDialog>.groupPanel>ul").css("height",$("#organizeDialog>.groupPanel>ul").height()-20);$("#organizeDialog").dialog({width:tempWidth+20,buttons:[{text:DIALOG_okLabel,click:b,"class":"ok"},{text:DIALOG_cancelLabel,click:function(){$(this).dialog("destroy")},"class":"cancel"}],closeOnEscape:true,stack:false,resizable:false,zIndex:0,modal:true})}function parseKeepNotifiedResult(a,b){setVis("busyDiv",false);otherRequest=a.split(EXEC_answerRequestSeparator);a=otherRequest[0].split(EXEC_answerParamSeparator);otherRequest.shift();i=1;$("#ui-dialog-title-organizeDialog").text(a[i++]);if(a[i++]=="emailAdressIsDefined"){$("#organizeDialog>.notifiedIntroduction").remove();$("#organizeDialog").prepend('<div class="notifiedIntroduction">'+a[i++]+"</div>");$("#organizeDialog>.groupPanel").show();fold("#organizeDialog>.groupPanel");$("#organizeDialog>.groupPanel .selected").removeClass("selected");$("#organizeDialog>.groupPanel .originalSelected").removeClass("originalSelected");checkedFolders=new Array();if(a[i]){checkedFolders=a[i++].split(",")}for(i=0;i<checkedFolders.length;i++){id=checkedFolders[i];$("#organizeDialog>.groupPanel #group_"+id+", #organizeDialog>.groupPanel #group_"+id+">div").addClass("selected originalSelected");$("#organizeDialog>.groupPanel #group_"+id+" li").addClass("selected");$("#organizeDialog>.groupPanel #group_"+id+" li>div").addClass("selected")}$("#organizeDialog>.groupPanel li.noRights").addClass("disabled noRights");$("#organizeDialog>.groupPanel li.noRights>div").addClass("disabled noRights");unfoldToSelectedGroupButNotChildren("#organizeDialog>.groupPanel","originalSelected");positionSelectedGroup("#organizeDialog>.groupPanel")}else{$("#organizeDialog>.groupPanel").hide();$("#organizeDialog>.notifiedIntroduction").remove();$("#organizeDialog").prepend('<div class="notifiedIntroduction">'+a[i++]+"</div>")}if(otherRequest){parseUpdateResult(otherRequest.join(EXEC_answerRequestSeparator),b)}}function actionForKeepNotified(b){setVis("busyDiv",true);original=new Array();actual=new Array();if(b=="setKeepNotifiedGroupsForEmail"){$("#organizeDialog li.originalSelected").each(function(){original[original.length]=$(this).attr("id").split("_")[1]});$("#organizeDialog li.selected").each(function(){if(!$(this).parent().parent().hasClass("selected")){actual[actual.length]=$(this).attr("id").split("_")[1]}})}url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"organizeDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/"+b;var a=new jQuery.ajax({type:"POST",url:encodeURI(url),success:parseKeepNotifiedResult,cache:false,data:{emailAccountForP:$("#KeepNotifiedEmailInput").val(),original:original,actual:actual},error:errorOnUpdate});onUpdateErrorCounter=0}function openKeepNotifiedDialog(){prepareOrganizeDialog(function(b){if(!$(this).hasClass("disabled")){$(this).toggleClass("selected");if($(this).hasClass("selected")){$(this).parent().addClass("selected").find("li, li>div").addClass("selected")}else{$(this).parents(".selected").removeClass("selected");$(this).parent().find("li").removeClass("selected");$("#organizeDialog li:not(.selected)>div.selected").removeClass("selected")}}return false},function(){if($("#KeepNotifiedEmailInput").length){actionForKeepNotified("setKeepNotifiedEmail")}else{actionForKeepNotified("setKeepNotifiedGroupsForEmail");if($("#organizeDialog").is(":ui-dialog")){$("#organizeDialog").dialog("destroy")}}});url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"organizeDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/getKeepNotifiedDialogContent/";setVis("busyDiv",true);var a=new jQuery.ajax({url:encodeURI(url),cache:false,success:parseKeepNotifiedResult,error:errorOnUpdate});onUpdateErrorCounter=0}function openOrganizeDialog(a){newCheckedFolders=new Object();checkedFolders=new Array();prepareOrganizeDialog(function(g){if(!$(this).hasClass("disabled")){$(this).toggleClass("selected");$("#organizeDialog>div>span.nb").removeClass("zero");if($(this).hasClass("selected")){newCheckedFolders[$(this).parent().attr("id").split("_")[1]]=$(this).parent().attr("id").split("_")[1];$("#organizeDialog>div>span.nb").text(parseInt($("#organizeDialog>div>span.nb").text())+1)}else{newCheckedFolders[$(this).parent().attr("id").split("_")[1]]=null;$("#organizeDialog>div>span.nb").text(parseInt($("#organizeDialog>div>span.nb").text())-1);if(parseInt($("#organizeDialog>div>span.nb").text())<1){$("#organizeDialog>div>span.nb").addClass("zero")}}}return false},function(){if(parseInt($("#organizeDialog>div>span.nb").text())==0){jAlert(DIALOG_selectAtLeastOneGroup);return false}url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"confirmationDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/setGroupsContainingElement/"+a;var e=new jQuery.ajax({type:"POST",url:encodeURI(url),success:parseUpdateResult,cache:false,data:{original:checkedFolders.join(","),actual:object2Array(newCheckedFolders).join(",")},error:errorOnUpdate});onUpdateErrorCounter=0;$(this).dialog("destroy");$("#elementDialog").prev().find(".ui-dialog-titlebar-close").click()});url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"organizeDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/getGroupsContainingElement/"+a;setVis("busyDiv",true);var b=new jQuery.ajax({url:encodeURI(url),cache:false,success:function(e,g){setVis("busyDiv",false);e=e.split(EXEC_answerRequestSeparator)[0].split(EXEC_answerParamSeparator);dialogTitle=e[1];$("#ui-dialog-title-organizeDialog").text(dialogTitle);checkedFolders=e[4];if(checkedFolders==""){return}checkedFolders=checkedFolders.split(",");for(i=0;i<checkedFolders.length;i++){id=checkedFolders[i];newCheckedFolders[id]=id;$("#organizeDialog>.groupPanel #group_"+id+", #organizeDialog>.groupPanel #group_"+id+">div").addClass("selected")}nbSelected=e[2];nbSelected=$("#organizeDialog>.groupPanel li.selected").length;textSelected=e[3];$("#organizeDialog").prepend('<div class="introduction"><span class="nb">'+nbSelected+"</span>&nbsp;<span>"+textSelected+"</span></div>");$("#organizeDialog>.groupPanel li:not(.write)").addClass("disabled noRights");$("#organizeDialog>.groupPanel li:not(.write)>div").addClass("disabled noRights");unfoldToSelectedGroupButNotChildren("#organizeDialog>.groupPanel");positionSelectedGroup("#organizeDialog>.groupPanel")},error:errorOnUpdate});onUpdateErrorCounter=0}function openOrganizeMultipleDialog(){prepareOrganizeDialog(function(e){if(!$(this).hasClass("disabled")){if($(this).hasClass("wasMixed")){if($(this).hasClass("mixed")){$(this).add($(this).parent()).removeClass("selected").removeClass("mixed")}else{if($(this).hasClass("selected")){$(this).add($(this).parent()).removeClass("selected").addClass("mixed selected")}else{$(this).add($(this).parent()).addClass("selected")}}}else{if($(this).hasClass("wasSelected")){$(this).add($(this).parent()).toggleClass("selected")}else{if($(this).hasClass("wasUnselected")){$(this).add($(this).parent()).toggleClass("selected")}}}}return false},function(){setVis("busyDiv",true);changeToSelected=new Array();$("#organizeDialog li.wasMixed.selected:not(.mixed), #organizeDialog li.wasUnselected.selected").each(function(){changeToSelected[changeToSelected.length]=$(this).attr("id").replace("group_","")});changeToUnselected=new Array();$("#organizeDialog li.wasMixed:not(.selected), #organizeDialog li.wasSelected:not(.selected)").each(function(){changeToUnselected[changeToUnselected.length]=$(this).attr("id").replace("group_","")});url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"confirmationDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/setGroupsContainingElements/multiple";var myAjax=new jQuery.ajax({type:"POST",url:encodeURI(url),success:parseUpdateResult,cache:false,data:{changeToUnselected:changeToUnselected.join(","),changeToSelected:changeToSelected.join(",")},error:errorOnUpdate});onUpdateErrorCounter=0});url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"organizeDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/getGroupsContainingElements/multiple";setVis("busyDiv",true);var myAjax=new jQuery.ajax({url:encodeURI(url),cache:false,success:function(returnText,textStatus){setVis("busyDiv",false);returnText=returnText.split(EXEC_answerRequestSeparator)[0].split(EXEC_answerParamSeparator);dialogTitle=returnText[1];$("#ui-dialog-title-organizeDialog").text(dialogTitle);eval(returnText[2]);totalElementsChecked=parseInt($("#multipleDialog .summary .multipleSelectionNb").text());for(i in originalFolders){groupId=i;isSelected=originalFolders[i]==totalElementsChecked;isMixed=originalFolders[i]&&!isSelected;$("#organizeDialog>.groupPanel #group_"+groupId+", #organizeDialog>.groupPanel #group_"+groupId+">div").addClass("selected");if(isMixed){$("#organizeDialog>.groupPanel #group_"+groupId+", #organizeDialog>.groupPanel #group_"+groupId+">div").addClass("mixed wasMixed")}else{if(isSelected){$("#organizeDialog>.groupPanel #group_"+groupId+", #organizeDialog>.groupPanel #group_"+groupId+">div").addClass("wasSelected")}}}$("#organizeDialog>.groupPanel li:not(.selected), #organizeDialog>.groupPanel li>div:not(.selected)").addClass("wasUnselected");$("#organizeDialog>.groupPanel li:not(.write)").addClass("disabled noRights");$("#organizeDialog>.groupPanel li:not(.write)>div").addClass("disabled noRights");unfoldToSelectedGroupButNotChildren("#organizeDialog>.groupPanel");positionSelectedGroup("#organizeDialog>.groupPanel")},error:errorOnUpdate});onUpdateErrorCounter=0}function removeElementInList(a){if($("#moduleView #row_"+a).hasClass("S")){$("#groupPanel div.highlight").removeClass("highlight")}$("#moduleView #row_"+a).remove()}function addElementInList(a){if($("#moduleView #row_"+a).length){updateElementInList(a)}else{url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"row_"+a+"/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/addElementInList/"+a;setVis("busyDiv",true);var b=new jQuery.ajax({url:encodeURI(url),cache:false,success:function(e,g){setVis("busyDiv",false);otherRequest=e.split(EXEC_answerRequestSeparator);e=otherRequest[0].split(EXEC_answerParamSeparator);otherRequest.shift();i=1;if($("#moduleView .groupList").length>0){$("#moduleView .groupList").after(e[i++])}else{$("#moduleView tr.folder:last").after(e[i++])}if(otherRequest){parseUpdateResult(otherRequest.join(EXEC_answerRequestSeparator),g)}},error:errorOnUpdate});onUpdateErrorCounter=0}}function updateElementInList(a){update("NoResponse/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/updateElementInList/"+a)}function updateElementsInList(a){update("NoResponse/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/updateElementsInList/"+a)}function unselectGroups(b,a){if(arguments.length<2){a="selected"}$(b+" li."+a+", "+b+" li."+a+">div."+a+"").removeClass(a)}function clickOnGroupInGroupPanel(a){$("#groupPanel #group_"+a+"").click()}function selectGroupInGroupPanel(){unselectGroups("#groupPanel");for(i=0;i<arguments.length;i++){id=arguments[i];$("#group_"+id+", #group_"+id+">div").addClass("selected");if($("#group_"+id+" ul").length==0){$("#moduleView div.subFoldersContent, #moduleView div.subFoldersList").hide()}else{$("#moduleView div.subFoldersContent, #moduleView div.subFoldersList").show()}if($("#group_"+id+"").parent().parent().hasClass("noRights")){$("#moduleView div.folderUp").addClass("disabled")}else{$("#moduleView div.folderUp").removeClass("disabled")}}unfoldToSelectedGroup("#groupPanel");positionSelectedGroup("#groupPanel");resize_elementList();self.location="#"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/folder/"+id}function selectGroup(b,e,a){if(arguments.length<3){a="selected"}unselectGroups(e,a);$("#group_"+b+", #group_"+b+">div").addClass(a);unfoldToSelectedGroup(e,a);positionSelectedGroup(e,a)}function setListenersToGroupTree(b,a){if(arguments.length<2){a="selected"}$(b+" li:not(.disabled) .menu").click(function(g){$(b+" .over").removeClass("over");$(this).closest("div").addClass("over");positionElementOnDom($(b+">.cm"),$(this),"fromLeft",5,false,true);$(b+">.cm div.write, "+b+">.cm div.admin").hide();if($(this).parent().parent().hasClass("readOnly")){$(b+">.cm div.readOnly").show()}if($(this).parent().parent().hasClass("share")){$(b+">.cm div.share").show()}if($(this).parent().parent().hasClass("write")){$(b+">.cm div.write").show()}if($(this).parent().parent().hasClass("admin")){$(b+">.cm div.admin").show()}if($(this).parent().parent().hasClass("level1")){$(b+">.cm div.level1").hide()}$(b+">.cm").show();g.stopPropagation()});$(b+">.cm").mouseleave(function(){$(b+" li>div").removeClass("over");$(this).hide()});$(b+">.cm").click(function(g){$(b+" li>div").removeClass("over");$(this).hide();g.stopPropagation()});$(b+">.cm>div").bind("contextmenu",function(g){g.stopPropagation();return false});$(b+" li>div>a.H").click(function(g){$(this).parent().click();g.stopPropagation();return false});$(b+" li:not(.disabled)").click(function(j){selectGroup($(this).attr("id").split("_")[1],b,a);var g=$(">div>span.with-ul-hidden",this);if(g.length>0){g.click()}j.stopPropagation()});$(b+" li:not(.disabled)").bind("contextmenu",function(g){$(">div>.menu",this).click();g.stopPropagation();return false});$(b+" li:not(.disabled) span.folder").click(function(j){var g=$(this).parent().nextAll("ul");if(g.length>0){$(this).toggleClass("with-ul-hidden").toggleClass("with-ul-displayed");g.toggle()}else{$(this).parent().click()}j.stopPropagation()});$(b+" li>div>a.H").hover(function(){hideHelp();showHelp($(this),$(this).nextAll(".description").html(),20,"fromCenter",500)},function(){hideHelp()});$(b+" li>div>span.folder").addClass("without-ul");$(b+" li:has(ul)>div>span.folder").removeClass("without-ul").addClass("with-ul-displayed");$(b+" li:has(>ul.n)>div>span.folder").removeClass("without-ul").removeClass("with-ul-displayed").addClass("with-ul-hidden");setListnerForGroupDragAndDrop(b,b+" li.admin:not(.level1)",b+" li.write>div",a)}function setListnerForGroupDragAndDrop(g,b,e,a){if(arguments.length<4){a="selected"}$(b).draggable({scroll:true,cursorAt:{top:5,left:-10},helper:function(k){var j="";if($(this).hasClass("folder")){j=$(this).text()}else{j=$(this).find(">div>a").text()}return $('<div class="ui-widget ui-corner-all SBIB" style="padding:5px;">'+j+"</div>")}});$(e).droppable({accept:"#moduleView .dataList tr:not(.folder), #moduleView .dataList tr.folder.admin:not(.level1), #moduleView .dataBlog div.el, #moduleView .dataBlog div.folder.admin:not(level1), "+g+" li.admin",hoverClass:"SBIB",tolerance:"pointer",greedy:true,drop:function(l,o){if(o.draggable.hasClass("admin")){var k=o.draggable;var j="";var n=null;if($(this).hasClass("folder")){n=$(this);j=n.text()}else{n=$(this).parent();j=n.find(">div>a").text()}jYescancel(DIALOG_doYouWantToMoveThisFolderUnderParent+j,null,function(q){if(q===true){setVis("busyDiv",true);$.post("UPDATE/"+crtContextId+"/__/elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupEdit/"+crtModuleName+"/"+k.attr("id").split("_")[1]+"/"+g.replace("#",""),{isInitiatedFromDragDrop:true,groupParent_value:n.attr("id").split("_")[1],idForm:"editGroup_form",action:"check"},function(u,y){parseUpdateResult(u,y);if(g.replace("#","")=="groupPanel"){clickOnGroupInGroupPanel(k.attr("id").split("_")[1])}else{selectGroup(k.attr("id").split("_")[1],g,a)}})}else{if(q===null){}}})}else{var k=o.draggable;var j="";var n=null;if($(this).hasClass("folder")){n=$(this);j=n.text()}else{n=$(this).parent();j=n.find(">div>a").text()}$.alerts.noButton=DIALOG_keepInBoth;$.alerts.okButton=DIALOG_move;jConfirm("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+DIALOG_doYouWantToMoveOrKeepInBoth+j+"?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",null,function(q){if(q===true){if(k.hasClass("M")){setVis("busyDiv",true);$.post("UPDATE/"+crtContextId+"/__/confirmationDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/setGroupsContainingElements/multiple",{changeToSelected:n.attr("id").split("_")[1],changeToUnselected:$(g+" li.selected").attr("id").split("_")[1]},parseUpdateResult)}else{setVis("busyDiv",true);$.post("UPDATE/"+crtContextId+"/__/confirmationDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/setGroupsContainingElement/"+k.attr("id").split("_")[1],{actual:n.attr("id").split("_")[1],original:$(g+" li.selected").attr("id").split("_")[1]},parseUpdateResult)}}else{if(q===null){}else{if(q===false){if(k.hasClass("M")){setVis("busyDiv",true);$.post("UPDATE/"+crtContextId+"/__/confirmationDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/setGroupsContainingElements/multiple",{changeToSelected:n.attr("id").split("_")[1],changeToUnselected:""},parseUpdateResult)}else{setVis("busyDiv",true);$.post("UPDATE/"+crtContextId+"/__/confirmationDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/setGroupsContainingElement/"+k.attr("id").split("_")[1],{actual:$(g+" li.selected").attr("id").split("_")[1]+","+n.attr("id").split("_")[1],original:$(g+" li.selected").attr("id").split("_")[1]},parseUpdateResult)}}}}});$.alerts.noButton="&nbsp;No&nbsp;";$.alerts.okButton="&nbsp;Ok&nbsp;"}l.stopPropagation()}})}crtGroupSelectorId=null;crtMultipleSelectionDialogKeep=false;function setListenersToGroupPanel(a){if($("#keepNotifyButton").length){$("#keepNotifyButton").click(openKeepNotifiedDialog)}$("#groupPanel li.noRights, #groupPanel li.noRights>div").addClass("disabled");setListenersToGroupTree("#groupPanel");if((jQuery.browser.msie&&parseFloat(jQuery.browser.version.split(".").slice(0,2).join("."))==9)){$("#groupPanel>.collapse").remove()}else{$("#groupPanel>.collapse").click(function(){if($("#groupPanel>ul#group_0:hidden").length){$("#groupPanel>ul#group_0").show();$("#groupPanel>.keepNotify").show();positionSelectedGroup("#groupPanel");$(this).html("&laquo;")}else{$("#groupPanel>ul#group_0").hide();$("#groupPanel>.keepNotify").hide();$(this).html("&raquo;")}resize_elementList();resize_coverPage();resize_portal()})}$("#groupPanel li span.folder").click(function(){resize_elementList()});$("#groupPanel li").click(function(j){resize_elementList();var g=$(this).attr("id").split("_")[1];self.location="#"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/folder/"+g;if(!crtMultipleSelectionDialogKeep&&crtGroupSelectorId!=g&&$("#multipleDialog .multipleSelectionNb").length&&$("#multipleDialog .multipleSelectionNb").text()!="0"){$.alerts.noButton="&nbsp;Keep&nbsp;";$.alerts.okButton="&nbsp;Discard&nbsp;";var b=$(">div>a.H",this).attr("href").replace("#","");jConfirm(a,null,function(e){if(e===true){$(".ui-dialog-titlebar-close",$("#multipleDialog").closest(".ui-dialog")).click();updateThroughCache("moduleView",b,"NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/groupSelectorPanel/selectGroup/"+g+"",1,1)}else{if(e===null){g=crtGroupSelectorId;$("#groupPanel #group_"+g).click()}else{if(e===false){crtMultipleSelectionDialogKeep=true;updateThroughCache("moduleView",b,"NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/groupSelectorPanel/selectGroup/"+g+"",1,1)}}}crtGroupSelectorId=g});$.alerts.noButton="&nbsp;No&nbsp;";$.alerts.okButton="&nbsp;Ok&nbsp;"}else{updateThroughCache("moduleView",$(">div>a.H",this).attr("href").replace("#",""),"NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/groupSelectorPanel/selectGroup/"+g+"",1,1);crtGroupSelectorId=g}j.stopPropagation()});$("#groupPanel ul#group_0").click(function(){if($(this).children("li:not(.noRights)").length>0){unselectGroups("#groupPanel");var b=+$(this).attr("id").split("_")[1];self.location="#"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/folder/"+b;updateThroughCache("moduleView",$(this).attr("href").replace("#",""),"NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/groupSelectorPanel/selectGroup/"+b+"",1,1)}else{$("li:not(.noRights):first").click()}});$("#groupPanel>.cm>div").click(function(){var b=$("#groupPanel li>div.over").parent();var e=b.attr("id").split("_")[1];if($(this).attr("id")=="cm_exit"){return true}if($(this).attr("id")=="cm_select"){b.click();return true}if($(this).attr("id")=="cm_findDuplicatesIn"){b.click();update("organizeDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/findDuplicatesIn/");return true}if($(this).attr("id")=="cm_add"){update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/add/"+e);b.click();return true}if($(this).attr("id")=="cm_renameGroup"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupEdit/"+crtModuleName+"/"+e+"/groupPanel");b.click();return true}if($(this).attr("id")=="cm_deleteGroup"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupDelete/"+crtModuleName+"/"+e+"/groupPanel");b.click();return true}if($(this).attr("id")=="cm_emptyGroup"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupEmpty/"+crtModuleName+"/"+e+"/groupPanel");b.click();return true}if($(this).attr("id")=="cm_createSubGroup"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupNew/"+crtModuleName+"/"+e+"/groupPanel");b.click();return true}if($(this).attr("id")=="cm_copyGroup"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupNewCopy/"+crtModuleName+"/"+e+"/groupPanel");b.click();return true}if($(this).attr("id")=="cm_groupDetail"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupDetail/"+crtModuleName+"/"+e+"/groupPanel");return true}if($(this).attr("id")=="cm_portal"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupPortal/"+crtModuleName+"/"+e+"/groupPanel");return true}if($(this).attr("id")=="cm_htmlContent"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupHtmlContent/"+crtModuleName+"/"+e+"/groupPanel");return true}if($(this).attr("id")=="cm_subscription"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupSubscription/"+crtModuleName+"/"+e+"/groupPanel");return true}if($(this).attr("id")=="cm_emailNotification"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupEmailNotification/"+crtModuleName+"/"+e+"/groupPanel");return true}if($(this).attr("id")=="cm_xmlPublish"){update("elementDialog/"+crtWigiiNamespaceUrl+"/Admin/groupXmlPublish/"+crtModuleName+"/"+e+"/groupPanel");return true}})}function setListenersToIndicator(){$("#indicators .closeIndicators").click(function(){$("#indicators div.indicator").hide();$("#indicators div.closeIndicators").hide();$("#indicators div.showIndicators").show();update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/closeIndicators")});$("#indicators .showIndicators").click(function(){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/showIndicators")});$("#indicators div.indicator").mouseenter(function(){$("#indicators div.indicator .closeIndicator").stop().remove();$(this).append('<div class="closeIndicator" style="font-size:11px;float:right;padding:3px;margin-top:-8px;margin-right:-5px;margin-left:2px;cursor:pointer;display:none;">x</div>');$(".closeIndicator",this).show().click(function(){$(this).parent().fadeOut(800,function(){$(this).remove()});update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/closeIndicator/"+$(this).parent().attr("id"))})});$("#indicators div.indicator").mouseleave(function(){$(".closeIndicator",this).stop().fadeOut(500,function(){$(this).remove()})})}menuTimeout=new Object();function setListenersToMenu(e,k,a,j,b,g){if(arguments.length<5||b==null){b=""}if(arguments.length<6){g=false}if(!g){$("#"+e).mouseenter(function(n){clearTimeout(menuTimeout[k]);var l=$(this);menuTimeout[k]=setTimeout(function(){positionElementOnDom($("#"+k),l,"fromLeft",26,true);var o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;$("#"+k).css("overflow-y","auto").css("max-height",o-20);$("#"+k).show().scrollTop(0)},150);n.stopPropagation()}).click(function(l){l.stopPropagation();l.preventDefault();return false})}else{$("#"+e).click(function(n){clearTimeout(menuTimeout[k]);positionElementOnDom($("#"+k),$(this),"fromLeft",26);var l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;$("#"+k).css("overflow-y","auto").css("max-height",l-20);$("#"+k).show().scrollTop(0);n.stopPropagation();n.preventDefault();return false})}$("#"+e).mouseleave(function(l){clearTimeout(menuTimeout[k]);menuTimeout[k]=setTimeout(function(){$("#"+k).hide()},300)});$("#"+k).mouseleave(function(){clearTimeout(menuTimeout[k]);menuTimeout[k]=setTimeout(function(){$("#"+k).hide()},300)}).mouseenter(function(){clearTimeout(menuTimeout[k])});$("#"+k+">div").click(function(l){if(!$(this).hasClass("exit")){if(a!=null&&j!=null){update(a+"/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/"+j+"/"+$("a:first",this).attr("href").replace("#","")+"/"+b)}}clearTimeout(menuTimeout[k]);$("#"+k).hide();l.stopPropagation();return false})}function setListenersToRows(e,j,g,b){if(arguments.length<4){var b="#moduleView .list>.cm"}if(arguments.length<3){var g="#moduleView .dataList tr.folder"}if(arguments.length<2){var j="#moduleView .dataList tr.el"}if(arguments.length<1){var e="#moduleView .list"}var a=".dragHandler";if($(j+" .dragHandler").length==0){a=null}$(j+":not(.readOnly)").draggable({scroll:true,cursorAt:{top:5,left:-10},handle:a,helper:function(k){if($(this).hasClass("M")){return $('<div class="ui-widget ui-corner-all SBIB" style="padding:5px;">'+$("#multipleDialog .summary").html()+"</div>")}return $('<div class="ui-widget ui-corner-all SBIB" style="padding:5px;">'+$(this).children().map(function(){if($(this).text()&&$(this).is(":visible")){return $(this).text()}else{return null}}).get().join(" ").substring(0,30)+"...</div>")}});setListnerForGroupDragAndDrop("#groupPanel",g+".admin:not(.level1)",g+".write");$(j).unbind("click");$(j).click(function(k){$(j).removeClass("S");$(this).addClass("S");idItem=$(this).attr("id").split("_")[1];self.location="#"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/item/"+idItem;updateThroughCache("elementDialog",$(this).attr("href").replace("#",""),"elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/detail/"+idItem+"")});$(j).unbind("contextmenu");$(j).bind("contextmenu",function(k){hideHelp();$(".menu",this).click();positionElementOnMouse($(b),k,"fromRight",null,5);return false});ModuleView_dataListIsMouseDrag=false;$("#moduleView .dataList tr.el>td>div").unbind();$("#moduleView .dataList tr.el>td>div").mouseenter(function(k){if($(this).hasClass("helpWidth")){w=$(this).attr("class").match(/ help_(.*) /g)[0].replace(/ help_(.*) /g,"$1")}else{w=Math.min(400,Math.max(200,$(this).width()))}showHelp(this,$(this).html(),30,"fromLeft",500,w,60000)}).mouseleave(function(k){hideHelp()}).click(function(l){if(l.ctrlKey){ModuleView_dataListIsMouseDrag=true;if($("#summaryDialog:visible").length==0){if(!$("#summaryDialog").hasClass("ui-draggable")){$("#summaryDialog").draggable({handle:".handler",cursor:"crosshair"})}$("#summaryDialog").show()}if($("#summaryDialog>textarea.content").val()!=""){$("#summaryDialog>textarea.content").val($("#summaryDialog>textarea.content").val()+", ")}$("#summaryDialog>textarea.content").val($("#summaryDialog>textarea.content").val()+$(this).text()).focus();$("#summaryDialog>textarea.content").scrollTop("9999999");l.stopPropagation();var k;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(window.getSelection){k=window.getSelection();if(k&&k.removeAllRanges){k.removeAllRanges()}}}return false}else{ModuleView_dataListIsMouseDrag=false}});$(j+" div.value div.file a").unbind();$(j+" div.value div.file a").click(function(k){k.stopPropagation()});$(j+" div.max").unbind();$(j+" div.max").click(function(l){var k=$(this).closest(j);if(k.hasClass("max")){k.removeClass("max");k.css("min-width",0);resize_elementList()}else{k.addClass("max");k.css("min-width",k.width());k.width("auto")}l.stopPropagation()});$(j+" div.menu").unbind();$(j+" div.menu").click(function(k){$(this).closest(j).addClass("over");positionElementOnDom($(b),$(this),"fromRight",5);elEnableState=$(".elEnableState",this).html();elState=$(".elState",this).html();if($(this).parent().parent().hasClass("readOnly")){$(b+" div.write").hide()}else{$(b+" div.write").show()}if($("#moduleView .toolBar .addNewElement.disabledBg").length>0){$(b+" #cm_addElementInList").hide()}else{$(b+" #cm_addElementInList").show()}if(elState&2){$(b+" #cm_edit").hide();$(b+" #cm_delete").hide();$(b+" #cm_organize").hide()}if(elEnableState&1){s=$(b+" #cm_lock");if(elState&1){s.addClass("checked").removeClass("unchecked")}else{s.addClass("unchecked").removeClass("checked")}}else{$(b+" #cm_lock").hide()}if(elEnableState&2){s=$(b+" #cm_block");if(elState&2){s.addClass("checked").removeClass("unchecked")}else{s.addClass("unchecked").removeClass("checked")}}else{$(b+" #cm_block").hide()}if(elEnableState&4){s=$(b+" #cm_state_important1");if(elState&4){s.addClass("checked").removeClass("unchecked")}else{s.addClass("unchecked").removeClass("checked")}}else{$(b+" #cm_state_important1").hide()}if(elEnableState&8){s=$(b+" #cm_state_important2");if(elState&8){s.addClass("checked").removeClass("unchecked")}else{s.addClass("unchecked").removeClass("checked")}}else{$(b+" #cm_state_important2").hide()}if(elEnableState&16){s=$(b+" #cm_finalize");if(elState&16){s.addClass("checked").removeClass("unchecked")}else{s.addClass("unchecked").removeClass("checked")}}else{$(b+" #cm_finalize").hide()}if(elEnableState&32){s=$(b+" #cm_approve");if(elState&32){s.addClass("checked").removeClass("unchecked")}else{s.addClass("unchecked").removeClass("checked")}}else{$(b+" #cm_approve").hide()}if(elEnableState&64){s=$(b+" #cm_dismiss");if(elState&64){s.addClass("checked").removeClass("unchecked")}else{s.addClass("unchecked").removeClass("checked")}}else{$(b+" #cm_dismiss").hide()}if(elEnableState&128){s=$(b+" #cm_state_archived");if(elState&128){s.addClass("checked").removeClass("unchecked")}else{s.addClass("unchecked").removeClass("checked")}}else{$(b+" #cm_state_archived").hide()}if(elEnableState&256){s=$(b+" #cm_state_deprecated");if(elState&256){s.addClass("checked").removeClass("unchecked")}else{s.addClass("unchecked").removeClass("checked")}}else{$(b+" #cm_state_deprecated").hide()}if(elEnableState&512){s=$(b+" #cm_hide");if(elState&512){s.addClass("checked").removeClass("unchecked")}else{s.addClass("unchecked").removeClass("checked")}}else{$(b+" #cm_hide").hide()}$(b).show();k.stopPropagation()});$(j+" div.mul").unbind();$(j+" div.mul, "+g+" div.mul").click(function(k){if($(this).parent().parent().hasClass("folder")){clickFolderLineInMultipleSelectionMode($(this).closest(g))}else{clickLineInMultipleSelectionMode($(this).closest(j))}k.stopPropagation()});$(e+" .new").removeClass("new")}function setListenersToElementList(){$("#moduleView .list .headerList div.mul").click(function(a){$(this).addClass("M");selectAllMultipleSelect();setTimeout(function(){$("#moduleView .list .headerList div.mul").removeClass("M")},500);a.stopPropagation()});$("#moduleView .dataList tr.folder div.folderUp").click(function(a){$("#groupPanel #group_"+$(this).parent().parent().attr("id").split("_")[1]).click();a.stopPropagation()});$("#moduleView .dataList tr.folder").click(function(a){$("#groupPanel #group_"+$(this).attr("id").split("_")[1]).click();a.stopPropagation()});$("#moduleView .dataList tr.folder div.subFoldersContent").click(function(a){tempGroupId=$("#groupPanel li.selected");if(tempGroupId.length>0){tempGroupId=tempGroupId.attr("id").split("_")[1]}else{tempGroupId=0}updateThroughCache("moduleView",$(this).attr("href").replace("#",""),"NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/groupSelectorPanel/selectGroupAndChildren/"+tempGroupId+"",0,1);a.stopPropagation()});$("#moduleView .dataList tr.folder div.subFoldersList").click(function(a){if($("#groupPanel li.selected").length>0){$("#groupPanel li.selected").click()}else{$("#groupPanel ul#group_0").click()}a.stopPropagation()});$("#moduleView .headerList>div:not(.noSorting)").click(function(){fieldName=$(this).attr("class");fieldName=fieldName.match("key_([^ ]*)");if(!fieldName){return}fieldName=fieldName[1];$("#moduleView .headerList>div").not($(this)).removeClass("DESC").removeClass("ASC");if(!($(this).hasClass("ASC"))&&!($(this).hasClass("DESC"))){if($(this).hasClass("defaultSorted")){sortedDir=$(this).attr("class").match("defaultSorted_([^ ]*)")[1];$(this).addClass(sortedDir)}else{$(this).addClass("ASC")}}else{$(this).toggleClass("DESC").toggleClass("ASC")}update("moduleView/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/changeSortByKey/"+fieldName+"/"+$(this).hasClass("ASC"))});$("#moduleView .list>.cm").mouseleave(function(){$("#moduleView .dataList tr").removeClass("over");$(this).hide()});$("#moduleView .list>.cm").click(function(){$("#moduleView .dataList tr").removeClass("over");$(this).hide()});$("#moduleView .list>.cm>div").click(function(){if($(this).attr("id")=="cm_exit"){return true}if($(this).attr("id")=="cm_open"){$("#moduleView .dataList tr.el.over").click();return true}idItem=$("#moduleView .dataList tr.el.over").attr("id").split("_")[1];if($(this).attr("id")=="cm_addElementInList"){$("#moduleView .toolBar .addNewElement").click();return true}$("#moduleView .dataList tr.S").removeClass("S");$("#row_"+idItem).addClass("S");self.location="#"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/item/"+idItem;if($(this).hasClass("unchecked")){checked=1;$(this).removeClass("unchecked").addClass("checked")}else{if($(this).hasClass("checked")){checked=0;$(this).removeClass("checked").addClass("unchecked")}else{checked=-1}}if($(this).attr("id")=="cm_edit"){update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/edit/"+idItem);return true}if($(this).attr("id")=="cm_delete"){update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/delete/"+idItem+"/elementDialog");return true}if($(this).attr("id")=="cm_copy"){update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/copy/"+idItem+"/"+$("#groupPanel li.selected").attr("id").split("_")[1]);return true}if($(this).attr("id")=="cm_organize"){openOrganizeDialog(idItem);return true}if($(this).attr("id")=="cm_lock"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/locked/"+checked+"/")}return true}if($(this).attr("id")=="cm_block"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/blocked/"+checked+"/")}return true}if($(this).attr("id")=="cm_state_important1"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/important1/"+checked+"/")}return true}if($(this).attr("id")=="cm_state_important2"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/important2/"+checked+"/")}return true}if($(this).attr("id")=="cm_finalize"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/finalized/"+checked+"/")}return true}if($(this).attr("id")=="cm_approve"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/approved/"+checked+"/")}return true}if($(this).attr("id")=="cm_dismiss"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/dismissed/"+checked+"/")}return true}if($(this).attr("id")=="cm_state_archived"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/archived/"+checked+"/")}return true}if($(this).attr("id")=="cm_state_deprecated"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/deprecated/"+checked+"/")}return true}if($(this).attr("id")=="cm_hide"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/hidden/"+checked+"/")}return true}});setListenersToLoadMoreLines("getNextElementInList","#moduleView .list","#moduleView .list .dataList table tbody");setListenersToRows()}function setListenersToElementBlog(){$("#moduleView .dataBlog div.groupList div.folder:not(.subFoldersContent, .subFoldersList)").click(function(a){$("#groupPanel #group_"+$(this).attr("id").split("_")[1]).click();a.stopPropagation()});$("#moduleView .dataBlog div.groupList div.subFoldersContent").click(function(a){tempGroupId=$("#groupPanel li.selected");if(tempGroupId.length>0){tempGroupId=tempGroupId.attr("id").split("_")[1]}else{tempGroupId=0}updateThroughCache("moduleView",$(this).attr("href").replace("#",""),"NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/groupSelectorPanel/selectGroupAndChildren/"+tempGroupId+"",0,1);a.stopPropagation()});$("#moduleView .dataBlog div.groupList div.subFoldersList").click(function(a){if($("#groupPanel li.selected").length>0){$("#groupPanel li.selected").click()}else{$("#groupPanel ul#group_0").click()}a.stopPropagation()});$("#moduleView .blog>.cm").mouseleave(function(){$("#moduleView .dataBlog div.el").removeClass("over");$(this).hide()});$("#moduleView .blog>.cm").click(function(){$("#moduleView .dataBlog div.el").removeClass("over");$(this).hide()});$("#moduleView .blog>.cm>div").click(function(){if($(this).attr("id")=="cm_exit"){return true}if($(this).attr("id")=="cm_open"){$("#moduleView .dataBlog div.el.over").click();return true}idItem=$("#moduleView .dataBlog div.el.over").attr("id").split("_")[1];if($(this).attr("id")=="cm_addElementInList"){$("#moduleView .toolBar .addNewElement").click();return true}$("#moduleView .dataBlog div.S").removeClass("S");$("#row_"+idItem).addClass("S");self.location="#"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/item/"+idItem;if($(this).hasClass("unchecked")){checked=1;$(this).removeClass("unchecked").addClass("checked")}else{if($(this).hasClass("checked")){checked=0;$(this).removeClass("checked").addClass("unchecked")}else{checked=-1}}if($(this).attr("id")=="cm_edit"){update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/edit/"+idItem);return true}if($(this).attr("id")=="cm_delete"){update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/delete/"+idItem+"/elementDialog");return true}if($(this).attr("id")=="cm_copy"){update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/copy/"+idItem+"/"+$("#groupPanel li.selected").attr("id").split("_")[1]);return true}if($(this).attr("id")=="cm_organize"){openOrganizeDialog(idItem);return true}if($(this).attr("id")=="cm_lock"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/locked/"+checked+"/")}return true}if($(this).attr("id")=="cm_block"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/blocked/"+checked+"/")}return true}if($(this).attr("id")=="cm_state_important1"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/important1/"+checked+"/")}return true}if($(this).attr("id")=="cm_state_important2"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/important2/"+checked+"/")}return true}if($(this).attr("id")=="cm_finalize"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/finalized/"+checked+"/")}return true}if($(this).attr("id")=="cm_approve"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/approved/"+checked+"/")}return true}if($(this).attr("id")=="cm_dismiss"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/dismissed/"+checked+"/")}return true}if($(this).attr("id")=="cm_state_archived"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/archived/"+checked+"/")}return true}if($(this).attr("id")=="cm_state_deprecated"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/deprecated/"+checked+"/")}return true}if($(this).attr("id")=="cm_hide"){if(checked>=0){update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/"+idItem+"/hidden/"+checked+"/")}return true}});setListenersToLoadMoreLines("getNextElementInBlog","#moduleView .blog","#moduleView .blog .dataBlog");setListenersToRows("#moduleView .blog","#moduleView .dataBlog div.el","#moduleView .dataBlog div.folder","#moduleView .blog>.cm")}function setListenersToLoadMoreLines(action,selector,appendToSelector){$(selector+">.nbItemsInList>.loadMoreLines").click(function(){url=SITE_ROOT+"useContext/"+crtContextId+EXEC_requestSeparator+crtWigiiNamespaceUrl+"/"+crtModuleName+"/"+action+"/";setVis("busyDiv",true);page=parseInt($(selector+">.nbItemsInList>.page").text())+1;$(selector+">.nbItemsInList>.page").text(page);var myAjax=new jQuery.ajax({type:"POST",url:encodeURI(url),cache:false,data:{page:page},success:function(returnText,textStatus){setVis("busyDiv",false);data=returnText.split("_X_NBNEWROWS_X_");nbLoaded=parseInt(data[1]);jsCode=data[2];data=data[0];$(selector+">.nbItemsInList>.nb").text(parseInt($(selector+">.nbItemsInList>.nb").text())+nbLoaded);if(data==""||parseInt($(selector+">.nbItemsInList>.nb").text())==parseInt($(selector+">.nbItemsInList>.total").text())){$(selector+">.nbItemsInList").html($(selector+">.nbItemsInList>.nb").html()+$(selector+">.nbItemsInList>.type").html())}$(appendToSelector).append(data);if(jsCode){eval(jsCode.replace('<script id="JSCode" type="text/javascript" > $(document).ready(function(){ ',"").replace("}); <\/script>",""))}updateCurrentModuleViewCache()},error:errorOnUpdate});onUpdateErrorCounter=0})}function matchSubFoldersInElementListToGroupPanel(){$("#moduleView .dataList tr.folder").each(function(a){if(!$("#groupPanel #group_"+$(this).attr("id").split("_")[1]+":visible").length){$(this).hide()}else{tempHtml=$("#groupPanel #group_"+$(this).attr("id").split("_")[1]+">div>span.nb").html();if(tempHtml){$("div.folder",this).next().append('<span class="R nb">'+tempHtml+"</span>")}}})}function displayLink(a,b,g,e){if(arguments.length<3){g=30;e=0}if($(a).find(".sendLinkInput").length==1){}else{b=b.replace(" ","%20");$(a).prepend('<div class="sendLinkInput ui-corner-all SBB" style="background-color:#fff;z-index:9999999;position:absolute;float:left;margin-top:'+g+"px;margin-left:"+e+'px;padding:5px;width:425px;"><input type="text" style="float:left;margin:0px;padding:2px;width:400px;" value="'+b+'" /><div class="H" style="float:left;font-size:x-small;margin-left:8px;"> X </div></div>').find("input").select().next().click(function(j){$(this).parent().remove();j.stopPropagation();return false})}}function mailToFromLink(b,a){if($("#"+b+"").parent().find(".sendLinkInput").length==1){}else{a=a.replace(" ","%20");$("#"+b+"").parent().prepend('<div class="sendLinkInput ui-corner-all SBB" style="background-color:#fff;z-index:9999999;position:absolute;float:left;margin-top:20px;margin-left:'+($("#"+b+"").width()-425)+'px;padding:5px;width:425px;"><input type="text" style="float:left;margin:0px;padding:2px;width:400px;" value="'+a+'" /><div class="H" style="float:left;font-size:x-small;margin-left:8px;"> X </div></div>').find("input").select().next().click(function(g){$(this).parent().remove();g.stopPropagation();return false})}}function setListenersToElementDetail(n,l,a,b,e,j,g,k){if(arguments.length<4){b=false;e=null;j=null;g=null;cacheId=null}if(arguments.length<2){var l=crtWigiiNamespaceUrl;var a=crtModuleName}if(n==""){n="mainDiv"}$("#"+n+" .T>div, #"+n+" .T>a").add($("a",$("#"+n+"").prev())).click(function(){if($(this).hasClass("el_edit")){update(""+n+"/"+l+"/"+a+"/element/edit/"+$(this).parent().attr("href").replace("#",""));return}if($(this).hasClass("el_copy")){if(b){update(""+n+"/"+l+"/"+a+"/subelement/copy/"+j+"/"+g+"/"+$(this).parent().attr("href").replace("#",""))}else{update(""+n+"/"+l+"/"+a+"/element/copy/"+$(this).parent().attr("href").replace("#","")+"/"+$("#groupPanel li.selected").attr("id").split("_")[1])}return}if($(this).hasClass("el_organize")){openOrganizeDialog($(this).parent().attr("href").replace("#",""));return}if($(this).hasClass("el_status")){$("#"+n+" .elementStatusMenu").show();return}if($(this).hasClass("el_delete")){update("confirmationDialog/"+l+"/"+a+"/element/delete/"+$(this).parent().attr("href").replace("#","")+"/"+n);return}if($(this).hasClass("el_feedback")){update("feedbackDialog/"+l+"/"+a+"/giveFeedback/element/"+$(this).attr("href").replace("#",""));return false}if($(this).hasClass("el_back")){if(k){updateThroughCache("elementDialog",k,"elementDialog/"+l+"/"+a+"/element/detail/"+j+"")}else{update("elementDialog/"+l+"/"+a+"/element/detail/"+j+"")}return false}if($(this).hasClass("el_printDetails")){return}if($(this).hasClass("el_sendLink")){return}});$("#"+n+" .elementStatusMenu").mouseleave(function(){$(this).hide()});$("#"+n+" .elementStatusMenu>div").click(function(o){if(!$(this).hasClass("exit")){$(this).toggleClass("checked");if($(this).hasClass("checked")){val="1"}else{val="0"}update(n+"/"+l+"/"+a+"/setElementState/"+$("#"+n+" .T").attr("href").replace("#","")+"/"+$(this).attr("href").replace("#","")+"/"+val)}else{$("#"+n+" .elementStatusMenu").hide()}o.stopPropagation()});$("#"+n+" .elementHistoric>div.label").click(function(){$(this).toggleClass("expanded").toggleClass("collapsed");$(this).next().toggle();if($(this).hasClass("expanded")){$(window).scrollTop($(window).scrollTop()+$("#"+n+" .elementHistoric").height())}});hrefWithSiteroot2js(n,n);$("#"+n+" div.field .label").bind("contextmenu",function(o){$(this).parent().find(">.addinfo").show();return false});$("#"+n+" div.field").mouseleave(function(o){$(this).find(".addinfo").hide()})}function hrefWithSiteroot2js(a,b){$("#"+a+' a[href^="'+SITE_ROOT+'"]').each(function(){$(this).click(function(){if($(this).attr("target")!="_blank"){var e=$(this).attr("href");if(e.indexOf("#")!=-1){e=e.replace(SITE_ROOT+"#","");if(!$(this).attr("href").match(crtWigiiNamespaceUrl)||!$(this).attr("href").match(crtModuleName)){if($(this).attr("href").match("item/")){e=e.replace("/item/","/navigate/item/")}if($(this).attr("href").match("folder/")){e=e.replace("/folder/","/navigate/folder/")}update("mainDiv/"+e)}else{if($(this).attr("href").match("item/")){e=e.replace("/item/","/element/detail/");update(""+b+"/"+e)}if($(this).attr("href").match("folder/")){e=e.replace("/folder/","/groupSelectorPanel/selectGroup/");update("NoAnswer/"+e)}}}}})})}function resize_navigateMenu(){resize_navigateMenu_i=$("#NMContainer");if(resize_navigateMenu_i.length>0){resize_navigateMenu_i.width($(window).width()-$("#userMenu").outerWidth()-$("#navigationBar .navR").outerWidth()-$("#navigationBar .navL").outerWidth()-1)}}$(window).resize(resize_navigateMenu);navigateMenuTimerComeBackToSelected=null;doShowUserMenuUserNameTimer=null;doShowUserSubMenuUserNameTimer=null;var ctrlPressed=false;window.onmousedown=function(a){ctrlPressed=a.ctrlKey};function setListenerToNavigateMenu(){$("#navigateMenu li").click(function(a){if($(this).hasClass("with-ul")){$("ul li:first a",this).click(a)}else{$.cookie("wigii_anchor",$("a",this).attr("href"),{path:"/"});if(a.ctrlKey){}else{$("#navigateMenu .selected").removeClass("selected");$(this).addClass("selected");refreshNavigateMenu();self.location=$("a",this).attr("href");updateThroughCache();clearTimeout(navigateMenuTimerComeBackToSelected)}a.stopPropagation()}}).bind("contextmenu",function(a){$.cookie("wigii_anchor",$("a",this).attr("href"),{path:"/"});a.stopPropagation()});$("#userMenu li.back").click(function(a){$("#navigateMenu a[href='#"+crtWigiiNamespaceUrl+"/"+crtModuleName+"']").click(a);return false});$("#userName").mouseenter(function(a){clearTimeout(doShowUserMenuUserNameTimer);doShowUserMenuUserNameTimer=setTimeout(function(){$("#userName").addClass("menuHover");$("#userName>ul, #userName>ul>li").css("visibility","visible")},250)}).mouseleave(function(a){clearTimeout(doShowUserMenuUserNameTimer);doShowUserMenuUserNameTimer=setTimeout(function(){$("#userName").removeClass("menuHover");$("#userName>ul, #userName>ul>li").css("visibility","hidden")},240)});$("#userName>ul>li").each(function(){$(this).mouseenter(function(a){$("#userName>ul>li.subMenuHoverTemp").removeClass("subMenuHoverTemp");$(this).addClass("subMenuHoverTemp");clearTimeout(doShowUserSubMenuUserNameTimer);doShowUserSubMenuUserNameTimer=setTimeout(function(){$("#userName>ul>li.subMenuHover>ul, #userName>ul>li.subMenuHover>ul>li").css("visibility","hidden");$("#userName>ul>li.subMenuHover").removeClass("subMenuHover");$("#userName>ul>li.subMenuHoverTemp").addClass("subMenuHover");$("#userName>ul>li.subMenuHover ul, #userName>ul>li.subMenuHover>ul>li").css("visibility","visible")},250)}).mouseleave(function(a){clearTimeout(doShowUserSubMenuUserNameTimer);doShowUserSubMenuUserNameTimer=setTimeout(function(){$("#userName>ul>li.subMenuHover>ul, #userName>ul>li.subMenuHover>ul>li").css("visibility","hidden");$("#userName>ul>li.subMenuHover").removeClass("subMenuHover")},240)})});$("#navigationBar .navL").click(function(a){if($(this).hasClass("D")){return}$("#navigateMenu").stop(true,true).animate({marginLeft:"+=200"},200,enableDisableNavScroll);clearTimeout(navigateMenuTimerComeBackToSelected);navigateMenuTimerComeBackToSelected=setTimeout(timeToScrollBack,5000)});$("#navigationBar .navR").click(function(a){if($(this).hasClass("D")){return}$("#navigateMenu").stop(true,true).animate({marginLeft:"-=200"},200,enableDisableNavScroll);clearTimeout(navigateMenuTimerComeBackToSelected);navigateMenuTimerComeBackToSelected=setTimeout(timeToScrollBack,5000)})}function enableDisableNavScroll(){NMOriginalOffset=$("#NMContainer").offset().left;NMFirst=$("#navigateMenu>li:first").offset().left-NMOriginalOffset;NMLast=$("#navigateMenu>li:last").offset().left-NMOriginalOffset+$("#navigateMenu>li:last").width();NMWidth=$("#NMContainer").width();if(NMFirst<=0){$("#navigationBar .navL").removeClass("D")}else{$("#navigationBar .navL").addClass("D")}if(NMLast>NMWidth){$("#navigationBar .navR").removeClass("D")}else{$("#navigationBar .navR").addClass("D")}}function timeToScrollBack(){NMOriginalOffset=$("#NMContainer").offset().left;NMWidth=$("#NMContainer").width();NMOffset=$("#navigateMenu>li.selected").offset().left-NMOriginalOffset;NMSelectedWidth=$("#navigateMenu>li.selected").width();NMFirstOffset=$("#navigateMenu>li:first").offset().left-NMOriginalOffset;NMLastOffset=$("#navigateMenu>li:last").offset().left-NMOriginalOffset+$("#navigateMenu>li:last").width();NMOffsetResult=0;if((NMOffset+NMSelectedWidth)>NMWidth){NMOffsetResult=-(NMOffset+NMSelectedWidth-NMWidth)-50}else{if(NMOffset<0){NMOffsetResult=-NMOffset+50}}if((NMFirstOffset+NMOffsetResult)>=0){NMOffsetResult=-NMFirstOffset}if(NMOffsetResult!=0){$("#navigateMenu").animate({marginLeft:"+="+(NMOffsetResult)},500,enableDisableNavScroll)}else{enableDisableNavScroll()}}function setNavigationBarInHomeState(a){if(arguments.length==0){a=false}$("#navigationBar .homeOnly").show();if(!crtWigiiNamespaceUrl||!crtModuleName){$("#userMenu li.back").hide()}$("#navigationBar .notHome").hide();if(a){$("#userFeedbackOnSystem").show();$("#userFeedbackOnSystem").removeClass("disabled");$("#userFeedbackOnSystem a").removeClass("disabled")}else{$("#userFeedbackOnSystem").hide();$("#userFeedbackOnSystem a").addClass("disabled");$("#userFeedbackOnSystem").addClass("disabled")}closeStandardsDialogs();self.location="#Home";resize_navigateMenu()}function setNavigationBarNotInHomeState(a){$("#navigationBar .admin").hide();$("#navigationBar .homeOnly").hide();$("#navigationBar .notHome").show();if(a){$("#userFeedbackOnSystem").show();$("#userFeedbackOnSystem").removeClass("disabled");$("#userFeedbackOnSystem a").removeClass("disabled")}else{$("#userFeedbackOnSystem").hide();$("#userFeedbackOnSystem a").addClass("disabled");$("#userFeedbackOnSystem").addClass("disabled")}self.location="#"+crtWigiiNamespaceUrl+"/"+crtModuleName;resize_navigateMenu()}function setNavigationBarInAdminState(){$("#navigationBar .homeOnly").hide();$("#navigationBar .notHome").show();$("#navigationBar .home").hide();$("#userFeedbackOnSystem").hide();$("#userFeedbackOnSystem a").addClass("disabled");$("#userFeedbackOnSystem").addClass("disabled");$("#navigationBar .admin").show()}function refreshNavigateMenu(){$("#navigateMenu .selected").parentsUntil("#navigateMenu","li").addClass("selected");if($("#navigateMenu li.selected").length>1){$("#navigateMenu").addClass("with-sub")}else{$("#navigateMenu").removeClass("with-sub")}resize_navigateMenu()}function setListenerToHomePage(a){if(arguments.length<1){a="fromLeft"}$("#ContainerHome #homePageModuleMenu li, #ContainerHome #homePageWigiiNamespaceMenu li.sub").click(function(b){$("a",this).click()});$("#ContainerHome #homePageModuleMenu :not(.link) a, #ContainerHome #homePageWigiiNamespaceMenu .sub a").click(function(b){homePageClickRef=$(this).attr("href");homePageClickRef=homePageClickRef.replace(SITE_ROOT,"");if($(this).parent().hasClass("adminMenu")){$("#userMenuAdmin a[href$='"+homePageClickRef+"']").click()}else{$("#navigateMenu a[href$='"+homePageClickRef+"']").click()}self.location=homePageClickRef;b.stopPropagation()});$("#ContainerHome #homePageWigiiNamespaceMenu li").mouseenter(function(){if($("ul li",this).length>1){tempOffsetLow=null;if(a=="right"||a=="left"){tempOffsetLow=0}positionElementOnDom($("ul",this),$(this),a,tempOffsetLow,true);$("ul",this).show()}}).mouseleave(function(){$("ul",this).hide()}).click(function(b){if($("ul li:first a",this).length){$("ul li:first a",this).click()}}).bind("contextmenu",function(b){$.cookie("wigii_anchor",$("a",this).attr("href"),{path:"/"});b.stopPropagation()})}function selectLine(b,a){if(arguments.length<2){a=false}if(typeof(b)=="string"){obj=$("#"+b)}else{obj=$(b)}obj.parent().find("*").removeClass("selected");if(switchSelectionModeIsMultiple){if(obj.hasClass("readOnly")){$("#moduleView .title .onlyWriteRights").hide()}else{if(allMultipleSelectionHaveWriteRights){$("#moduleView .title .onlyWriteRights").show()}}if(a){obj.toggleClass("multipleSelected")}else{obj.addClass("multipleSelected")}}else{obj.parent().find("*").removeClass("multipleSelected");obj.addClass("selected")}matchContextMenu(obj)}switchSelectionModeIsMultiple=false;allMultipleSelectionHaveWriteRights=false;multipleSelectionNb=0;function setSelectionMode(a){if(arguments.length<1){a=switchSelectionModeIsMultiple}if(switchSelectionModeIsMultiple!=a){switchSelectionModeIsMultiple=a;if(switchSelectionModeIsMultiple){}else{crtMultipleSelectionDialogKeep=false;update("multipleDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/stopMultipleSelection/");$("#moduleView .M").removeClass("M")}}if(switchSelectionModeIsMultiple){$("#moduleView div.toolBar>div.emailing").addClass("M");$("#moduleView div.toolBar>div.export").addClass("M")}else{$("#moduleView div.toolBar>div.emailing").removeClass("M");$("#moduleView div.toolBar>div.export").removeClass("M")}if($("#multipleDialog:visible").length>0){$("#multipleDialog .summary span.multipleSelectionNb").text(multipleSelectionNb);if(allMultipleSelectionHaveWriteRights){$("#multipleDialog div.onlyWriteRights").show()}else{$("#multipleDialog div.onlyWriteRights").hide()}if(multipleElementStatePerm&2){$("#multipleDialog div.organizeMultiple").hide();$("#multipleDialog div.deleteMultiple").hide()}if(multipleElementStateRest&2){$("#multipleDialog div.editMultiple").hide()}if(multipleEnableElementState>0){if(multipleEnableElementState&1){s=$("#multipleDialog div.lockedMultiple");if(multipleElementState&1){s.addClass("checked").removeClass("unchecked").removeClass("mixed")}else{if(multipleElementStateMedi&1){s.addClass("mixed").removeClass("unchecked").removeClass("checked")}else{s.addClass("unchecked").removeClass("checked").removeClass("mixed")}}}else{$("#multipleDialog div.lockedMultiple").hide()}if(multipleEnableElementState&2){s=$("#multipleDialog div.blockedMultiple");if(multipleElementState&2){s.addClass("checked").removeClass("unchecked").removeClass("mixed")}else{if(multipleElementStateMedi&2){s.addClass("mixed").removeClass("unchecked").removeClass("checked")}else{s.addClass("unchecked").removeClass("checked").removeClass("mixed")}}}else{$("#multipleDialog div.blockedMultiple").hide()}if(multipleEnableElementState&4){s=$("#multipleDialog div.important1Multiple");if(multipleElementState&4){s.addClass("checked").removeClass("unchecked").removeClass("mixed")}else{if(multipleElementStateMedi&4){s.addClass("mixed").removeClass("unchecked").removeClass("checked")}else{s.addClass("unchecked").removeClass("checked").removeClass("mixed")}}}else{$("#multipleDialog div.important1Multiple").hide()}if(multipleEnableElementState&8){s=$("#multipleDialog div.important2Multiple");if(multipleElementState&8){s.addClass("checked").removeClass("unchecked").removeClass("mixed")}else{if(multipleElementStateMedi&8){s.addClass("mixed").removeClass("unchecked").removeClass("checked")}else{s.addClass("unchecked").removeClass("checked").removeClass("mixed")}}}else{$("#multipleDialog div.important2Multiple").hide()}if(multipleEnableElementState&16){s=$("#multipleDialog div.finalizedMultiple");if(multipleElementState&16){s.addClass("checked").removeClass("unchecked").removeClass("mixed")}else{if(multipleElementStateMedi&16){s.addClass("mixed").removeClass("unchecked").removeClass("checked")}else{s.addClass("unchecked").removeClass("checked").removeClass("mixed")}}}else{$("#multipleDialog div.finalizedMultiple").hide()}if(multipleEnableElementState&32){s=$("#multipleDialog div.approvedMultiple");if(multipleElementState&32){s.addClass("checked").removeClass("unchecked").removeClass("mixed")}else{if(multipleElementStateMedi&32){s.addClass("mixed").removeClass("unchecked").removeClass("checked")}else{s.addClass("unchecked").removeClass("checked").removeClass("mixed")}}}else{$("#multipleDialog div.approvedMultiple").hide()}if(multipleEnableElementState&64){s=$("#multipleDialog div.dismissedMultiple");if(multipleElementState&64){s.addClass("checked").removeClass("unchecked").removeClass("mixed")}else{if(multipleElementStateMedi&64){s.addClass("mixed").removeClass("unchecked").removeClass("checked")}else{s.addClass("unchecked").removeClass("checked").removeClass("mixed")}}}else{$("#multipleDialog div.dismissedMultiple").hide()}if(multipleEnableElementState&128){s=$("#multipleDialog div.archivedMultiple");if(multipleElementState&128){s.addClass("checked").removeClass("unchecked").removeClass("mixed")}else{if(multipleElementStateMedi&128){s.addClass("mixed").removeClass("unchecked").removeClass("checked")}else{s.addClass("unchecked").removeClass("checked").removeClass("mixed")}}}else{$("#multipleDialog div.archivedMultiple").hide()}if(multipleEnableElementState&256){s=$("#multipleDialog div.deprecatedMultiple");if(multipleElementState&256){s.addClass("checked").removeClass("unchecked").removeClass("mixed")}else{if(multipleElementStateMedi&256){s.addClass("mixed").removeClass("unchecked").removeClass("checked")}else{s.addClass("unchecked").removeClass("checked").removeClass("mixed")}}}else{$("#multipleDialog div.deprecatedMultiple").hide()}if(multipleEnableElementState&512){s=$("#multipleDialog div.hiddenMultiple");if(multipleElementState&512){s.addClass("checked").removeClass("unchecked").removeClass("mixed")}else{if(multipleElementStateMedi&512){s.addClass("mixed").removeClass("unchecked").removeClass("checked")}else{s.addClass("unchecked").removeClass("checked").removeClass("mixed")}}}else{$("#multipleDialog div.hiddenMultiple").hide()}}else{$("#multipleDialog div.elementStates").hide()}}else{if(switchSelectionModeIsMultiple){update("multipleDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/displayMultipleDialog/")}}}function clickFolderLineInMultipleSelectionMode(a){a.toggleClass("M");invalidModuleViewCache();update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/setMultipleSelectionFolder/"+a.attr("id").split("_")[1]+"/"+a.hasClass("M"))}function clickLineInMultipleSelectionMode(a){a.toggleClass("M");invalidModuleViewCache();elEnableState=$(".menu .elEnableState",a).html();elState=$(".menu .elState",a).html();update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/setMultipleSelection/"+a.attr("id").split("_")[1]+"/"+a.hasClass("M")+"/"+!a.hasClass("readOnly")+"/"+elEnableState+"/"+elState)}function selectAllMultipleSelect(){if($("#groupPanel li.selected").length==0){groupId=0}else{groupId=$("#groupPanel li.selected").attr("id").split("_")[1]}$("#moduleView .el:has(.mul), #moduleView .folder:has(.mul)").addClass("M");invalidModuleViewCache();update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/setMultipleSelectionFolder/"+groupId+"/true")}function deselectAllMultipleSelect(){if($("#groupPanel li.selected").length==0){groupId=0}else{groupId=$("#groupPanel li.selected").attr("id").split("_")[1]}$("#moduleView .M").removeClass("M");invalidModuleViewCache();update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/setMultipleSelectionFolder/"+groupId+"/false")}function switchSelectionMode(){setSelectionMode(!switchSelectionModeIsMultiple)}function displayAudioPlayer(a){flowplayer(a,"flowplayer-3.2.11.swf",{plugins:{controls:{backgroundColor:"#696969",fullscreen:false,height:26,autoHide:false}},clip:{type:"audio",autoPlay:false}})}function displayVideoPlayer(a){flowplayer(a,"flowplayer-3.2.11.swf",{plugins:{controls:{backgroundColor:"#696969",fullscreen:true,autoHide:false}},clip:{scaling:"no",type:"video",autoPlay:false}})}function previewUnzipForViewing(b,a){update("elementPreview/"+b+"/unzipForViewing/")}function previewHtml(b,a){$.blockUI({css:{top:"5%",left:"3%",border:"none",width:"90%",height:"90%"},message:"<div class='ui-corner-all' style='position:absolute; top:3%px; left:101%; font-style:bold;font-size:10px;padding:5px 10px 5px 10px;cursor:pointer; background-color:#fff;' onclick='$.unblockUI();' >X</div><iframe style='height:100%;width:100%;'src='"+SITE_ROOT+"useContext/"+crtContextId+EXEC_requestSeparator+b.replace(SITE_ROOT,"")+"/integrated?"+a+"' >Your browser does not support iframes.</iframe>"});$(".blockOverlay").unbind("click").click($.unblockUI)}function previewIframe(a){$.blockUI({css:{top:"5%",left:"3%",border:"none",width:"90%",height:"90%"},message:"<div class='ui-corner-all' style='position:absolute; top:3%px; left:101%; font-style:bold;font-size:10px;padding:5px 10px 5px 10px;cursor:pointer; background-color:#fff;' onclick='$.unblockUI();' >X</div><iframe style='height:100%;width:100%;'src='"+a+"' >Your browser does not support iframes.</iframe>"});$(".blockOverlay").unbind("click").click($.unblockUI)}function previewImage(b,a){$.blockUI({css:{top:"10%",left:"10%",border:"none",width:"80%",height:"80%",background:"none"},message:"<img style='max-height:100%;max-width:100%;vertical-align:middle;'src='"+SITE_ROOT+"useContext/"+crtContextId+EXEC_requestSeparator+b.replace(SITE_ROOT,"")+"?"+a+"' /><span class='ui-corner-all' style='position:absolute; font-style:bold;font-size:10px;padding:5px 10px 5px 10px;margin-left:5px;margin-top:0px;cursor:pointer; background-color:#fff;' onclick='$.unblockUI();' >X</span>"});$(".blockOverlay").unbind("click").click($.unblockUI)}function setListenersToFilters(){$("#workZone #searchBar input:first").change(function(){hideHelp();$(this).next().next().click()});$("#workZone #searchBar #goForSearch").click(function(){setVis("busyDiv",true);setVis("filteringBar",true);url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"filtersDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/simpleFilters";var a=new jQuery.ajax({type:"POST",url:encodeURI(url),success:parseUpdateResult,cache:false,data:{action:"check",__textSearch_value:$(this).prev().prev().val()},error:errorOnUpdate})});$("#workZone #searchBar #filtersButton").click(function(){update("filtersDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/filters")});$("#workZone #searchBar #removeFiltersButton").click(function(){$("#workZone #searchBar input:first").val("");update("filtersDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/removeFilters")})}function setFiltersButton(a){if(a){$("#filtersButton").removeClass("grayFont").addClass("R");$("#removeFiltersButton").removeClass("grayFont").addClass("R")}else{$("#removeFiltersButton").addClass("grayFont").removeClass("R");$("#filtersButton").addClass("grayFont").removeClass("R")}}function setListenersToCheckInOutFiles(j,g,e,n,l,a,k,b){if(j==""){j="mainDiv"}$("#"+e+".field .value .checkOutIn").click(function(o){$(this).after('<div class="SBB ui-corner-all" style="font-size:small;background-color:#fff;top:'+(parseInt($(this).position().top)+parseInt($(this).outerHeight())+8)+"px; left:"+$(this).position().left+'px; padding:5px; position:absolute;" ><div style="font-size:small;">'+a+'</div><textarea style="width:300px;margin-top:5px; margin-bottom:5px;height:100px;" class=""></textarea><br /><input type="button" name="ok" value="'+k+'" /><input type="button" name="cancel" value="'+b+'" /></div>');$(this).next().find(".elastic").autosize();$(this).next().find("input:input:last").click(function(){$(this).parent().hide().remove()});$(this).next().find("input:input:first").click(function(){$(this).parent().hide();if(j!="mainDiv"){$(this).closest(".ui-dialog").find(".ui-icon-closethick").click();url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/"+l+"/"+g+"/"+n}else{url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"mainDiv/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/"+l+"/"+g+"/"+n}var q=new jQuery.ajax({type:"POST",url:encodeURI(url),success:parseUpdateResult,cache:false,data:{message:$(this).parent().find("textarea").val(),elementDialogId:j},error:errorOnUpdate})});o.stopPropagation()});if($("#"+j+" div.T div.el_edit").length==0||$("#"+e+".readOnly").length>0){$("#"+e+".field .value .checkOutIn").hide()}}function setListenerToMultipleDialog(j,l,g,e,n,k,b,a){$("#multipleDialog").prev().css("background-color","#FFE694");$("#multipleDialog").css("min-height","0px");$("#multipleDialog").parent().find(".ui-dialog-title").append($("#multipleDialog .toolBar .selectAll")).append($("#multipleDialog .toolBar .resetAll")).append($("#multipleDialog .toolBar .viewAll"));$("#multipleDialog").next().hide();if(j){emb=$("#multipleDialog .multipleExternalAccess");$(emb).click(function(){$(this).parent().find(".externalAccessMenu").remove();externalAccessMenuHtml='<span class="externalAccessMenu SBB ui-corner-all" style="font-weight:normal;background-color:#fff;top:'+(parseInt($(emb).position().top)+parseInt($(emb).outerHeight())-50)+"px; left:"+($(emb).position().left-50)+'px; padding:5px; position:absolute;" ><span style="width:380px;font-weight:bold;">'+j+"</span><br />";if(l){externalAccessMenuHtml+='<input type="radio" name="MultipleExternalAccessEmailManage" value="externalAccessMenuViewLink" /><span style="cursor:pointer;margin-top:-2px;" onclick="$(this).prev().click();">'+l+"</span><br />"}if(g){externalAccessMenuHtml+='<input type="radio" name="MultipleExternalAccessEmailManage" value="externalAccessMenuEditLink" /><span style="cursor:pointer;margin-top:-2px;" onclick="$(this).prev().click();">'+g+"</span><br />"}externalAccessMenuHtml+='<input type="radio" name="MultipleExternalAccessEmailManage" value="externalAccessMenuStop" /><span style="cursor:pointer;margin-top:-2px;" onclick="$(this).prev().click();">'+e+'</span><br /><span class="endDate" style="display:none;cursor:pointer;"><br /><span class="endDate" style="cursor:pointer;margin-right:5px;" onclick="$(this).next().focus();">'+n+'</span><input class="endDate" type="text" name="externalAccessEndDate" value="" /><br /></span><br /><input type="button" name="ok" disabled="on" value="'+k+'" /><input type="button" name="cancel" value="'+b+'" /></span>';$(this).after(externalAccessMenuHtml);$(this).next().find('input[type="radio"]').click(function(){$(this).attr("checked",true);$(this).parent().find('input[type="button"]:input[name="ok"]').removeAttr("disabled");showEndDate=false;switch($(this).val()){case"externalAccessMenuValidationLink":$(this).parent().find("span.stopAccess").remove();showEndDate=false;break;case"externalAccessMenuViewLink":$(this).parent().find("span.stopAccess").remove();showEndDate=true;break;case"externalAccessMenuEditLink":$(this).parent().find("span.stopAccess").remove();showEndDate=true;break;case"externalAccessMenuStop":$(this).parent().find('input[type="button"]:input[name="ok"]').before('<span class="stopAccess">'+a+"<br /><br /></span>");showEndDate=false;break}if(showEndDate){$(this).parent().find("input.endDate").datepicker({dateFormat:"dd.mm.yy",changeYear:true,firstDay:1,constrainInput:true,showOn:"button"}).width("75").click(function(){$(this).datepicker("hide")});$(this).parent().find(".endDate").show()}else{$(this).parent().find(".endDate").hide()}});$(this).next().find('input[type="button"]:input[name="cancel"]').click(function(){$(this).parent().hide().remove()});$(this).next().find('input[type="button"]:input[name="ok"]').click(function(){$(this).parent().hide();url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"confirmationDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/manageEmails/multiple";var o=new jQuery.ajax({type:"POST",url:encodeURI(url),success:parseUpdateResult,cache:false,data:{externalAction:$(this).parent().find("input:radio:checked").val(),externalEndDate:$(this).parent().find("input.endDate").val()},error:errorOnUpdate});$(this).parent().remove()})})}$("#multipleDialog div.elementStates div.onlyWriteRights").click(function(o){state=$(this).attr("href").replace("#","");if($(this).hasClass("unchecked")){$(this).addClass("checked").removeClass("unchecked");update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/multiple/"+state+"/1")}else{if($(this).hasClass("checked")){$(this).addClass("unchecked").removeClass("checked");update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/multiple/"+state+"/0")}else{if($(this).hasClass("mixed")){$(this).addClass("checked").removeClass("mixed");update("NoAnswer/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/setElementState/multiple/"+state+"/1")}}}o.stopPropagation()})}function popup_params(b,u){var q=typeof window.screenX!="undefined"?window.screenX:window.screenLeft;var j=typeof window.screenY!="undefined"?window.screenY:window.screenTop;var l=typeof window.outerWidth!="undefined"?window.outerWidth:document.documentElement.clientWidth;var n=typeof window.outerHeight!="undefined"?window.outerHeight:(document.documentElement.clientHeight-22);var k=(q<0)?window.screen.width+q:q;var e=parseInt(k+((l-b)/2),10);var o=parseInt(j+((n-u)/2.5),10);return"width="+b+",height="+u+",left="+e+",top="+o+",location=0,menubar=0,status=0,toolbar=0,scrollbars=1,resizable=1"}function setListenerToPreviewListLines(e,b,a,j,l){var g=j;var o=e;var k=a;var n="";if(l){n=":gt("+(l)+")"}if(k=="query"){$("#"+o+" tr:not(.loadNextLines)"+n).click(function(A){var y=$(this).attr("id").split("$$");var u=y[3];var q=y[4];var z=y[5];window.open(SITE_ROOT+"#"+u+"/"+q+"/item/"+z);A.stopPropagation()})}else{$("#"+o+" tr:not(.loadNextLines)"+n).click(function(z){var u=$(this).attr("id").split("$$");var q=u[1];var A=u[2];var y=u[3];self.location="#"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/item/"+y;updateThroughCache("elementDialog",$(this).attr("href").replace("#",""),"elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/detail/"+y);z.stopPropagation()});$("#"+o+" tr:not(.loadNextLines)"+n+" td.edit").click(function(z){var u=$(this).parent().attr("id").split("$$");var q=u[1];var A=u[2];var y=u[3];update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/edit/"+y);z.stopPropagation()});$("#"+o+" tr:not(.loadNextLines)"+n+" td.delete").click(function(z){var u=$(this).parent().attr("id").split("$$");var q=u[1];var A=u[2];var y=u[3];update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/detail/"+y+"/__/confirmationDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/delete/"+y);z.stopPropagation()});$("#"+o+" tr:not(.loadNextLines)"+n+" td.restore").click(function(z){var u=$(this).parent().attr("id").split("$$");var q=u[1];var A=u[2];var y=u[3];update("confirmationDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/restore/"+y,false,{action:"check"});z.stopPropagation()})}$("#"+o+" tr:not(.loadNextLines)"+n+" td:not(.delete, .restore, .edit)>div").mouseenter(function(q){showHelp(this,$(this).html(),30,"fromLeft",500,Math.max(200,$(this).width()),60000)}).mouseleave(function(q){hideHelp()})}function setListenerToAddSubItem(b,a,e){$("#"+b+" .addNewSubElement").click(function(g){update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/subelement/add/"+a+"/"+e);g.stopPropagation()})}function setListenerToPreviewList(n,l,g,e,o,a){var k=o;var u=g;var b=n;var j=l;var q=a;$("#"+u).prev().find(".H:first").click(function(y){$("#"+u).toggle();y.stopPropagation()});setListenerToPreviewListLines(u,e,q,k,null);$("#"+u+" tr.loadNextLines").click(function(B){var z=parseInt($(".totalItems",this).text());var y=parseInt($(".pageSize",this).text());var C=parseInt($(".nbItem",this).text());url=crtWigiiNamespaceUrl+"/"+crtModuleName+"/getNextElementInPreviewList/"+b+"/"+j;url=SITE_ROOT+"useContext/"+crtContextId+EXEC_requestSeparator+url;setVis("busyDiv",true);var A=new jQuery.ajax({type:"POST",url:encodeURI(url),cache:false,data:{page:(C/y)+1,elementId:n,previewListId:u},success:function(D,E){setVis("busyDiv",false);data=D.split("_X_NBNEWROWS_X_");nbLoaded=parseInt(data[1]);nbTot=parseInt(data[2]);data=data[0];$("#"+u+" tr.loadNextLines").before(data);$("#"+u+" tr.loadNextLines .nbItem").html(C+nbLoaded);$("#"+u+" tr.loadNextLines .totalItems").html(nbTot);setListenerToPreviewListLines(u,e,q,k,C);if((C+nbLoaded)>=nbTot){$("#"+u+" tr.loadNextLines>td>font").hide()}else{$("#"+u+" tr.loadNextLines>td>font").show()}updateCurrentElementDialogViewCache()},error:errorOnUpdate});onUpdateErrorCounter=0;B.stopPropagation()});$("#"+u+" .refresh").click(function(y){$("#"+u+" tr:not(.loadNextLines, .header)").remove();$("#"+u+" tr.loadNextLines .nbItem").html(0);$("#"+u+" tr.loadNextLines").click();y.stopPropagation();return false});if(q=="query"){$("#"+u).prev().find(".linkTypeQuery").html("("+$("#"+u+" tr.loadNextLines .totalItems").text()+")")}}elementCalendar_currentEventSelected=null;elementCalendar_contextMenuIdElement=null;lastResizeOrDragRevertFunction=null;lastModifiedEvent=null;function setListenersToCalendar(groupUpId,groupUpLabel,crtView,crtYear,crtMonth,crtDay){$("#moduleView .calendar").fullCalendar({defaultView:crtView,year:crtYear,month:crtMonth,date:crtDay,header:{left:"today",center:"title",right:"month,agendaWeek prev,next"},timeFormat:{agenda:"H:mm{ - H:mm}","":"H:mm"},axisFormat:"H:mm",columnFormat:{month:"ddd",week:"ddd, dd MMM",day:"dddd, dd MMM"},titleFormat:{month:"MMMM yyyy",week:"dd [ MMM][ yyyy]{ - dd MMM yyyy}",day:"dddd, d MMM, yyyy"},lazyFetching:false,ignoreTimezone:false,height:$("#moduleView").height()-$("#moduleView .toolBar").height()-$("#moduleView #indicators").height(),firstDay:1,editable:calendarIsEditable,eventDragStart:function(event,jsEvent,ui,view){},eventResizeStart:function(event,jsEvent,ui,view){},eventDrop:function(event,dayDelta,minuteDelta,allDay,revertFunc){if($(this).hasClass("readOnly")){revertFunc()}else{start=event.start;end=event.end;if(end==null){end=start}lastResizeOrDragRevertFunction=revertFunc;update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/edit/"+event.id+"/"+start.getFullYear()+"-"+(start.getMonth()+1)+"-"+start.getDate()+" "+start.getHours()+":"+start.getMinutes()+"/"+end.getFullYear()+"-"+(end.getMonth()+1)+"-"+end.getDate()+" "+end.getHours()+":"+end.getMinutes()+"/"+allDay)}},eventResize:function(event,dayDelta,minuteDelta,revertFunc,jsEvent,ui,view){if((event.className+"").search("readOnly")!=-1){revertFunc()}else{start=event.start;end=event.end;allDay=event.allDay;if(end==null){end=start}lastResizeOrDragRevertFunction=revertFunc;update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/edit/"+event.id+"/"+start.getFullYear()+"-"+(start.getMonth()+1)+"-"+start.getDate()+" "+start.getHours()+":"+start.getMinutes()+"/"+end.getFullYear()+"-"+(end.getMonth()+1)+"-"+end.getDate()+" "+end.getHours()+":"+end.getMinutes()+"/"+allDay)}},eventAfterRender:function(event,element,view){colorize()},selectable:calendarIsEditable,selectHelper:true,select:function(start,end,allDay){update("elementDialog/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/element/add/"+$("#groupPanel li.selected").attr("id").split("_")[1]+"/"+start.getFullYear()+"-"+(start.getMonth()+1)+"-"+start.getDate()+" "+start.getHours()+":"+start.getMinutes()+"/"+end.getFullYear()+"-"+(end.getMonth()+1)+"-"+end.getDate()+" "+end.getHours()+":"+end.getMinutes()+"/"+allDay)},events:function(start,end,callback){crtView=$("#moduleView .calendar").fullCalendar("getView").name;crtDate=$("#moduleView .calendar").fullCalendar("getDate");d=new Date();timeZoneOffset=d.getTimezoneOffset()*60;crtDate="crtYear="+crtDate.getFullYear()+";crtMonth="+crtDate.getMonth()+";crtDay="+crtDate.getDate()+";";$.ajax({url:encodeURI(SITE_ROOT+"useContext/"+crtContextId+EXEC_requestSeparator+crtWigiiNamespaceUrl+"/"+crtModuleName+"/getCalendarEvents/"+Math.round(start.getTime()/1000)+"/"+Math.round(end.getTime()/1000)+"/"+crtView+"/"+crtDate+"/"+timeZoneOffset),dataType:"text",cache:false,error:errorOnUpdate,success:function(events){events=eval(events);if(events.length>0){firstEvent=events[0];if(!(firstEvent.end*1000>=start.getTime()&&firstEvent.start*1000<=end.getTime())){goDate=new Date(firstEvent.start*1000);$("#moduleView .calendar").fullCalendar("gotoDate",goDate.getFullYear(),goDate.getMonth(),goDate.getDate())}}callback(events)}})},eventRender:function(event,element){element.find(".fc-event-title").html(event.title)},loading:function(isLoading,view){setVis("busyDiv",isLoading)},eventClick:function(calEvent,jsEvent,view){clickEvent_elementCalendar(this,calEvent,jsEvent,view,crtWigiiNamespaceUrl,crtModuleName)},eventMouseover:function(calEvent,jsEvent,view){elementCalendar_contextMenuIdElement=calEvent.id}});if(groupUpId!==""){$("#moduleView .calendar .fc-header-left").append('<span class="folderUp L H" >'+groupUpLabel+"</span>");$("#moduleView .calendar span.folderUp").click(function(e){$("#groupPanel #group_"+groupUpId).click();e.stopPropagation()})}}function resize_calendar(){if($("#moduleView .calendar").length>0){$("#moduleView .calendar").fullCalendar("option","height",$("#groupPanel>ul").height()+$("#groupPanel .T").height()-$("#moduleView .toolBar").outerHeight()-$("#moduleView #indicators").outerHeight()+20)}}function selectEvent_elementCalendar(){if(switchSelectionModeIsMultiple){$("#moduleView .calendar div.over").addClass("M")}else{$("#moduleView .calendar .S").removeClass("S");$("#moduleView .calendar div.over").addClass("S")}elementCalendar_currentEventSelected=elementCalendar_contextMenuIdElement}function clickEvent_elementCalendar(e,k,b,a,j,g){if(switchSelectionModeIsMultiple){$(e).addClass("M")}else{$("#moduleView .calendar .S").removeClass("S");$(e).addClass("S")}elementCalendar_currentEventSelected=k.id;if(!switchSelectionModeIsMultiple){update("elementDialog/"+j+"/"+g+"/element/detail/"+elementCalendar_currentEventSelected)}}var crtBlogViewNbOfColumns=2;function resize_blog(){if($("#moduleView .blog").length>0){var a=$("#moduleView").width();var b=Math.floor((a-6-10)/crtBlogViewNbOfColumns);b=b-42-2;$("#moduleView>div.blog div.el:not(.max)").width(b);$("#moduleView>div.blog .dataBlog").height($(window).height()-$("#moduleView>div.blog .dataBlog").position().top-fb.outerHeight()-3)}}userFilterDefaultValue=null;user2FilterDefaultValue=null;groupFilterDefaultValue=null;userFilterLastValue=null;function adminFilterUser_input_focus(){v=$("#adminFilterUser input");if(v.hasClass("empty")){v.removeClass("empty").removeClass("grayFont").val("")}else{v.select()}userFilterLastValue=v.val()}adminFilterTextOnBlurTimeout=null;function adminFilterUser_input_blur(){v=$("#adminFilterUser input");changed=userFilterLastValue!=v.val();if(v.val()==""){v.addClass("empty").addClass("grayFont").val(userFilterDefaultValue)}if(changed){$("#adminFilterUser .select:eq(1) :input").val("1");adminFilterTextOnBlurTimeout=setTimeout(function(){$("#adminFilterUser div.goButton").click()},100)}}function adminFilterUser_select_change(a){s=$("#adminFilterUser select[name=__userFilterType]");p=$("#adminFilterUser select[name=__horizontalPagingText]");if(s.val()!="none"){s.removeClass("empty").removeClass("grayFont")}else{s.addClass("empty").addClass("grayFont")}if(a.target.name=="__userFilterType"){p.val("1")}$("#adminFilterUser div.goButton").click()}function adminFilterUser_goButton_click(b,a){clearTimeout(adminFilterTextOnBlurTimeout);setVis("busyDiv",true);url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"NoAnswer/"+b+"/"+a+"/setFilterUser/";inputTextFilter=$("#adminFilterUser input");if(inputTextFilter.hasClass("empty")){tempText=inputTextFilter.val();inputTextFilter.val("")}var e=new jQuery.ajax({url:encodeURI(url),data:$("#adminFilterUser :input").serialize(),type:"POST",success:parseUpdateResult,cache:false,error:errorOnUpdate});onUpdateErrorCounter=0;if(inputTextFilter.hasClass("empty")){inputTextFilter.val(tempText)}}function adminFilterUser_reset(b,a){t=$("#adminFilterUser input");s=$("#adminFilterUser select[name=__userFilterType]");p=$("#adminFilterUser select[name=__horizontalPagingText]");t.val(userFilterDefaultValue).addClass("empty").addClass("grayFont");s.val("none").addClass("empty").addClass("grayFont");p.val(1);adminFilterTextOnBlurTimeout=setTimeout(function(){$("#adminFilterUser div.goButton").click()},100)}function adminFilterUserType_disable(a){if(a){$('#adminFilterUser :input[name="__userFilterType"]').attr("disabled",true).addClass("disabled").css("background-color","#e6e6e6")}else{$('#adminFilterUser :input[name="__userFilterType"]').attr("disabled",false).removeClass("disabled").css("background-color","#fff")}}function adminFilterUserText_disable(a){if(a){$('#adminFilterUser :input[name="__userFilterText"]').attr("disabled",true).addClass("disabled").css("background-color","#e6e6e6")}else{$('#adminFilterUser :input[name="__userFilterText"]').attr("disabled",false).removeClass("disabled").css("background-color","#fff")}}function adminUserPaging_enable(a){p=$("#adminFilterUser select[name=__horizontalPagingText]");if(a){p.attr("disabled",false).removeClass("disabled").css("background-color","#fff").show()}else{p.val("1").attr("disabled",true).addClass("disabled").css("background-color","#e6e6e6").hide()}}function adminFilterUser_hide(a){if(a){$("#adminFilterUser").hide()}else{$("#adminFilterUser").show()}}function adminUserPaging_matchFor(a,e,g){select=$("#adminFilterUser select[name=__horizontalPagingText]");select.find("option").remove();for(var b=1;b<e+1;b++){if(a==b){select.append('<option class="blackFont" value="'+b+'" title="'+g+" "+b+'" selected="selected" >'+g+" "+b+"</option>")}else{select.append('<option class="blackFont" value="'+b+'" title="'+g+" "+b+'" >'+g+" "+b+"</option>")}}if(e>1){select.removeClass("grayFont").addClass("blackFont")}else{select.addClass("grayFont").removeClass("blackFont")}}user2FilterLastValue=null;function adminFilterUser2_input_focus(){v=$("#adminFilterUser2 input");if(v.hasClass("empty")){v.removeClass("empty").removeClass("grayFont").val("")}else{v.select()}user2FilterLastValue=v.val()}adminFilterTextOnBlurTimeout=null;function adminFilterUser2_input_blur(){v=$("#adminFilterUser2 input");changed=user2FilterLastValue!=v.val();if(v.val()==""){v.addClass("empty").addClass("grayFont").val(user2FilterDefaultValue)}if(changed){$("#adminFilterUser2 .select:eq(1) :input").val("1");adminFilterTextOnBlurTimeout=setTimeout(function(){$("#adminFilterUser2 div.goButton").click()},100)}}function adminFilterUser2_select_change(a){s=$("#adminFilterUser2 select[name=__user2FilterType]");p=$("#adminFilterUser2 select[name=__horizontalPagingText]");if(s.val()!="none"){s.removeClass("empty").removeClass("grayFont")}else{s.addClass("empty").addClass("grayFont")}if(a.target.name=="__user2FilterType"){p.val("1")}$("#adminFilterUser2 div.goButton").click()}function adminFilterUser2_goButton_click(b,a){clearTimeout(adminFilterTextOnBlurTimeout);setVis("busyDiv",true);url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"NoAnswer/"+b+"/"+a+"/setFilterUser2/";inputTextFilter=$("#adminFilterUser2 input");if(inputTextFilter.hasClass("empty")){tempText=inputTextFilter.val();inputTextFilter.val("")}var e=new jQuery.ajax({url:encodeURI(url),data:$("#adminFilterUser2 :input").serialize(),type:"POST",success:parseUpdateResult,cache:false,error:errorOnUpdate});onUpdateErrorCounter=0;if(inputTextFilter.hasClass("empty")){inputTextFilter.val(tempText)}}function adminFilterUser2_reset(b,a){t=$("#adminFilterUser2 input");s=$("#adminFilterUser2 select[name=__user2FilterType]");p=$("#adminFilterUser2 select[name=__horizontalPagingText]");t.val(user2FilterDefaultValue).addClass("empty").addClass("grayFont");s.val("none").addClass("empty").addClass("grayFont");p.val(1);adminFilterTextOnBlurTimeout=setTimeout(function(){$("#adminFilterUser2 div.goButton").click()},100)}function adminFilterUser2Type_disable(a){if(a){$('#adminFilterUser2 :input[name="__user2FilterType"]').attr("disabled",true).addClass("disabled").css("background-color","#e6e6e6")}else{$('#adminFilterUser2 :input[name="__user2FilterType"]').attr("disabled",false).removeClass("disabled").css("background-color","#fff")}}function adminFilterUser2Text_disable(a){if(a){$('#adminFilterUser2 :input[name="__user2FilterText"]').attr("disabled",true).addClass("disabled").css("background-color","#e6e6e6")}else{$('#adminFilterUser2 :input[name="__user2FilterText"]').attr("disabled",false).removeClass("disabled").css("background-color","#fff")}}function adminUser2Paging_enable(a){p=$("#adminFilterUser2 select[name=__horizontalPagingText]");if(a){p.attr("disabled",false).removeClass("disabled").css("background-color","#fff").show()}else{p.val("1").attr("disabled",true).addClass("disabled").css("background-color","#e6e6e6").hide()}}function adminFilterUser2_hide(a){if(a){$("#adminFilterUser2").hide()}else{$("#adminFilterUser2").show()}}function adminUser2Paging_matchFor(a,e,g){select=$("#adminFilterUser2 select[name=__horizontalPagingText]");select.find("option").remove();for(var b=1;b<e+1;b++){if(a==b){select.append('<option class="blackFont" value="'+b+'" title="'+g+" "+b+'" selected="selected" >'+g+" "+b+"</option>")}else{select.append('<option class="blackFont" value="'+b+'" title="'+g+" "+b+'" >'+g+" "+b+"</option>")}}if(e>1){select.removeClass("grayFont").addClass("blackFont")}else{select.addClass("grayFont").removeClass("blackFont")}}groupFilterLastValue=null;function adminFilterGroup_input_focus(){v=$("#adminFilterGroup input");if(v.hasClass("empty")){v.removeClass("empty").removeClass("grayFont").val("")}else{v.select()}groupFilterLastValue=v.val()}adminFilterTextOnBlurTimeout=null;function adminFilterGroup_input_blur(){v=$("#adminFilterGroup input");changed=groupFilterLastValue!=v.val();if(v.val()==""){v.addClass("empty").addClass("grayFont").val(groupFilterDefaultValue)}if(changed){adminFilterTextOnBlurTimeout=setTimeout(function(){$("#adminFilterGroup div.goButton").click()},100)}}function adminFilterGroup_goButton_click(b,a){clearTimeout(adminFilterTextOnBlurTimeout);setVis("busyDiv",true);url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"NoAnswer/"+b+"/"+a+"/setFilterGroup/";inputTextFilter=$("#adminFilterGroup input");if(inputTextFilter.hasClass("empty")){tempText=inputTextFilter.val();inputTextFilter.val("")}var e=new jQuery.ajax({url:encodeURI(url),data:$("#adminFilterGroup :input").serialize(),type:"POST",success:parseUpdateResult,cache:false,error:errorOnUpdate});onUpdateErrorCounter=0;if(inputTextFilter.hasClass("empty")){inputTextFilter.val(tempText)}}function adminFilterGroup_reset(b,a){t=$("#adminFilterGroup input");t.val(groupFilterDefaultValue).addClass("empty").addClass("grayFont");adminFilterTextOnBlurTimeout=setTimeout(function(){$("#adminFilterGroup div.goButton").click()},100)}function adminFilterGroupText_disable(a){if(a){$('#adminFilterGroup :input[name="__groupFilterText"]').attr("disabled",true).addClass("disabled").css("background-color","#e6e6e6")}else{$('#adminFilterGroup :input[name="__groupFilterText"]').attr("disabled",false).removeClass("disabled").css("background-color","#fff")}}function adminFilterGroup_hide(a){if(a){$("#adminFilterGroup").hide()}else{$("#adminFilterGroup").show()}}function adminButton_click(B,y,g,A,e,o,l,G,C,k,q,n,J,u,M,a,L,O,I,F,E,K,H,b,j,D,P,z){if(A=="adminGroup"){userFilterDefaultValue=null;user2FilterDefaultValue=null;groupFilterDefaultValue=e}else{if(A=="adminUser"){userFilterDefaultValue=o;user2FilterDefaultValue=null;groupFilterDefaultValue=null}else{if(A=="adminRole"){userFilterDefaultValue=l;user2FilterDefaultValue=null;groupFilterDefaultValue=null}else{if(A=="adminGroupUser"){userFilterDefaultValue=J;user2FilterDefaultValue=null;groupFilterDefaultValue=q}else{if(A=="adminUserRole"){userFilterDefaultValue=a;user2FilterDefaultValue=O;groupFilterDefaultValue=null}else{if(A=="adminUserUser"){userFilterDefaultValue=E;user2FilterDefaultValue=H;groupFilterDefaultValue=null}else{if(A=="adminUserAdmin"){userFilterDefaultValue=o;user2FilterDefaultValue=null;groupFilterDefaultValue=null}}}}}}}if(!(B&&(A=="adminGroupUser"||A=="adminUserRole"||A=="adminUserUser"))){i1=$("#adminFilterGroup input:first");i2=$("#adminFilterUser input:first");i3=$("#adminFilterUser2 input:first");if(i1.hasClass("empty")){i1.val(groupFilterDefaultValue)}if(i2.hasClass("empty")){i2.val(userFilterDefaultValue)}if(i3.hasClass("empty")){i3.val(user2FilterDefaultValue)}}if(B&&(A=="adminGroupUser"||A=="adminUserRole"||A=="adminUserUser")){$("#elementDialog").html("");$("#elementDialog").append('<div class="introduction" style="width:400px;margin-bottom:10px; margin-top:8px;"><img src="'+SITE_ROOT+'images/icones/26px/magnifier.png" /><div style="margin-left:5px;padding-top:7px;font-size:14px;font-weight:bold;">'+P+'</div><div class="clear"></div><div style="margin-top:5px;">'+z+"</div></div>").append('<div class="clear"></div><hr class="SBB" style="margin:20px;" />');$("#elementDialog").append('<div class="filters"></div>');if(A=="adminGroupUser"){$("#elementDialog div.filters").append('<div class="label">'+q+"</div>").append($("#adminFilterGroup input").clone()).append('<div class="clear"></div>').append('<div class="label">'+J+"</div>").append($("#adminFilterUser input").clone()).append('<div class="clear"></div>').append('<div class="label"></div>').append($("#adminFilterUser select:first").clone()).append('<div class="clear"></div>');$("#elementDialog div.filters input:first").blur(function(){if($(this).val()==""||$(this).hasClass("empty")){$(this).addClass("empty").addClass("grayFont").val(n)}}).focus(function(){if($(this).hasClass("empty")){$(this).val("").removeClass("empty").removeClass("grayFont")}});$("#elementDialog div.filters input:last").blur(function(){if($(this).val()==""||$(this).hasClass("empty")){$(this).addClass("empty").addClass("grayFont").val(u)}}).focus(function(){if($(this).hasClass("empty")){$(this).val("").removeClass("empty").removeClass("grayFont")}});$("#elementDialog div.introduction").before('<div class="screenshot"><img src="'+SITE_ROOT+M+'" /></div>');$("#elementDialog div.filters select").removeAttr("disabled").removeClass("disabled").removeClass("grayFont").css("background-color","transparent")}else{if(A=="adminUserRole"){$("#elementDialog div.filters").append('<div class="label">'+a+"</div>").append($("#adminFilterUser input").clone()).append('<div class="clear"></div>').append('<div class="label"></div>').append($("#adminFilterUser select:first").clone()).append('<div class="clear"></div>').append('<div class="label">'+O+"</div>").append($("#adminFilterUser2 input").clone()).append('<div class="clear"></div>').append('<div class="label"></div>').append($("#adminFilterUser2 select:first").clone()).append('<div class="clear"></div>');$("#elementDialog div.filters input:first").blur(function(){if($(this).val()==""||$(this).hasClass("empty")){$(this).addClass("empty").addClass("grayFont").val(L)}}).focus(function(){if($(this).hasClass("empty")){$(this).val("").removeClass("empty").removeClass("grayFont")}});$("#elementDialog div.filters input:last").blur(function(){if($(this).val()==""||$(this).hasClass("empty")){$(this).addClass("empty").addClass("grayFont").val(I)}}).focus(function(){if($(this).hasClass("empty")){$(this).val("").removeClass("empty").removeClass("grayFont")}});$("#elementDialog div.introduction").before('<div class="screenshot"><img src="'+SITE_ROOT+F+'" /></div>');$("#elementDialog div.filters select").hide()}else{if(A=="adminUserUser"){$("#elementDialog div.filters").append('<div class="label">'+E+"</div>").append($("#adminFilterUser input").clone()).append('<div class="clear"></div>').append('<div class="label"></div>').append($("#adminFilterUser select:first").clone()).append('<div class="clear"></div>').append('<div class="label">'+H+"</div>").append($("#adminFilterUser2 input").clone()).append('<div class="clear"></div>').append('<div class="label"></div>').append($("#adminFilterUser2 select:first").clone()).append('<div class="clear"></div>');$("#elementDialog div.filters input:first").blur(function(){if($(this).val()==""||$(this).hasClass("empty")){$(this).addClass("empty").addClass("grayFont").val(K)}}).focus(function(){if($(this).hasClass("empty")){$(this).val("").removeClass("empty").removeClass("grayFont")}});$("#elementDialog div.filters input:last").blur(function(){if($(this).val()==""||$(this).hasClass("empty")){$(this).addClass("empty").addClass("grayFont").val(b)}}).focus(function(){if($(this).hasClass("empty")){$(this).val("").removeClass("empty").removeClass("grayFont")}});$("#elementDialog div.introduction").before('<div class="screenshot"><img src="'+SITE_ROOT+j+'" /></div>');$("#elementDialog div.filters select").removeAttr("disabled").removeClass("disabled").removeClass("grayFont").css("background-color","transparent")}}}$("#elementDialog div:not(.clear, .filters), #elementDialog img").css("float","left");$("#elementDialog div.label").css("white-space","nowrap").css("margin","5px 5px 2px 5px");$("#elementDialog div.screenshot").css("margin","5px 15px 0px 5px");$("#elementDialog input").css("float","left").width(280).css("padding","1px").css("margin","5px 5px 2px 5px");$("#elementDialog select").css("float","left").width(160).css("margin","5px 5px 2px 5px");$("#elementDialog :input").keydown(function(Q){if(Q.keyCode==13){$("#elementDialog").closest(".ui-dialog").children(".ui-dialog-buttonpane").find("button.ok").click()}else{if(Q.keyCode==27){$("#elementDialog").closest(".ui-dialog").children(".ui-dialog-buttonpane").find("button.cancel").click()}}Q.stopPropagation()});var N={};N[G]={click:function(){setVis("busyDiv",true);url=SITE_ROOT+"Update/"+crtContextId+EXEC_requestSeparator+"NoAnswer/"+y+"/"+g+"/setFilterFor"+A.replace("admin","");$("#elementDialog input.empty").val("");var Q=new jQuery.ajax({url:encodeURI(url),data:$("#elementDialog :input").serialize(),type:"POST",success:parseUpdateResult,cache:false,error:errorOnUpdate});onUpdateErrorCounter=0;$("#elementDialog").html("").dialog("destroy")},"class":"ok",text:G};N[k]={click:function(Q){$("#elementDialog input").val("");$("#elementDialog select").val("");$(Q.target).prev().click()},"class":"reset",text:k};N[C]={click:function(Q){$(this).dialog("destroy")},"class":"cancel",text:C};if($("#elementDialog").is(":ui-dialog")){$("#elementDialog").dialog("destroy")}$("#elementDialog").dialog({title:D+$("#"+A).text(),width:560,position:{my:"center",at:"center"},buttons:N,modal:true,dragStop:function(Q,R){},beforeClose:function(){actOnCloseDialog("elementDialog");$(this).dialog("destroy")},closeOnEscape:false,resizable:false});$("#elementDialog").next().find("button.ok").focus();$("#elementDialog input").each(function(){$(this).blur()});tempMax=117;$("#elementDialog div.label").each(function(){tempMax=Math.max(tempMax,$(this).width())});$("#elementDialog div.label").width(tempMax);$("#elementDialog input").width(550-50-tempMax);return}if($("#"+A).parent().attr("id")=="adminAccessMenu"){$("#"+A).parent().parent().find(".S").removeClass("S");$("#adminAccess").addClass("S")}else{$("#"+A).parent().find(".S").removeClass("S")}$("#"+A).addClass("S");adminFilterUser_hide(A=="adminGroup"||A=="adminModuleEditor");adminFilterUser2_hide(A=="adminGroup"||A=="adminModuleEditor"||A=="adminUser"||A=="adminRole"||A=="adminGroupUser"||A=="adminUserAdmin");adminFilterGroup_hide(A=="adminUser"||A=="adminRole"||A=="adminModuleEditor"||A=="adminUserRole"||A=="adminUserUser"||A=="adminUserAdmin");adminFilterUserType_disable(A=="adminUser"||A=="adminRole");adminFilterUser2Type_disable(A=="adminUserRole");adminUserPaging_enable(A=="adminGroupUser");adminUser2Paging_enable(A=="adminUserRole"||A=="adminUserUser");$("#adminFilterUser select[name=__horizontalPagingText]").val("1");$("#adminFilterUser2 select[name=__horizontalPagingText]").val("1");if(B){update("NoAnswer/"+y+"/"+g+"/switchAdminTo/"+A)}}function matrixResize(a){m=$("#"+a);if(m.length==0){return}totalW=m.width();totalH=$(window).height()-m.offset().top-$("#footerBar").outerHeight()-2;corn=$(".MatrixCorner",m);mR=$(".MatrixRowHeaders",m);mC=$(".MatrixColHeaders",m);mI=$(".MatrixItems",m);sL=$(".ScrollLeftZone",m);sR=$(".ScrollRightZone",m);sU=$(".ScrollUpZone",m);sD=$(".ScrollDownZone",m);mR.css("max-width",m.width()*0.5);if(jQuery.browser.msie&&version<=7){corn.width(mR.width()+10);corn.height(mC.height()+5)}else{corn.width(mR.width()+5);corn.height(mC.height()+5)}mC.width(totalW-corn.outerWidth()-10);mR.css("margin-bottom","30px");if(jQuery.browser.msie&&version<=7){mI.width(mC.width());mI.height(mR.height()+5)}else{mI.width(mC.width());mI.height(mR.height())}if(jQuery.browser.msie&&version<=7){sR.height(mC.height()+5+mI.height()+10)}else{sR.height(mC.height()+mI.height()+5)}sR.css("top",mC.offset().top+5);sR.css("left",mC.offset().left+mC.outerWidth()-sR.outerWidth()-5);if(jQuery.browser.msie&&version<=7){sL.height(mC.height()+5+mI.height()+10)}else{sL.height(mC.height()+mI.height()+5)}sL.css("top",sR.css("top"));sL.css("left",mC.offset().left+5);if(jQuery.browser.msie&&version<=7){sU.width(mR.width()+5+mI.width()+10)}else{sU.width(mR.width()+mI.width()+5)}sU.css("top",mR.offset().top);sU.css("left",5);if(jQuery.browser.msie&&version<=7){sD.width(mR.width()+5+mI.width()+10)}else{sD.width(mR.width()+mI.width()+5)}sD.css("top",mR.offset().top+mR.outerHeight()-sD.outerHeight()-5);sD.css("left",sU.css("left"));showScrollZones(a)}function scrollLeft(a){$("#"+a+" .MatrixColHeaders table, #"+a+" .MatrixItems table").animate({marginLeft:0},-parseInt($("#"+a+" .MatrixColHeaders table").css("marginLeft").replace("px",""))*5,"swing",function(){stopScroll(a)})}function goLeftScroll(a){$("#"+a+" .MatrixColHeaders table, #"+a+" .MatrixItems table").stop().css("marginLeft",0);showScrollZones(a)}function scrollRight(a){max=$("#"+a+" .MatrixColHeaders table").width()-$("#"+a+" .MatrixColHeaders").width()+100;$("#"+a+" .MatrixColHeaders table, #"+a+" .MatrixItems table").animate({marginLeft:-max},max*5,"swing",function(){stopScroll(a)})}function goRightScroll(a){$("#"+a+" .MatrixColHeaders table, #"+a+" .MatrixItems table").stop();max=$("#"+a+" .MatrixColHeaders table").width()-$("#"+a+" .MatrixColHeaders").width()+100;$("#"+a+" .MatrixColHeaders table, #"+a+" .MatrixItems table").css("marginLeft",-max);showScrollZones(a)}function scrollUp(a){$("#"+a+" .MatrixRowHeaders div:first, #"+a+" .MatrixItems table").animate({marginTop:0},-parseInt($("#"+a+" .MatrixRowHeaders div:first").css("marginTop").replace("px",""))*10,"swing",function(){stopScroll(a)})}function goUpScroll(a){$("#"+a+" .MatrixRowHeaders div:first, #"+a+" .MatrixItems table").stop();$("#"+a+" .MatrixRowHeaders div:first, #"+a+" .MatrixItems table").css("marginTop",0);showScrollZones(a)}function scrollDown(a){max=-$("#"+a+" .MatrixRowHeaders div:first").offset().top+$("#"+a+" .MatrixRowHeaders div:last").offset().top+$("#"+a+" .MatrixRowHeaders div:last").outerHeight()-$("#"+a+" .MatrixRowHeaders").height()+20;$("#"+a+" .MatrixRowHeaders div:first, #"+a+" .MatrixItems table").animate({marginTop:-max},max*10,"swing",function(){stopScroll(a)})}function goDownScroll(a){$("#"+a+" .MatrixRowHeaders div:first, #"+a+" .MatrixItems table").stop();max=-$("#"+a+" .MatrixRowHeaders div:first").offset().top+$("#"+a+" .MatrixRowHeaders div:last").offset().top+$("#"+a+" .MatrixRowHeaders div:last").outerHeight()-$("#"+a+" .MatrixRowHeaders").height()+20;$("#"+a+" .MatrixRowHeaders div:first, #"+a+" .MatrixItems table").css("marginTop",-max);showScrollZones(a)}function stopScroll(a){$("#"+a+" .MatrixColHeaders table, #"+a+" .MatrixRowHeaders div:first, #"+a+" .MatrixItems table").stop();showScrollZones(a)}function showScrollZones(a){m=$("#"+a);if(m.length==0){return}mR=$(".MatrixRowHeaders div:first",m);mC=$(".MatrixColHeaders table",m);mI=$(".MatrixItems table",m);sL=$(".ScrollLeftZone",m);sR=$(".ScrollRightZone",m);sU=$(".ScrollUpZone",m);sD=$(".ScrollDownZone",m);sU.hide();if(mC.css("marginLeft")=="0px"){sL.hide();mI.css("marginLeft",0)}else{sL.show()}sD.hide();if($("#"+a+" .MatrixColHeaders").width()-$("#"+a+" .MatrixColHeaders table").width()-50<parseInt(mC.css("marginLeft").replace("px",""))){sR.show()}else{sR.hide()}}function unHighlight(a){if(typeof(a)=="string"){myObj=$("#"+a)}else{myObj=$(this)}if(!myObj.hasClass("Matrix")){myObj=myObj.parents(".Matrix")}myObj.find(".highlight, .active").removeClass("active").removeClass("highlight").removeClass("highlightV")}function highlightFromRowHeader(a){if(typeof(a)=="string"){obj=$("#"+a)}else{obj=$(this)}unHighlight(a);idRow=obj.attr("id");idM=obj.parents(".Matrix").attr("id");$("#"+idRow+", #"+idM+" ."+idRow+" td>div").addClass("highlight")}function highlightFromColHeader(){idCol=$(this).attr("id");unHighlight(idCol);idM=$(this).parents(".Matrix").attr("id");$("#"+idCol+", #"+idM+" ."+idCol+">div").addClass("highlight").addClass("highlightV");$("#"+idCol).parents("td").addClass("highlight").addClass("highlightV")}function highlightFromMatrixItem(){idCol=$(this).parent().attr("class");unHighlight(idCol);idRow=$(this).parent().parent().attr("class");idM=$(this).parents(".Matrix").attr("id");$(this).addClass("active");$("#"+idRow+", #"+idM+" ."+idRow+" td>div").addClass("highlight");$("#"+idCol+", #"+idCol+", #"+idM+" ."+idCol+">div").addClass("highlight").addClass("highlightV");$("#"+idCol).parents("td").addClass("highlight").addClass("highlightV")}valueContextMenu_crtRow=null;valueContextMenu_crtCol=null;function showValueContextMenu(g,b,a){valueContextMenu_crtCol=$(b).parent().attr("class");valueContextMenu_crtRow=$(b).parent().parent().attr("class");if($("#"+valueContextMenu_crtCol+"").hasClass("noRights")){return}if($("#"+valueContextMenu_crtRow+"").hasClass("RR")){$("#"+a+" .ugr_").show();$("#"+a+" .ugr_r").show();$("#"+a+" .ugr_s").hide();$("#"+a+" .ugr_w").hide();$("#"+a+" .ugr_x").hide()}if($("#"+valueContextMenu_crtRow+"").hasClass("RS")){$("#"+a+" .ugr_").show();$("#"+a+" .ugr_r").show();$("#"+a+" .ugr_s").show();$("#"+a+" .ugr_w").hide();$("#"+a+" .ugr_x").hide()}if($("#"+valueContextMenu_crtRow+"").hasClass("RW")){$("#"+a+" .ugr_").show();$("#"+a+" .ugr_r").show();$("#"+a+" .ugr_s").show();$("#"+a+" .ugr_w").show();$("#"+a+" .ugr_x").hide()}if($("#"+valueContextMenu_crtRow+"").hasClass("RX")){$("#"+a+" .ugr_").show();$("#"+a+" .ugr_r").show();$("#"+a+" .ugr_s").show();$("#"+a+" .ugr_w").show();$("#"+a+" .ugr_x").show()}b=$(b);cm=$("#"+a);positionElementOnMouse(cm,g,"center",b,-50);cm.show();b.unbind("mouseleave")}function hideValueContextMenu(g,b,a){$("#"+a).hide()}function clickOnRightInGroupUserMatrixValueContextMenu(g,e,a,b){g=$(g);right="none";if(g.hasClass("ugr_r")){right="r"}if(g.hasClass("ugr_s")){right="s"}if(g.hasClass("ugr_w")){right="w"}if(g.hasClass("ugr_x")){right="x"}if($("#"+valueContextMenu_crtCol+"").hasClass("noRights")){return}obj=$("tr."+valueContextMenu_crtRow+" td."+valueContextMenu_crtCol+">div>div");tempRight=right;if(tempRight=="none"){tempRight=""}obj.removeClass().addClass("ugr_"+tempRight);if(right=="none"){obj.text("")}else{obj.text(g.text())}update("NoAnswer/"+e+"/"+a+"/GroupUserMatrix/setUgr/"+b+"/"+right+"/"+valueContextMenu_crtRow+"/"+valueContextMenu_crtCol)}standardContextMenu_crtHeader=null;function showStandardContextMenu(g,b,a){standardContextMenu_crtHeader=$(b).attr("id");b=$(b);cm=$("#"+a);positionElementOnMouse(cm,g,"right",b);cm.show();b.unbind("mouseleave")}function hideStandardContextMenu(g,b,a){$("#"+a).hide()}function clickOnAcitivityInGroupUserMatrixGroupContextMenu(g,e,a,b){g=$(g);activities=["groupEdit","groupDelete","groupEmailNotification","groupPortal","groupHtmlContent","groupXmlPublish","groupSubscription"];for(i in activities){if(g.hasClass(activities[i])){act=activities[i];break}}update("NoAnswer/"+e+"/"+a+"/GroupUserMatrix/doGroupActivity/"+act+"/"+b+"/"+standardContextMenu_crtHeader)}function clickOnAcitivityInGroupUserMatrixUserContextMenu(g,e,a,b){g=$(g);activities=["userEdit","userDelete"];for(i in activities){if(g.hasClass(activities[i])){act=activities[i];break}}update("NoAnswer/"+e+"/"+a+"/GroupUserMatrix/doUserActivity/"+act+"/"+b+"/"+standardContextMenu_crtHeader)}function clickOnAcitivityInUserAdminMatrixUserContextMenu(g,e,a,b){g=$(g);activities=["userEdit","userDelete"];for(i in activities){if(g.hasClass(activities[i])){act=activities[i];break}}update("NoAnswer/"+e+"/"+a+"/UserAdminMatrix/doUserActivity/"+act+"/"+b+"/"+standardContextMenu_crtHeader)}function clickOnAcitivityInUserAdminMatrixItems(e,g,a,b){crtCol=$(e).parent().parent().attr("class");crtRow=$(e).parent().parent().parent().attr("class");checked=$(e).find("input").get(0).checked;update("NoAnswer/"+g+"/"+a+"/UserAdminMatrix/setAdminLevel/"+b+"/"+crtRow+"/"+crtCol+"/"+checked)}function clickOnAcitivityInUserUserMatrixUserContextMenu(g,e,a,b){g=$(g);activities=["userEdit","userDelete"];for(i in activities){if(g.hasClass(activities[i])){act=activities[i];break}}update("NoAnswer/"+e+"/"+a+"/UserUserMatrix/doUserActivity/"+act+"/"+b+"/"+standardContextMenu_crtHeader)}function clickOnAcitivityInUserUserMatrixItems(e,g,a,b){crtCol=$(e).parent().attr("class");crtRow=$(e).parent().parent().attr("class");checked=$(e).find("input").get(0).checked;update("NoAnswer/"+g+"/"+a+"/UserUserMatrix/setUserUser/"+b+"/"+crtRow+"/"+crtCol+"/"+checked)}function clickOnAcitivityInUserRoleMatrixItems(e,g,a,b){crtCol=$(e).parent().attr("class");crtRow=$(e).parent().parent().attr("class");checked=$(e).find("input").get(0).checked;update("NoAnswer/"+g+"/"+a+"/UserRoleMatrix/setUserRole/"+b+"/"+crtRow+"/"+crtCol+"/"+checked)}adminGroup_crtSelectedGroup=null;adminUser_crtSelectedUser=null;adminModuleEditor_crtSelectedModuleConfig=null;function adminUserDetailOnResize(){if($("#adminUser_list").length>0){if(browserName=="msie"&&version=="8"){corr=25}else{corr=5}$("#adminUser_detail").width($(window).width()-$("#adminUser_list").outerWidth()-corr);$("#adminUser_list").css("height",$(window).height()-$("#adminUser_list").position().top-$("#footerBar").outerHeight()-5);$("#elementDetail").width($("#adminUser_detail").width()-60-5);$("#elementDetail").css("height",$(window).height()-$("#elementDetail").position().top-$("#footerBar").outerHeight()-10);if($("#adminUser_list div.userHeader.S").length>0){$("#adminUser_list").scrollTop($("#adminUser_list div.userHeader.S").position().top+2+$("#adminUser_list").position().top+$("#adminUser_list").scrollTop()-$("#adminUser_list").height())}}}function adminGroupDetailOnClickGroupTree(){if(browserName=="msie"&&version=="8"){corr=25}else{corr=5}$("#adminGroup_detail").width($(window).width()-$("#adminGroup_list").outerWidth()-corr);$("#elementDetail").width($("#adminGroup_detail").width()-60-5);$("#elementDetail").css("height",$(window).height()-$("#elementDetail").position().top-$("#footerBar").outerHeight()-5)}function adminGroupOnResize(){if($("#adminGroup_list").length>0){if(browserName=="msie"&&version=="8"){corr=25}else{corr=5}adminGroupDetailOnClickGroupTree();$("#adminGroup_list>ul").css("height",$(window).height()-$("#adminGroup_list").position().top-$("#footerBar").outerHeight()-20)}}function adminModuleEditorDetailOnResize(){}function setListenersToAdminGroup(){if($("#keepNotifyButton").length){$("#keepNotifyButton").click(openKeepNotifiedDialog)}setListenersToGroupTree("#adminGroup_list");$("#adminGroup_list li span.folder").click(function(){adminGroupDetailOnClickGroupTree()});$("#adminGroup_list li").click(function(a){adminGroupDetailOnClickGroupTree();adminGroup_crtSelectedGroup=$(this).attr("id").split("_")[1];$("#adminGroup_detail .commands div").removeClass("disabled");$("#adminGroup_detail .commands div.write, #adminGroup_detail .commands div.admin").addClass("disabled");if($(this).hasClass("write")){$("#adminGroup_detail .commands div.write").removeClass("disabled")}if($(this).hasClass("admin")){$("#adminGroup_detail .commands div.admin").removeClass("disabled")}if($(this).parent().attr("id")=="group_0"){$("#adminGroup_detail .commands div.level1").addClass("disabled")}self.location="#"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/"+crtWorkingModuleName+"/folder/"+adminGroup_crtSelectedGroup;update("elementDetail/"+crtWigiiNamespaceUrl+"/"+crtModuleName+"/groupDetail/"+crtWorkingModuleName+"/"+adminGroup_crtSelectedGroup);a.stopPropagation()})}function setListenerToUserRoleAllocationFilter(){$("#UserRoleAllocationFilterInput").keydown(function(a){if(a.keyCode==13){$(this).next().click()}}).focus(function(){$(this).select()});$("#UserRoleAllocationFilterInput").next().click(function(){var b=$(this).prev().val();if(b==""||b==null){$("#adminRole_list div.userHeader").show();if($("#adminRole_list .S:first").length>0){$("#adminRole_list").scrollTop($("#adminRole_list .S:first").get()[0].offsetTop-$("#adminRole_list").get()[0].offsetTop-50)}}else{$("#adminRole_list div.userHeader").hide();b=b.replace(/\"/g,"");if(b.search(/[,;|]/i)!=-1){b=b.replace(/\|\|/g,"|");b=b.replace(/,/g,"|");b=b.replace(/;/g,"|")}else{b=b.replace(/ /g,"|")}b=b.split("|");var a;for(a in b){$('#adminRole_list div.userHeader:icontains("'+b[a].trim()+'")').show()}}})}$(window).resize(adminModuleEditorDetailOnResize);$(window).resize(adminGroupOnResize);$(window).resize(adminUserDetailOnResize);